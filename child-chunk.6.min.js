(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{661:function(e,S,t){"use strict";!function(e){var i=t(662),o=t(663),s=t(664);function _(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(_()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(e=null===e?new Buffer(t):e).length=t,e}function Buffer(e,t,_){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,_);if("number"!=typeof e)return a(this,e,t,_);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}function a(e,t,_,a){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,_,a){if(t.byteLength,_<0||t.byteLength<_)throw new RangeError("'offset' is out of bounds");if(t.byteLength<_+(a||0))throw new RangeError("'length' is out of bounds");return t=void 0===_&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,_):new Uint8Array(t,_,a),Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=h(e,t),e}(e,t,_,a):"string"==typeof t?function(e,t,_){if(!Buffer.isEncoding(_="string"!=typeof _||""===_?"utf8":_))throw new TypeError('"encoding" must be a valid string encoding');var a=0|p(t,_),_=(e=r(e,a)).write(t,_);return _!==a?e.slice(0,_):e}(e,t,_):function(e,t){if(Buffer.isBuffer(t)){var _=0|c(t.length);return 0===(e=r(e,_)).length||t.copy(e,0,0,_),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(_=t.length)!=_?r(e,0):h(e,t);if("Buffer"===t.type&&s(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function n(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(n(t),e=r(e,t<0?0:0|c(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var _=0;_<t;++_)e[_]=0;return e}function h(e,t){var _=t.length<0?0:0|c(t.length);e=r(e,_);for(var a=0;a<_;a+=1)e[a]=255&t[a];return e}function c(e){if(e>=_())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_().toString(16)+" bytes");return 0|e}function p(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var _=(e="string"!=typeof e?""+e:e).length;if(0===_)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":case void 0:return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*_;case"hex":return _>>>1;case"base64":return E(e).length;default:if(a)return D(e).length;t=(""+t).toLowerCase(),a=!0}}function d(e,t,_){var a=e[t];e[t]=e[_],e[_]=a}function f(e,t,_,a,r){if(0===e.length)return-1;if("string"==typeof _?(a=_,_=0):2147483647<_?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,(_=(_=isNaN(_)?r?0:e.length-1:_)<0?e.length+_:_)>=e.length){if(r)return-1;_=e.length-1}else if(_<0){if(!r)return-1;_=0}if("string"==typeof t&&(t=Buffer.from(t,a)),Buffer.isBuffer(t))return 0===t.length?-1:g(e,t,_,a,r);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(r?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,_):g(e,[t],_,a,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,_,a,r){var o=1,i=e.length,s=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;i/=o=2,s/=2,_/=2}function n(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r)for(var l=-1,h=_;h<i;h++)if(n(e,h)===n(t,-1===l?0:h-l)){if(h-(l=-1===l?h:l)+1===s)return l*o}else-1!==l&&(h-=h-l),l=-1;else for(h=_=i<_+s?i-s:_;0<=h;h--){for(var c=!0,p=0;p<s;p++)if(n(e,h+p)!==n(t,p)){c=!1;break}if(c)return h}return-1}function m(e,t,_,a){return U(function(e){for(var t=[],_=0;_<e.length;++_)t.push(255&e.charCodeAt(_));return t}(t),e,_,a)}function A(e,t,_){_=Math.min(e.length,_);for(var a=[],r=t;r<_;){var o,i,s,n,l=e[r],h=null,c=239<l?4:223<l?3:191<l?2:1;if(r+c<=_)switch(c){case 1:l<128&&(h=l);break;case 2:128==(192&(o=e[r+1]))&&127<(n=(31&l)<<6|63&o)&&(h=n);break;case 3:o=e[r+1],i=e[r+2],128==(192&o)&&128==(192&i)&&2047<(n=(15&l)<<12|(63&o)<<6|63&i)&&(n<55296||57343<n)&&(h=n);break;case 4:o=e[r+1],i=e[r+2],s=e[r+3],128==(192&o)&&128==(192&i)&&128==(192&s)&&65535<(n=(15&l)<<18|(63&o)<<12|(63&i)<<6|63&s)&&n<1114112&&(h=n)}null===h?(h=65533,c=1):65535<h&&(h-=65536,a.push(h>>>10&1023|55296),h=56320|1023&h),a.push(h),r+=c}return function(e){var t=e.length;if(t<=u)return String.fromCharCode.apply(String,e);for(var _="",a=0;a<t;)_+=String.fromCharCode.apply(String,e.slice(a,a+=u));return _}(a)}S.Buffer=Buffer,S.SlowBuffer=function(e){return Buffer.alloc(+(e=+e!=e?0:e))},S.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),S.kMaxLength=_(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,_){return a(null,e,t,_)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,_){return t=t,_=_,n(e=e),e<=0||void 0===t?r(null,e):"string"==typeof _?r(null,e).fill(t,_):r(null,e).fill(t)},Buffer.allocUnsafe=function(e){return l(null,e)},Buffer.allocUnsafeSlow=function(e){return l(null,e)},Buffer.isBuffer=function(e){return!(null==e||!e._isBuffer)},Buffer.compare=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var _=e.length,a=t.length,r=0,o=Math.min(_,a);r<o;++r)if(e[r]!==t[r]){_=e[r],a=t[r];break}return _<a?-1:a<_?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;for(var _=Buffer.allocUnsafe(t),a=0,r=0;r<e.length;++r){var o=e[r];if(!Buffer.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(_,a),a+=o.length}return _},Buffer.byteLength=p,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?A(this,0,e):function(e,t,_){var a,r,o=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((_=void 0===_||_>this.length?this.length:_)<=0)return"";if((_>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,_){var a=e.length;(!_||_<0||a<_)&&(_=a);for(var r,o="",i=t=!t||t<0?0:t;i<_;++i)o+=(r=e[i])<16?"0"+r.toString(16):r.toString(16);return o}(this,t,_);case"utf8":case"utf-8":return A(this,t,_);case"ascii":return function(e,t,_){var a="";_=Math.min(e.length,_);for(var r=t;r<_;++r)a+=String.fromCharCode(127&e[r]);return a}(this,t,_);case"latin1":case"binary":return function(e,t,_){var a="";_=Math.min(e.length,_);for(var r=t;r<_;++r)a+=String.fromCharCode(e[r]);return a}(this,t,_);case"base64":return r=_,0===(a=t)&&r===this.length?i.fromByteArray(this):i.fromByteArray(this.slice(a,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,_){for(var a=e.slice(t,_),r="",o=0;o<a.length;o+=2)r+=String.fromCharCode(a[o]+256*a[o+1]);return r}(this,t,_);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=S.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,_,a,r){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===_&&(_=e?e.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),(t=void 0===t?0:t)<0||_>e.length||a<0||r>this.length)throw new RangeError("out of range index");if(r<=a&&_<=t)return 0;if(r<=a)return-1;if(_<=t)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(a>>>=0),i=(_>>>=0)-(t>>>=0),s=Math.min(o,i),n=this.slice(a,r),l=e.slice(t,_),h=0;h<s;++h)if(n[h]!==l[h]){o=n[h],i=l[h];break}return o<i?-1:i<o?1:0},Buffer.prototype.includes=function(e,t,_){return-1!==this.indexOf(e,t,_)},Buffer.prototype.indexOf=function(e,t,_){return f(this,e,t,_,!0)},Buffer.prototype.lastIndexOf=function(e,t,_){return f(this,e,t,_,!1)},Buffer.prototype.write=function(e,s,t,_){if(void 0===s)_="utf8",t=this.length,s=0;else if(void 0===t&&"string"==typeof s)_=s,t=this.length,s=0;else{if(!isFinite(s))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");s|=0,isFinite(t)?(t|=0,void 0===_&&(_="utf8")):(_=t,t=void 0)}var a=this.length-s;if((void 0===t||a<t)&&(t=a),0<e.length&&(t<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");_=_||"utf8";for(var r,o,i,n,l=!1;;)switch(_){case"hex":return function(e,t,_,a){_=Number(s)||0;var r=e.length-_;(!a||r<(a=Number(a)))&&(a=r);r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");r/2<a&&(a=r/2);for(var o=0;o<a;++o){var i=parseInt(t.substr(2*o,2),16);if(isNaN(i))return o;e[_+o]=i}return o}(this,e,0,t);case"utf8":case"utf-8":return r=s,o=t,U(D(e,this.length-r),this,r,o);case"ascii":return m(this,e,s,t);case"latin1":case"binary":return m(this,e,s,t);case"base64":return i=s,n=t,U(E(e),this,i,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i=s,n=t,U(function(e,t){for(var _,a,r=[],o=0;o<e.length&&!((t-=2)<0);++o)a=(_=e.charCodeAt(o))>>8,r.push(_%256),r.push(a);return r}(e,this.length-i),this,i,n);default:if(l)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),l=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var u=4096;function x(e,t,_){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(_<e+t)throw new RangeError("Trying to access beyond buffer length")}function v(e,t,_,a,r,o){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<t||t<o)throw new RangeError('"value" argument is out of bounds');if(_+a>e.length)throw new RangeError("Index out of range")}function w(e,t,_,a){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-_,2);r<o;++r)e[_+r]=(t&255<<8*(a?r:1-r))>>>8*(a?r:1-r)}function y(e,t,_,a){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-_,4);r<o;++r)e[_+r]=t>>>8*(a?r:3-r)&255}function b(e,t,_,a){if(_+a>e.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function C(e,t,_,a,r){return r||b(e,0,_,4),o.write(e,t,_,a,23,4),_+4}function I(e,t,_,a,r){return r||b(e,0,_,8),o.write(e,t,_,a,52,8),_+8}Buffer.prototype.slice=function(e,t){var _=this.length;if((e=~~e)<0?(e+=_)<0&&(e=0):_<e&&(e=_),(t=void 0===t?_:~~t)<0?(t+=_)<0&&(t=0):_<t&&(t=_),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else for(var a=t-e,r=new Buffer(a,void 0),o=0;o<a;++o)r[o]=this[o+e];return r},Buffer.prototype.readUIntLE=function(e,t,_){e|=0,t|=0,_||x(e,t,this.length);for(var a=this[e],r=1,o=0;++o<t&&(r*=256);)a+=this[e+o]*r;return a},Buffer.prototype.readUIntBE=function(e,t,_){e|=0,t|=0,_||x(e,t,this.length);for(var a=this[e+--t],r=1;0<t&&(r*=256);)a+=this[e+--t]*r;return a},Buffer.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,_){e|=0,t|=0,_||x(e,t,this.length);for(var a=this[e],r=1,o=0;++o<t&&(r*=256);)a+=this[e+o]*r;return(r*=128)<=a&&(a-=Math.pow(2,8*t)),a},Buffer.prototype.readIntBE=function(e,t,_){e|=0,t|=0,_||x(e,t,this.length);for(var a=t,r=1,o=this[e+--a];0<a&&(r*=256);)o+=this[e+--a]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*t)),o},Buffer.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);e=this[e]|this[e+1]<<8;return 32768&e?4294901760|e:e},Buffer.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);e=this[e+1]|this[e]<<8;return 32768&e?4294901760|e:e},Buffer.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),o.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),o.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),o.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),o.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,_,a){e=+e,t|=0,_|=0,a||v(this,e,t,_,Math.pow(2,8*_)-1,0);var r=1,o=0;for(this[t]=255&e;++o<_&&(r*=256);)this[t+o]=e/r&255;return t+_},Buffer.prototype.writeUIntBE=function(e,t,_,a){e=+e,t|=0,_|=0,a||v(this,e,t,_,Math.pow(2,8*_)-1,0);var r=_-1,o=1;for(this[t+r]=255&e;0<=--r&&(o*=256);)this[t+r]=e/o&255;return t+_},Buffer.prototype.writeUInt8=function(e,t,_){return e=+e,t|=0,_||v(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,_){return e=+e,t|=0,_||v(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):w(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,_){return e=+e,t|=0,_||v(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):w(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,_){return e=+e,t|=0,_||v(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):y(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,_){return e=+e,t|=0,_||v(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):y(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,_,a){e=+e,t|=0,a||v(this,e,t,_,(a=Math.pow(2,8*_-1))-1,-a);var r=0,o=1,i=0;for(this[t]=255&e;++r<_&&(o*=256);)e<0&&0===i&&0!==this[t+r-1]&&(i=1),this[t+r]=(e/o>>0)-i&255;return t+_},Buffer.prototype.writeIntBE=function(e,t,_,a){e=+e,t|=0,a||v(this,e,t,_,(a=Math.pow(2,8*_-1))-1,-a);var r=_-1,o=1,i=0;for(this[t+r]=255&e;0<=--r&&(o*=256);)e<0&&0===i&&0!==this[t+r+1]&&(i=1),this[t+r]=(e/o>>0)-i&255;return t+_},Buffer.prototype.writeInt8=function(e,t,_){return e=+e,t|=0,_||v(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},Buffer.prototype.writeInt16LE=function(e,t,_){return e=+e,t|=0,_||v(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):w(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,_){return e=+e,t|=0,_||v(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):w(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,_){return e=+e,t|=0,_||v(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):y(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,_){return e=+e,t|=0,_||v(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):y(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,_){return C(this,e,t,!0,_)},Buffer.prototype.writeFloatBE=function(e,t,_){return C(this,e,t,!1,_)},Buffer.prototype.writeDoubleLE=function(e,t,_){return I(this,e,t,!0,_)},Buffer.prototype.writeDoubleBE=function(e,t,_){return I(this,e,t,!1,_)},Buffer.prototype.copy=function(e,t,_,a){if(_=_||0,a||0===a||(a=this.length),t>=e.length&&(t=e.length),(a=0<a&&a<_?_:a)===_)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length);var r,o=(a=e.length-t<a-_?e.length-t+_:a)-_;if(this===e&&_<t&&t<a)for(r=o-1;0<=r;--r)e[r+t]=this[r+_];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+_];else Uint8Array.prototype.set.call(e,this.subarray(_,_+o),t);return o},Buffer.prototype.fill=function(e,t,_,a){if("string"==typeof e){var r;if("string"==typeof t?(a=t,t=0,_=this.length):"string"==typeof _&&(a=_,_=this.length),1!==e.length||(r=e.charCodeAt(0))<256&&(e=r),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!Buffer.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<_)throw new RangeError("Out of range index");if(_<=t)return this;if(t>>>=0,_=void 0===_?this.length:_>>>0,"number"==typeof(e=e||0))for(s=t;s<_;++s)this[s]=e;else for(var o=Buffer.isBuffer(e)?e:D(new Buffer(e,a).toString()),i=o.length,s=0;s<_-t;++s)this[s+t]=o[s%i];return this};var M=/[^+\/0-9A-Za-z-_]/g;function D(e,t){var _;t=t||1/0;for(var a=e.length,r=null,o=[],i=0;i<a;++i){if(55295<(_=e.charCodeAt(i))&&_<57344){if(!r){if(56319<_){-1<(t-=3)&&o.push(239,191,189);continue}if(i+1===a){-1<(t-=3)&&o.push(239,191,189);continue}r=_;continue}if(_<56320){-1<(t-=3)&&o.push(239,191,189),r=_;continue}_=65536+(r-55296<<10|_-56320)}else r&&-1<(t-=3)&&o.push(239,191,189);if(r=null,_<128){if(--t<0)break;o.push(_)}else if(_<2048){if((t-=2)<0)break;o.push(_>>6|192,63&_|128)}else if(_<65536){if((t-=3)<0)break;o.push(_>>12|224,_>>6&63|128,63&_|128)}else{if(!(_<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(_>>18|240,_>>12&63|128,_>>6&63|128,63&_|128)}}return o}function E(e){return i.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,_,a){for(var r=0;r<a&&!(r+_>=t.length||r>=e.length);++r)t[r+_]=e[r];return r}}.call(this,t(77))},662:function(e,t,_){"use strict";t.byteLength=function(e){var t=h(e),e=t[0],t=t[1];return 3*(e+t)/4-t},t.toByteArray=function(e){for(var t,_=h(e),a=_[0],_=_[1],r=new l(3*(a+_)/4-_),o=0,i=0<_?a-4:a,s=0;s<i;s+=4)t=n[e.charCodeAt(s)]<<18|n[e.charCodeAt(s+1)]<<12|n[e.charCodeAt(s+2)]<<6|n[e.charCodeAt(s+3)],r[o++]=t>>16&255,r[o++]=t>>8&255,r[o++]=255&t;return 2===_&&(t=n[e.charCodeAt(s)]<<2|n[e.charCodeAt(s+1)]>>4,r[o++]=255&t),1===_&&(t=n[e.charCodeAt(s)]<<10|n[e.charCodeAt(s+1)]<<4|n[e.charCodeAt(s+2)]>>2,r[o++]=t>>8&255,r[o++]=255&t),r},t.fromByteArray=function(e){for(var t,_=e.length,a=_%3,r=[],o=0,i=_-a;o<i;o+=16383)r.push(function(e,t){for(var _,a=[],r=o;r<t;r+=3)_=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),a.push(s[_>>18&63]+s[_>>12&63]+s[_>>6&63]+s[63&_]);return a.join("")}(e,i<o+16383?i:o+16383));return 1==a?(t=e[_-1],r.push(s[t>>2]+s[t<<4&63]+"==")):2==a&&(t=(e[_-2]<<8)+e[_-1],r.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"=")),r.join("")};for(var s=[],n=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=a.length;r<o;++r)s[r]=a[r],n[a.charCodeAt(r)]=r;function h(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");return[e=-1===e?t:e,e===t?0:4-e%4]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},663:function(e,t){t.read=function(e,t,_,a,r){var o,i,s=8*r-a-1,n=(1<<s)-1,l=n>>1,h=-7,c=_?r-1:0,p=_?-1:1,_=e[t+c];for(c+=p,o=_&(1<<-h)-1,_>>=-h,h+=s;0<h;o=256*o+e[t+c],c+=p,h-=8);for(i=o&(1<<-h)-1,o>>=-h,h+=a;0<h;i=256*i+e[t+c],c+=p,h-=8);if(0===o)o=1-l;else{if(o===n)return i?NaN:1/0*(_?-1:1);i+=Math.pow(2,a),o-=l}return(_?-1:1)*i*Math.pow(2,o-a)},t.write=function(e,t,_,a,r,o){var i,s,n=8*o-r-1,l=(1<<n)-1,h=l>>1,c=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:o-1,d=a?1:-1,o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=l):(i=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-i))<1&&(i--,a*=2),2<=(t+=1<=i+h?c/a:c*Math.pow(2,1-h))*a&&(i++,a/=2),l<=i+h?(s=0,i=l):1<=i+h?(s=(t*a-1)*Math.pow(2,r),i+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),i=0));8<=r;e[_+p]=255&s,p+=d,s/=256,r-=8);for(i=i<<r|s,n+=r;0<n;e[_+p]=255&i,p+=d,i/=256,n-=8);e[_+p-d]|=128*o}},664:function(e,t){var _={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==_.call(e)}},966:function(e,r,g){"use strict";!function(Buffer){function o2(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var _=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(_.push(i.value),!t||_.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return _}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(r,"__esModule",{value:!0});var G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var _,a=arguments[t];for(_ in a)Object.prototype.hasOwnProperty.call(a,_)&&(e[_]=a[_])}return e},W=e(g(0)),f=e(g(321)),_=g(967),a=e(g(970));function e(e){return e&&e.__esModule?e:{default:e}}function A(e){return function(){var s=e.apply(this,arguments);return new Promise(function(o,i){return function t(e,_){try{var a=s[e](_),r=a.value}catch(e){return void i(e)}if(!a.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});o(r)}("next")})}}window.get_base64_png_data_url_process_function_string=`return async function(
            pxl_width, 
            pxl_height,
            _s_pxls, 
            _s_pxl_colors,
            _layers,
            scale,
            with_palette
        ) {
        
            "use strict";
            function this_rgb_to_hsl(r, g, b) {

                r /= 255, g /= 255, b /= 255;
                var max = Math.max(r, g, b), min = Math.min(r, g, b);
                var h, s, l = (max + min) / 2;

                if(max == min){
                    h = s = 0; // achromatic
                }else{
                    var d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                    switch(max){
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    h /= 6;
                }

                return Array.of(parseInt(h * 360), parseInt(s * 100), parseInt(l * 100));
            }

            function this_hsl_to_rgb(h, s, l) {

                h /= 360;
                s /= 100;
                l /= 100;

                var r, g, b;
                if (s === 0) {
                    r = g = b = l;
                } else {
                    function hue_to_rgb(p, q, t) {
                        if (t < 0) t += 1;
                        if (t > 1) t -= 1;
                        if (t < 1 / 6) return p + (q - p) * 6 * t;
                        if (t < 1 / 2) return q;
                        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                        return p;
                    }
                    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                    var p = 2 * l - q;
                    r = hue_to_rgb(p, q, h + 1 / 3);
                    g = hue_to_rgb(p, q, h);
                    b = hue_to_rgb(p, q, h - 1 / 3);
                }

                return Uint8ClampedArray.of(parseInt(r * 255), parseInt(g * 255), parseInt(b * 255));
            }

            function this_get_hex_color_from_rgba_values(r, g, b, a) {

                return "#".concat("00000000".concat(new Uint32Array(Uint8ClampedArray.of(a, b, g, r).buffer)[0].toString(16)).slice(-8));
            }

            function this_get_rgba_from_hex(color) {

                return new Uint8ClampedArray(Uint32Array.of(parseInt(color.slice(1), 16)).buffer).reverse();
            }
            
            function this_get_hex_from_Uint32(num) {

                return "#".concat("00000000".concat(num.toString(16)).slice(-8));
            }
            
            function this_get_uint32_from_hex(hex) {
        
                return parseInt(hex.slice(1), 16);
            }
            
            function this_get_rgba_from_Uint32(num) {

                return new Uint8ClampedArray(Uint32Array.of(num).buffer).reverse();
            }
        
            function this_get_Uint32_color_from_rgba_values (r, g , b, a) {
        
                return new Uint32Array(Uint8ClampedArray.of(a, b, g, r).buffer)[0];
            }

            function this_format_color(color, getUint32 = false) {

                color = typeof color === "undefined" ? 0: color;

                if(getUint32 && typeof color === "number"){
        
                    return color;
                }else {
        
                    if(!getUint32 && typeof color === "number"){
        
                        return this_get_hex_from_Uint32(color);
                    }
        
                    var formatted = "";
                    var hex = color;
                    var hex_length = hex.length;
        
                    if(hex_length === 9) {
        
                        formatted = hex;
        
                    } else if (hex_length === 7) {
        
                        formatted = hex.concat("ff");
                    } else if (hex_length === 5) {
        
                        var a = hex.charAt(1), b = hex.charAt(2), c = hex.charAt(3), d = hex.charAt(4);
                        formatted =  "#".concat(a, a, b, b, c, c, d, d);
                    } else if (hex_length === 4) {
        
                        var a = hex.charAt(1), b = hex.charAt(2), c = hex.charAt(3);
                        formatted = "#".concat(a, a, b, b, c, c, "ff");
                    }
        
                    if(getUint32){
        
                        return this_get_uint32_from_hex(formatted);
                    }else {
        
                        return formatted;
                    }
                }
            }

            function this_match_color (color_a, color_b, threshold) {

                threshold = typeof threshold === "undefined" ? null: threshold;

                if(threshold === 1) {

                    return true;
                }else if(threshold === 0){

                    return color_a === color_b;
                }else {

                    var threshold_256 = parseInt(threshold * 255);

                    color_a = this_format_color(color_a, true);
                    color_b = this_format_color(color_b, true);

                    var c_a = this_get_rgba_from_Uint32(color_a);
                    var c_b = this_get_rgba_from_Uint32(color_b);

                    var a_diff = Math.abs(c_a[3] - c_b[3]);
                    var r_diff = Math.abs(c_a[0] - c_b[0]);
                    var g_diff = Math.abs(c_a[1] - c_b[1]);
                    var b_diff = Math.abs(c_a[2] - c_b[2]);

                    var a_diff_ratio = Math.abs(1 - a_diff / 255);

                    if(threshold !== null) {

                        return Boolean(r_diff < threshold_256 && g_diff < threshold_256 && b_diff < threshold_256 && a_diff < threshold_256);
                    }else {

                        return ((r_diff + g_diff + b_diff) / (255 * 3)) * a_diff_ratio;
                    }
                }
            }

            function this_blend_colors (color_a, color_b, amount = 1, should_return_transparent = false, alpha_addition = false, in_uint_32 = false) {

                color_a = this_format_color(color_a, true);
                // If we blend the first color with the second with 0 "force", return transparent
                if(amount === 0 && color_b !== "hover" && should_return_transparent) {
        
                    return in_uint_32 ? 0: "#00000000";
                }
        
                // Make sure we have a color based on the 4*2 hex char format
        
                if(color_b === "hover") {
        
                    var rgba = this_get_rgba_from_Uint32(color_a);
                    var hsl = this_rgb_to_hsl(rgba[0], rgba[1], rgba[2], rgba[3]);
                    var rgb = this_hsl_to_rgb(hsl[0], hsl[1], parseInt(hsl[2] >= 50 ? hsl[2]/2: hsl[2]*2));
                    color_b = this_get_Uint32_color_from_rgba_values(rgb[0], rgb[1], rgb[2], 255);
                }else {
        
                    color_b = this_format_color(color_b, true);
                }
                // If the second color is transparent, return transparent
                if(should_return_transparent && color_b === 0 && amount === 1) { return in_uint_32 ? 0: "#00000000"; }
        
                // Extract RGBA from both colors
                var base = this_get_rgba_from_Uint32(color_a);
                var added = this_get_rgba_from_Uint32(color_b);
        
                if(added[3] === 255 && amount === 1) { return in_uint_32 ? color_b: this_get_hex_from_Uint32(color_b); }
        
                var ba3 = base[3] / 255;
                var ad3 = (added[3] / 255) * amount;
        
                var mix = new Uint8ClampedArray(4);
                var mi3 = 0;
        
                if (ba3 > 0 && ad3 > 0) {
        
                    if(alpha_addition) {
        
                        mi3 = ad3 + ba3;
                    }else {
        
                        mi3 = 1 - (1 - ad3) * (1 - ba3);
                    }
        
                    var ao = ad3 / mi3;
                    var bo = ba3 * (1 - ad3) / mi3;
        
                    mix[0] = parseInt(added[0] * ao + base[0] * bo); // red
                    mix[1] = parseInt(added[1] * ao + base[1] * bo); // green
                    mix[2] = parseInt(added[2] * ao + base[2] * bo); // blue
                }else if(ad3 > 0) {
        
                    mi3 = added[3] / 255;
        
                    mix[0] = added[0];
                    mix[1] = added[1];
                    mix[2] = added[2];
                }else {
        
                    mi3 = base[3] / 255;
        
                    mix[0] = base[0];
                    mix[1] = base[1];
                    mix[2] = base[2];
                }
        
                if(alpha_addition) {
                    mi3 /= 2;
                }
        
                mix[3] = parseInt(mi3 * 255);
        
                if(in_uint_32){
        
                    return this_get_Uint32_color_from_rgba_values(mix[0], mix[1], mix[2], mix[3]);
                }else {
        
                    return this_get_hex_color_from_rgba_values(mix[0], mix[1], mix[2], mix[3]);
                }
            }

            try {
            
                if (typeof OffscreenCanvas === "undefined") {
                    throw new Error("Impossible to create OffscreenCanvas in this web environment.");
                }
            
                var canvas = new OffscreenCanvas(pxl_width * scale, pxl_height * scale);
                var ctx = canvas.getContext('2d');
                var all_colors = new Set();
        
                _s_pxls[0].forEach((pxl, index) => {
        
                    var layer_pixel_colors = [];
                    var start_i = -1;
                    start_i++;
        
                    for (var i = _s_pxl_colors.length - 1; i >= 0; i--) {
        
                        var layer_pixel_color = _s_pxl_colors[i][_s_pxls[i][index]];
                        layer_pixel_colors[i] = layer_pixel_color;
                        var rgba = this_get_rgba_from_Uint32(layer_pixel_color);
        
                        if(rgba[3] === 255) {
        
                            start_i = i;
                            break;
                        }
        
                    }
        
                    var pixel_color_hex = 0;
        
                    for (var i = start_i; i < _s_pxl_colors.length ; i++) {
        
                        if(!_layers[i].hidden) {
        
                            var layer_pixel_color = layer_pixel_colors[i];
        
                            pixel_color_hex = this_blend_colors(pixel_color_hex, layer_pixel_color, _layers[i].opacity, false, false, true);
                        }
                    }
        
                    var pos_x = index % pxl_width;
                    var pos_y = (index - pos_x) / pxl_width;
        
                    all_colors.add(pixel_color_hex);
                    ctx.fillStyle = this_get_hex_from_Uint32(pixel_color_hex);
                    ctx.fillRect(pos_x * scale, pos_y * scale, 1 * scale, 1 * scale);
                });
                
                var canvas2 = new OffscreenCanvas(pxl_width * scale, pxl_height * scale);
                var ctx2 = canvas2.getContext("bitmaprenderer");
                
                var image_data = ctx.getImageData(0, 0, pxl_width * scale, pxl_height * scale);
               
                return createImageBitmap(image_data, {
                    premultiplyAlpha: 'none',
                    colorSpaceConversion: 'none',
                }).then((btmp_i) => {
                
                    ctx2.transferFromImageBitmap(btmp_i);
    
                    return ctx2.canvas.convertToBlob({type: "image/png"}).then((blob) => {
                    
                        function blob_to_base64(blob) {
                          return new Promise((resolve, _) => {
                            var reader = new FileReader();
                            reader.onload = () => resolve(reader.result);
                            reader.readAsDataURL(blob);
                          })
                        }
                        
                        return blob_to_base64(blob).then((data_url) => {
                      
                            if(with_palette) {
                        
                                return Object.values(Object.assign({}, {0: data_url, 1: Array.from(all_colors).map((c) => this_format_color(c))}));
                            }else {
                            
                                return Object.values(Object.assign({}, {0: data_url}));
                            }
                        });
                    });
                });
                
            }catch (e) {
            
                var all_colors = new Set();
                var canvas = document.createElement("canvas");
                canvas.width = pxl_width * scale;
                canvas.height = pxl_height * scale;
                var ctx = canvas.getContext('2d');

                _s_pxls[0].forEach((pxl, index) => {

                    var layer_pixel_colors = [];
                    var start_i = -1;
                    start_i++;

                    for (var i = _s_pxl_colors.length - 1; i >= 0; i--) {

                        var layer_pixel_color = _s_pxl_colors[i][_s_pxls[i][index]];
                        layer_pixel_colors[i] = layer_pixel_color;
                        var rgba = this_get_rgba_from_Uint32(layer_pixel_color);

                        if(rgba[3] === 255) {

                            start_i = i;
                            break;
                        }

                    }

                    var pixel_color_hex = 0;
                    for (var i = start_i; i < _s_pxl_colors.length ; i++) {

                        if(!_layers[i].hidden) {

                            var layer_pixel_color = layer_pixel_colors[i];
                            pixel_color_hex = this_blend_colors(pixel_color_hex, layer_pixel_color, _layers[i].opacity, false, false, true);
                        }
                    }

                    var pos_x = index % pxl_width;
                    var pos_y = (index - pos_x) / pxl_width;
                    all_colors.add(pixel_color_hex);
                    ctx.fillStyle = this_get_hex_from_Uint32(pixel_color_hex);
                    ctx.fillRect(pos_x * scale, pos_y * scale, 1 * scale, 1 * scale);
                });

                if(with_palette) {
                        
                    return Object.values(Object.assign({}, {0: canvas.toDataURL(), 1: Array.from(all_colors).map((c) => this_format_color(c))}));
                }else {
                
                    return Object.values(Object.assign({}, {0: canvas.toDataURL()}));
                }
            }
        }`,window.get_layer_base64_png_data_url_process_function_string=`return async function(
            pxl_width, 
            pxl_height,
            pxls, 
            pxl_colors,
            scale,
            resize_width
        ) {
            
            "use strict";
            
            function this_get_hex_color_from_rgba_values(r, g, b, a) {

                return "#".concat("00000000".concat(new Uint32Array(Uint8ClampedArray.of(a, b, g, r).buffer)[0].toString(16)).slice(-8));
            }

            function this_get_rgba_from_hex(color) {

                return new Uint8ClampedArray(Uint32Array.of(parseInt(color.slice(1), 16)).buffer).reverse();
            }
            
            function this_get_hex_from_Uint32(num) {

                return "#".concat("00000000".concat(num.toString(16)).slice(-8));
            }
            
            function this_get_uint32_from_hex(hex) {
        
                return parseInt(hex.slice(1), 16);
            }
            
            function this_get_rgba_from_Uint32(num) {

                return new Uint8ClampedArray(Uint32Array.of(num).buffer).reverse();
            }
        
            function this_get_Uint32_color_from_rgba_values (r, g , b, a) {
        
                return new Uint32Array(Uint8ClampedArray.of(a, b, g, r).buffer)[0];
            }

            function this_format_color(color, getUint32 = false) {

                color = typeof color === "undefined" ? 0: color;

                if(getUint32 && typeof color === "number"){
        
                    return color;
                }else {
        
                    if(!getUint32 && typeof color === "number"){
        
                        return this_get_hex_from_Uint32(color);
                    }
        
                    var formatted = "";
                    var hex = color;
                    var hex_length = hex.length;
        
                    if(hex_length === 9) {
        
                        formatted = hex;
        
                    } else if (hex_length === 7) {
        
                        formatted = hex.concat("ff");
                    } else if (hex_length === 5) {
        
                        var a = hex.charAt(1), b = hex.charAt(2), c = hex.charAt(3), d = hex.charAt(4);
                        formatted =  "#".concat(a, a, b, b, c, c, d, d);
                    } else if (hex_length === 4) {
        
                        var a = hex.charAt(1), b = hex.charAt(2), c = hex.charAt(3);
                        formatted = "#".concat(a, a, b, b, c, c, "ff");
                    }
        
                    if(getUint32){
        
                        return this_get_uint32_from_hex(formatted);
                    }else {
        
                        return formatted;
                    }
                }
            }

            function this_match_color (color_a, color_b, threshold) {

                threshold = typeof threshold === "undefined" ? null: threshold;

                if(threshold === 1) {

                    return true;
                }else if(threshold === 0){

                    return color_a === color_b;
                }else {

                    var threshold_256 = parseInt(threshold * 255);

                    color_a = this_format_color(color_a, true);
                    color_b = this_format_color(color_b, true);

                    var c_a = this_get_rgba_from_Uint32(color_a);
                    var c_b = this_get_rgba_from_Uint32(color_b);

                    var a_diff = Math.abs(c_a[3] - c_b[3]);
                    var r_diff = Math.abs(c_a[0] - c_b[0]);
                    var g_diff = Math.abs(c_a[1] - c_b[1]);
                    var b_diff = Math.abs(c_a[2] - c_b[2]);

                    var a_diff_ratio = Math.abs(1 - a_diff / 255);

                    if(threshold !== null) {

                        return Boolean(r_diff < threshold_256 && g_diff < threshold_256 && b_diff < threshold_256 && a_diff < threshold_256);
                    }else {

                        return ((r_diff + g_diff + b_diff) / (255 * 3)) * a_diff_ratio;
                    }
                }
            }

            function this_blend_colors (color_a, color_b, amount = 1, should_return_transparent = false, alpha_addition = false, in_uint_32 = false) {

                color_a = this_format_color(color_a, true);
                // If we blend the first color with the second with 0 "force", return transparent
                if(amount === 0 && color_b !== "hover" && should_return_transparent) {
        
                    return in_uint_32 ? 0: "#00000000";
                }
        
                // Make sure we have a color based on the 4*2 hex char format
        
                if(color_b === "hover") {
        
                    var rgba = this_get_rgba_from_Uint32(color_a);
                    var hsl = this_rgb_to_hsl(rgba[0], rgba[1], rgba[2], rgba[3]);
                    var rgb = this_hsl_to_rgb(hsl[0], hsl[1], parseInt(hsl[2] >= 50 ? hsl[2]/2: hsl[2]*2));
                    color_b = this_get_Uint32_color_from_rgba_values(rgb[0], rgb[1], rgb[2], 255);
                }else {
        
                    color_b = this_format_color(color_b, true);
                }
                // If the second color is transparent, return transparent
                if(should_return_transparent && color_b === 0 && amount === 1) { return in_uint_32 ? 0: "#00000000"; }
        
                // Extract RGBA from both colors
                var base = this_get_rgba_from_Uint32(color_a);
                var added = this_get_rgba_from_Uint32(color_b);
        
                if(added[3] === 255 && amount === 1) { return in_uint_32 ? color_b: this_get_hex_from_Uint32(color_b); }
        
                var ba3 = base[3] / 255;
                var ad3 = (added[3] / 255) * amount;
        
                var mix = new Uint8ClampedArray(4);
                var mi3 = 0;
        
                if (ba3 > 0 && ad3 > 0) {
        
                    if(alpha_addition) {
        
                        mi3 = ad3 + ba3;
                    }else {
        
                        mi3 = 1 - (1 - ad3) * (1 - ba3);
                    }
        
                    var ao = ad3 / mi3;
                    var bo = ba3 * (1 - ad3) / mi3;
        
                    mix[0] = parseInt(added[0] * ao + base[0] * bo); // red
                    mix[1] = parseInt(added[1] * ao + base[1] * bo); // green
                    mix[2] = parseInt(added[2] * ao + base[2] * bo); // blue
                }else if(ad3 > 0) {
        
                    mi3 = added[3] / 255;
        
                    mix[0] = added[0];
                    mix[1] = added[1];
                    mix[2] = added[2];
                }else {
        
                    mi3 = base[3] / 255;
        
                    mix[0] = base[0];
                    mix[1] = base[1];
                    mix[2] = base[2];
                }
        
                if(alpha_addition) {
                    mi3 /= 2;
                }
        
                mix[3] = parseInt(mi3 * 255);
        
                if(in_uint_32){
        
                    return this_get_Uint32_color_from_rgba_values(mix[0], mix[1], mix[2], mix[3]);
                }else {
        
                    return this_get_hex_color_from_rgba_values(mix[0], mix[1], mix[2], mix[3]);
                }
            }
            
            var no_transparent = true;
            
            try {
            
                if (typeof OffscreenCanvas === "undefined") {
                   throw new Error("Impossible to create OffscreenCanvas in this web environment.");
                }
                
                var image_data = null;
                if(parseInt(scale) === 1){
                
                    var pxl_colors_uint32 = pxl_colors.map(function(c) { return this_format_color(c, true)});
                    image_data = new ImageData(pxl_width, pxl_height);
                    
                    pxls.forEach((pxl, index) => {
            
                        var color = this_get_rgba_from_Uint32(pxl_colors_uint32[pxl]);
                        
                        image_data.data[index * 4 + 0] = color[0];
                        image_data.data[index * 4 + 1] = color[1];
                        image_data.data[index * 4 + 2] = color[2];
                        image_data.data[index * 4 + 3] = color[3];
                        
                        if(no_transparent && color[3] !== 255) {
                        
                            no_transparent = false;
                        }
                    });
                } else {
                
                    var pxl_colors_hex = pxl_colors.map(function(c) { return this_format_color(c)});
                    var canvas = new OffscreenCanvas(pxl_width * scale, pxl_height * scale);
                    var ctx = canvas.getContext('2d');
                
                    pxls.forEach((pxl, index) => {
            
                        var pixel_color_hex = pxl_colors_hex[pxl];
                        
                        if(no_transparent && pixel_color_hex.slice(-2) !== "ff"){
                        
                            no_transparent = false;
                        }
            
                        var pos_x = index % pxl_width;
                        var pos_y = (index - pos_x) / pxl_width;
            
                        ctx.fillStyle = pixel_color_hex;
                        ctx.fillRect(pos_x * scale, pos_y * scale, 1 * scale, 1 * scale);
                    });
                    
                    image_data = ctx.getImageData(0, 0, pxl_width * scale, pxl_height * scale);
                }
                
                var resize_ratio = resize_width / (pxl_width * scale);
                var resizeWidth = parseInt((pxl_width * scale) * resize_ratio);
                var resizeHeight = parseInt((pxl_height * scale) * resize_ratio);
                
                var canvas2 = new OffscreenCanvas(resizeWidth, resizeHeight);
                var ctx2 = canvas2.getContext("bitmaprenderer");
                
                return createImageBitmap(image_data, {
                    premultiplyAlpha: 'none',
                    colorSpaceConversion: 'none',
                    resizeWidth: resizeWidth,
                    resizeHeight: resizeHeight,
                    resizeQuality: "pixelated",
                }).then((btmp_i) => {
                
                    ctx2.transferFromImageBitmap(btmp_i);
    
                    var blob_params = no_transparent ? {type: "image/jpeg", quality: 0.3}: {type: "image/png"};
                    return ctx2.canvas.convertToBlob(blob_params).then((blob) => {
                    
                        function blob_to_base64(blob) {
                          return new Promise((resolve, _) => {
                            var reader = new FileReader();
                            reader.onload = () => resolve(reader.result);
                            reader.readAsDataURL(blob);
                          })
                        }
                        
                        return blob_to_base64(blob).then((data_url) => {
                        
                             return data_url;
                        });
                    });
                });
                
            }catch (e) {
            
                var canvas = document.createElement("canvas");
                canvas.width = pxl_width * scale;
                canvas.height = pxl_height * scale;
                var ctx = canvas.getContext('2d');
                
                var image_data = null;
                if(parseInt(scale) === 1){
                
                    var pxl_colors_uint32 = pxl_colors.map(function(c) { return this_format_color(c, true)});
                    image_data = new ImageData(pxl_width, pxl_height);
                    
                    pxls.forEach((pxl, index) => {
            
                        var color = this_get_rgba_from_Uint32(pxl_colors_uint32[pxl]);
                        var index_by_4 = index * 4;
                    
                        image_data.data[index_by_4 + 0] = color[0];
                        image_data.data[index_by_4 + 1] = color[1];
                        image_data.data[index_by_4 + 2] = color[2];
                        image_data.data[index_by_4 + 3] = color[3];
                        
                        if(no_transparent && color[3] !== 255) {
                        
                            no_transparent = false;
                        }
                        
                    });
                    
                    ctx.putImageData(image_data, 0, 0);
                } else {
                
                    var pxl_colors_hex = pxl_colors.map(function(c) { return this_format_color(c)});
                    var canvas = document.createElement("canvas");
                    canvas.width = pxl_width * scale;
                    canvas.height = pxl_height * scale;
                    var ctx = canvas.getContext('2d');
                
                    pxls.forEach((pxl, index) => {
            
                        var pixel_color_hex = pxl_colors_hex[pxl];
                        
                        if(no_transparent && pixel_color_hex.slice(-2) !== "ff"){
                        
                            no_transparent = false;
                        }
            
                        var pos_x = index % pxl_width;
                        var pos_y = (index - pos_x) / pxl_width;
            
                        ctx.fillStyle = pixel_color_hex;
                        ctx.fillRect(pos_x * scale, pos_y * scale, 1 * scale, 1 * scale);
                    });
                }
                
                var resize_ratio = resize_width / (pxl_width * scale);
                var resizeWidth = parseInt((pxl_width * scale) * resize_ratio);
                var resizeHeight = parseInt((pxl_height * scale) * resize_ratio);
                
                var canvas2 = document.createElement("canvas");
                canvas2.width = resizeWidth;
                canvas2.height = resizeHeight;
                var ctx2 = canvas2.getContext("2d");
                ctx2.drawImage(canvas, 0, 0, resizeWidth, resizeHeight);
                
                if(no_transparent){
                    
                    return canvas2.toDataURL("image/jpeg", 0.3);
                }else {
                
                    return canvas2.toDataURL("image/png");
                }
            }
        }`,window.remove_close_pxl_colors_process_function_string=`return async function(
            pxls,
            pxl_colors,
            bucket_threshold,
            threshold_steps,
            color_number_bonus,
            best_color_number,
            this_state_bucket_threshold 
        ) {

            "use strict";
            function this_rgb_to_hsl(r, g, b) {

                r /= 255, g /= 255, b /= 255;
                var max = Math.max(r, g, b), min = Math.min(r, g, b);
                var h, s, l = (max + min) / 2;

                if(max == min){
                    h = s = 0; // achromatic
                }else{
                    var d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                    switch(max){
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    h /= 6;
                }

                return Array.of(parseInt(h * 360), parseInt(s * 100), parseInt(l * 100));
            }

            function this_hsl_to_rgb(h, s, l) {

                h /= 360;
                s /= 100;
                l /= 100;

                var r, g, b;
                if (s === 0) {
                    r = g = b = l;
                } else {
                    function hue_to_rgb(p, q, t) {
                        if (t < 0) t += 1;
                        if (t > 1) t -= 1;
                        if (t < 1 / 6) return p + (q - p) * 6 * t;
                        if (t < 1 / 2) return q;
                        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                        return p;
                    }
                    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                    var p = 2 * l - q;
                    r = hue_to_rgb(p, q, h + 1 / 3);
                    g = hue_to_rgb(p, q, h);
                    b = hue_to_rgb(p, q, h - 1 / 3);
                }

                return Uint8ClampedArray.of(r * 255, g * 255, b * 255);
            }

            function this_get_hex_color_from_rgba_values(r, g, b, a) {

                return "#".concat("00000000".concat(new Uint32Array(Uint8ClampedArray.of(a, b, g, r).buffer)[0].toString(16)).slice(-8));
            }

            function this_get_rgba_from_hex(color) {

                return new Uint8ClampedArray(Uint32Array.of(parseInt(color.slice(1), 16)).buffer).reverse();
            }
            
            function this_get_hex_from_Uint32(num) {

                return "#".concat("00000000".concat(num.toString(16)).slice(-8));
            }
            
            function this_get_uint32_from_hex(hex) {
        
                return parseInt(hex.slice(1), 16);
            }
            
            function this_get_rgba_from_Uint32(num) {

                return new Uint8ClampedArray(Uint32Array.of(num).buffer).reverse();
            }
        
            function this_get_Uint32_color_from_rgba_values (r, g , b, a) {
        
                return new Uint32Array(Uint8ClampedArray.of(a, b, g, r).buffer)[0];
            }

            function this_format_color(color, getUint32 = false) {

                color = typeof color === "undefined" ? 0: color;

                if(getUint32 && typeof color === "number"){
        
                    return color;
                }else {
        
                    if(!getUint32 && typeof color === "number"){
        
                        return this_get_hex_from_Uint32(color);
                    }
        
                    var formatted = "";
                    var hex = color;
                    var hex_length = hex.length;
        
                    if(hex_length === 9) {
        
                        formatted = hex;
        
                    } else if (hex_length === 7) {
        
                        formatted = hex.concat("ff");
                    } else if (hex_length === 5) {
        
                        var a = hex.charAt(1), b = hex.charAt(2), c = hex.charAt(3), d = hex.charAt(4);
                        formatted =  "#".concat(a, a, b, b, c, c, d, d);
                    } else if (hex_length === 4) {
        
                        var a = hex.charAt(1), b = hex.charAt(2), c = hex.charAt(3);
                        formatted = "#".concat(a, a, b, b, c, c, "ff");
                    }
        
                    if(getUint32){
        
                        return this_get_uint32_from_hex(formatted);
                    }else {
        
                        return formatted;
                    }
                }
            }

            function this_match_color (color_a, color_b, threshold) {

                threshold = typeof threshold === "undefined" ? null: threshold;

                if(threshold === 1) {

                    return true;
                }else if(threshold === 0){

                    return color_a === color_b;
                }else {

                    var threshold_256 = parseInt(threshold * 255);

                    color_a = this_format_color(color_a, true);
                    color_b = this_format_color(color_b, true);

                    var c_a = this_get_rgba_from_Uint32(color_a);
                    var c_b = this_get_rgba_from_Uint32(color_b);

                    var a_diff = Math.abs(c_a[3] - c_b[3]);
                    var r_diff = Math.abs(c_a[0] - c_b[0]);
                    var g_diff = Math.abs(c_a[1] - c_b[1]);
                    var b_diff = Math.abs(c_a[2] - c_b[2]);

                    var a_diff_ratio = Math.abs(1 - a_diff / 255);

                    if(threshold !== null) {

                        return Boolean(r_diff < threshold_256 && g_diff < threshold_256 && b_diff < threshold_256 && a_diff < threshold_256);
                    }else {

                        return ((r_diff + g_diff + b_diff) / (255 * 3)) * a_diff_ratio;
                    }
                }
            }

            function this_blend_colors (color_a, color_b, amount = 1, should_return_transparent = false, alpha_addition = false, in_uint_32 = false) {

                color_a = this_format_color(color_a, true);
                // If we blend the first color with the second with 0 "force", return transparent
                if(amount === 0 && color_b !== "hover" && should_return_transparent) {
        
                    return in_uint_32 ? 0: "#00000000";
                }
        
                // Make sure we have a color based on the 4*2 hex char format
        
                if(color_b === "hover") {
        
                    var rgba = this_get_rgba_from_Uint32(color_a);
                    var hsl = this_rgb_to_hsl(rgba[0], rgba[1], rgba[2], rgba[3]);
                    var rgb = this_hsl_to_rgb(hsl[0], hsl[1], parseInt(hsl[2] >= 50 ? hsl[2]/2: hsl[2]*2));
                    color_b = this_get_Uint32_color_from_rgba_values(rgb[0], rgb[1], rgb[2], 255);
                }else {
        
                    color_b = this_format_color(color_b, true);
                }
                // If the second color is transparent, return transparent
                if(should_return_transparent && color_b === 0 && amount === 1) { return in_uint_32 ? 0: "#00000000"; }
        
                // Extract RGBA from both colors
                var base = this_get_rgba_from_Uint32(color_a);
                var added = this_get_rgba_from_Uint32(color_b);
        
                if(added[3] === 255 && amount === 1) { return in_uint_32 ? color_b: this_get_hex_from_Uint32(color_b); }
        
                var ba3 = base[3] / 255;
                var ad3 = (added[3] / 255) * amount;
        
                var mix = new Uint8ClampedArray(4);
                var mi3 = 0;
        
                if (ba3 > 0 && ad3 > 0) {
        
                    if(alpha_addition) {
        
                        mi3 = ad3 + ba3;
                    }else {
        
                        mi3 = 1 - (1 - ad3) * (1 - ba3);
                    }
        
                    var ao = ad3 / mi3;
                    var bo = ba3 * (1 - ad3) / mi3;
        
                    mix[0] = parseInt(added[0] * ao + base[0] * bo); // red
                    mix[1] = parseInt(added[1] * ao + base[1] * bo); // green
                    mix[2] = parseInt(added[2] * ao + base[2] * bo); // blue
                }else if(ad3 > 0) {
        
                    mi3 = added[3] / 255;
        
                    mix[0] = added[0];
                    mix[1] = added[1];
                    mix[2] = added[2];
                }else {
        
                    mi3 = base[3] / 255;
        
                    mix[0] = base[0];
                    mix[1] = base[1];
                    mix[2] = base[2];
                }
        
                if(alpha_addition) {
                    mi3 /= 2;
                }
        
                mix[3] = parseInt(mi3 * 255);
        
                if(in_uint_32){
        
                    return this_get_Uint32_color_from_rgba_values(mix[0], mix[1], mix[2], mix[3]);
                }else {
        
                    return this_get_hex_color_from_rgba_values(mix[0], mix[1], mix[2], mix[3]);
                }
            }

            function this_remove_duplicate_pxl_colors(_pxls, _pxl_colors) {

                _pxls = Uint32Array.from(_pxls);
                _pxl_colors = Uint32Array.from(_pxl_colors);

                // Work with Hashtables and Typed Array so it is fast
                var new_pxl_colors_object = {};
                var new_pxl_colors_object_length = 0;
                var new_pxls = new Uint32Array(_pxls.length).fill(0);

                Uint32Array.from(_pxls).forEach((pxl, iteration) => {

                    var color = _pxl_colors[pxl];
                    var index_of_color = typeof new_pxl_colors_object[color] === "undefined" ? null: new_pxl_colors_object[color];

                    if(index_of_color === null) {

                        index_of_color = new_pxl_colors_object_length;
                        new_pxl_colors_object[color] = index_of_color;
                        new_pxl_colors_object_length++;
                    }

                    new_pxls[iteration] = index_of_color;
                });

                var new_pxl_colors = new Uint32Array(new_pxl_colors_object_length);
                Object.entries(new_pxl_colors_object).forEach((entry) => {

                    new_pxl_colors[entry[1]] = entry[0];
                })

                return Object.assign({}, {0: Uint32Array.from(new_pxls), 1: Uint32Array.from(new_pxl_colors)});
            }

            var indexes_of_colors_proceed = new Set();
            var original_pxls = Uint32Array.from(pxls);
            var original_pxl_colors = Uint32Array.from(pxl_colors);
            var is_bucket_threshold_auto = bucket_threshold === "auto";
            var is_bucket_threshold_auto_goal_reached = !is_bucket_threshold_auto;
            var bucket_threshold_auto_goal_target = 15;
            var bucket_threshold_auto_goal_attempt = new Set();
            best_color_number = best_color_number !== null ? best_color_number: Math.max(Math.sqrt(original_pxl_colors.length) + color_number_bonus, 64);

            if(best_color_number < 2 || best_color_number > pxl_colors.length) {

                is_bucket_threshold_auto_goal_reached = true;
            }

            var attempt = 1;

            while (!is_bucket_threshold_auto_goal_reached || attempt === 1) {
                attempt++;
                
                bucket_threshold = is_bucket_threshold_auto ?
                    1/(bucket_threshold_auto_goal_target - 2):
                    bucket_threshold || this_state_bucket_threshold;
                threshold_steps = threshold_steps || parseInt(bucket_threshold * 255);
                var color_loss = (255 - (255 / (bucket_threshold * 255))) / 255;

                original_pxls = Uint32Array.from(pxls);
                original_pxl_colors = Uint32Array.from(pxl_colors);

                var new_pxls = Uint32Array.from(original_pxls);
                var new_pxl_colors = Uint32Array.from(original_pxl_colors);

                for (var i = 1; i <= threshold_steps; i += 1) {
                
                    var threshold = bucket_threshold * (i / threshold_steps);
                    var weight_applied_to_color_usage_difference = i / threshold_steps;
                    
                    indexes_of_colors_proceed.clear();
                    var pxl_colors_usage = new Array(new_pxl_colors.length).fill(0);
                    
                    Uint32Array.from(new_pxls).forEach((color_index) => {
                    
                        pxl_colors_usage[color_index]++;
                    });
                    
                    new_pxl_colors.forEach((color_a, index_of_color_a) => {
                    
                        if(!indexes_of_colors_proceed.has(index_of_color_a)) {
                    
                            var color_a_usage = pxl_colors_usage[index_of_color_a];
                    
                            new_pxl_colors.forEach((color_b, index_of_color_b) => {
                    
                                if(index_of_color_a !== index_of_color_b && !indexes_of_colors_proceed.has(index_of_color_b)) {
                    
                                    var color_b_usage = pxl_colors_usage[index_of_color_b];
                                    var color_a_more_used = color_a_usage > color_b_usage;
                    
                                    var color_usage_difference = color_a_more_used ? color_a_usage / color_b_usage: color_b_usage / color_a_usage;
                                    var weighted_threshold = (threshold + (threshold * (1 - 1 / color_usage_difference) * weight_applied_to_color_usage_difference)) / (1 + weight_applied_to_color_usage_difference);
                    
                                    if(this_match_color(color_a, color_b, weighted_threshold)) {
                    
                                        var color = color_a_more_used ?
                                            this_blend_colors(original_pxl_colors[index_of_color_a], original_pxl_colors[index_of_color_b], 1 / (color_usage_difference), true, false, true):
                                            this_blend_colors(original_pxl_colors[index_of_color_b], original_pxl_colors[index_of_color_a], 1 / (color_usage_difference), true, false, true);
                    
                                        original_pxl_colors[index_of_color_a] = color;
                                        original_pxl_colors[index_of_color_b] = color;
                                        indexes_of_colors_proceed.add(index_of_color_a);
                                        indexes_of_colors_proceed.add(index_of_color_b);
                                    }
                                }
                            });
                        }
                    });
                    
                    var r = this_remove_duplicate_pxl_colors(new_pxls, original_pxl_colors);
                    new_pxls = r[0];
                    new_pxl_colors = r[1];
                    original_pxl_colors = Uint32Array.from(new_pxl_colors);
                }

                if((original_pxl_colors.length + 2 > best_color_number && original_pxl_colors.length - 2 < best_color_number) || !is_bucket_threshold_auto || bucket_threshold_auto_goal_attempt.has(bucket_threshold_auto_goal_target)) {

                    return this_remove_duplicate_pxl_colors(new_pxls, original_pxl_colors);
                }else if(original_pxl_colors.length > best_color_number){

                    bucket_threshold_auto_goal_attempt.add(bucket_threshold_auto_goal_target);
                    bucket_threshold_auto_goal_target --;
                }else {

                    bucket_threshold_auto_goal_attempt.add(bucket_threshold_auto_goal_target);
                    bucket_threshold_auto_goal_target ++;
                }
            }

            var fr = this_remove_duplicate_pxl_colors(pxls, pxl_colors);
            fr[0] = Uint16Array.from(fr[0]);
            return fr;
        }`;let F={_caf_id:null,_last_raf_time:Date.now(),_previous_cpaf_fps:0,_cpaf_frames:0,_is_mobile_or_tablet:Boolean(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent||navigator.vendor||window.opera.substr(0,4)))};window._fps_interval=setInterval(()=>{F._previous_cpaf_fps=4*F._cpaf_frames,F._cpaf_frames=0},250);const l=window.requestAnimationFrame||window.oRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,h=window.cancelAnimationFrame||window.oCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;function i2(e,t=!1,_=!1){!function t(_,a,r,o=Date.now()){if(!(o<F._last_raf_time)||a)try{var i=F._is_mobile_or_tablet?27:44,s=Date.now();let e=!0;var n=s-F._last_raf_time;1e3/(2*i/3)<n&&(e=!1),r?(null!==F._caf_id&&h(F._caf_id),F._caf_id=null,a?l(_):F._caf_id=l(_),F._cpaf_frames++,F._last_raf_time=s):null===F._caf_id?(a?l(_):F._caf_id=l(_),F._last_raf_time=s,F._cpaf_frames++):!e&&null!==F._caf_id&&1e3/(6*i/3)<n?(null!==F._caf_id&&h(F._caf_id),F._caf_id=null,F._last_raf_time=s,a?l(_):(F._caf_id=l(_),F._cpaf_frames++)):e?(n<1e3/(2*i)||r||a)&&setTimeout(()=>{t(_,a,r,o)},1e3/(8*i)):(null!==F._caf_id&&h(F._caf_id),F._caf_id=null,a?l(_):F._caf_id=l(_),F._cpaf_frames++,F._last_raf_time=s)}catch(e){}}(e,t,_)}class t extends W.default.Component{constructor(e){var _,t,D=super(e);this._xxhashthat=e=>{var t=this.state;const _=t._xxHash32js,a=t._xxHashWasm;return null!==_?_(Buffer.from(e),0).toString(16):null!==a?a.h32(e):Array.length},this._set_size=(e=null,t=null)=>{e=e||this.state.pxl_width,t=t||this.state.pxl_height,this.setState({id:Date.now(),pxl_width:e,pxl_height:t,_pxl_indexes_of_selection:new Set,_layers:[{id:Date.now(),name:"Layer 0",hidden:!1,opacity:1}],_layer_index:0,_s_pxls:Array.of(new Uint16Array((e||32)*(t||32)).fill(0)),_old_pxls:new Uint16Array((e||32)*(t||32)).fill(0),_s_pxl_colors:Array.of(Uint32Array.of(0)),_old_pxl_colors:["#00000000"],_moves_speed_average_now:8,_hidden:!0,has_shown_canvas_once:!1,_is_there_new_dimension:!0},()=>{this._update_screen_zoom_ratio(!0)})},this._notify_export_state=()=>{this.props.on_export_state&&this.export_JS_state(e=>{this.props.on_export_state(e)})},this._updated_dimensions=()=>{var e=document.documentElement,t=document.getElementsByTagName("body")[0];window.innerWidth||e.clientWidth||t.clientWidth,window.innerHeight||e.clientHeight||t.clientHeight,this._update_canvas_container_size()},this._maybe_update_mine_player=()=>{if("MINE"===this.state.tool){var e=this.state,o=e.pxl_width,i=e.pxl_height,e=this.state;let _=e._mine_index,a=e._mine_player_index,r=e.mine_player_direction;if(null===a)a=Math.floor(Math.random()*(o*i-1)),_=-1;else{let e=a%o,t=(a-e)/o;switch(r){case"UP":t--;break;case"RIGHT":e++;break;case"DOWN":t++;break;case"LEFT":e--}e%=o,e=e<0?o+e:e,t%=i,t=t<0?i+t:t,a=e+t*o,_===a&&(this.setState({_explosion_started_timestamp:Date.now(),_explosion_index:_}),this._notify_game_end())}this.setState({_mine_player_index:a,_mine_index:_},()=>{this._update_canvas()})}},this._maybe_update_selection_highlight=()=>{var e=this.state;const t=e.tool,_=e._is_image_import_mode;(t.toUpperCase().includes("SELECT")||_||1<=this.state._pxl_indexes_of_selection.size)&&this.setState({_selection_pair_highlight:!this.state._selection_pair_highlight},()=>{this._update_canvas()})},this._handle_motion_changes=e=>{var t=window.screen,t=(t.orientation||{}).type||t.mozOrientation||t.msOrientation;let _=e.accelerationIncludingGravity.x-e.acceleration.x;_=Math.max(-10,Math.min(10,_));var a=_;let r=e.accelerationIncludingGravity.y-e.acceleration.y;switch(r=Math.max(-10,Math.min(10,r)),t){case"portrait-primary":_=_,r=r;break;case"portrait-secondary":_=-_,r=-r;break;case"landscape-primary":_=-r,r=a;break;case"landscape-secondary":_=r,r=-a}F._is_mobile_or_tablet&&this.state.perspective&&this.state.has_shown_canvas_once&&this.setState({_device_motion:!0,perspective_coordinate:[_,r],perspective_coordinate_last_change:Date.now()},()=>{-24===this.state._moves_speed_average_now&&this._request_force_update(!0,!0,()=>{})})},this.set_perspective_coordinate=e=>{F._is_mobile_or_tablet&&this.state._device_motion||!this.state.perspective||!this.state.has_shown_canvas_once||this.setState({perspective_coordinate:e,perspective_coordinate_last_change:Date.now()},()=>{this._request_force_update(!0,!0,()=>{F._is_mobile_or_tablet||this._notify_perspective_coordinate_changes(e.concat([this.state.scale]))})})},this._notify_perspective_coordinate_changes=e=>{var t;!this.props.onPerspectiveCoordinateChanges||(t=this.state).perspective_coordinate_last_notify+t.perspective_coordinate_notify_after_ms<(t=Date.now())&&(this.setState({perspective_coordinate_last_notify:t}),this.props.onPerspectiveCoordinateChanges(e))},this.zoom_of=(_=1,a=null,r=null,o=0,i=0)=>{var s=this.state,n=s.scale,l=s.scale_move_x,h=s.scale_move_y,c=n*_;if(!(6<c||c<1/6)){s=1-n/c,_=c/n,n=this._get_canvas_pos();let e,t;t=null!==a&&null!==r?(e=a-n.canvas_container.left,r-n.canvas_container.top):(e=n.canvas_container.width/2,n.canvas_container.height/2);o=(l-e*s)*_+o,h=(h-t*s)*_+i,s=(n.canvas_container.width-n.canvas_wrapper.width)/2,_=(n.canvas_container.height-n.canvas_wrapper.height)/2,i=.75*n.canvas_wrapper.width+s,n=.75*n.canvas_wrapper.height+_;h-=_,o-=s;s=Math.min(Math.abs(o),i)*(o<0?-1:1)+s,_=Math.min(Math.abs(h),n)*(h<0?-1:1)+_;this._set_moves(s,_,c)}},this.current_layer_up=()=>{var e=this.state;let t=e._layers,_=e._layer_index,a=e._s_pxl_colors,r=e._s_pxls;_<t.length-1&&(t.splice(_+1,0,t.splice(_,1)[0]),a.splice(_+1,0,a.splice(_,1)[0]),r.splice(_+1,0,r.splice(_,1)[0]),this.setState({_layers:t,_s_pxl_colors:a,_s_pxls:r,_layer_index:_+1},()=>{this._update_canvas()}))},this.current_layer_down=()=>{var e=this.state;let t=e._layers,_=e._layer_index,a=e._s_pxl_colors,r=e._s_pxls;0<_&&(t.splice(_-1,0,t.splice(_,1)[0]),a.splice(_-1,0,a.splice(_,1)[0]),r.splice(_-1,0,r.splice(_,1)[0]),this.setState({_layers:t,_s_pxl_colors:a,_s_pxls:r,_layer_index:_-1},()=>{this._update_canvas()}))},this.new_layer=e=>{var t=this.state,_=t.pxl_width,a=t.pxl_height,t=this.state;let r=t._layers,o=t._s_pxl_colors,i=t._s_pxls;e=void 0===e?o.length:e,o.splice(e+1,0,Uint32Array.of(0)),i.splice(e+1,0,new Uint16Array(_*a).fill(0)),r.splice(e+1,0,{id:Date.now(),name:"Layer "+e,hidden:!1,opacity:1}),this.setState({_layers:r,_layer_index:e,_s_pxl_colors:o,_old_pxl_colors:Uint32Array.of(0),_s_pxls:i,_old_pxls:new Uint16Array(_*a).fill(0),_last_action_timestamp:Date.now()},()=>{this._notify_layers_and_compute_thumbnails_change()})},this.duplicate_layer=e=>{var t=this.state,_=t.pxl_width,a=t.pxl_height,t=this.state;let r=t._layers,o=t._s_pxl_colors,i=t._s_pxls;e=void 0===e?o.length:e,o.splice(e+1,0,Uint32Array.from(o[e])),i.splice(e+1,0,[...i[e]]),r.splice(e+1,0,{id:Date.now(),hash:""+r[e].hash,name:r[e].name+" (copy)",hidden:r[e].hidden,opacity:r[e].opacity,colors:Array.from(r[e].colors),number_of_colors:r[e].number_of_colors,thumbnail:""+r[e].thumbnail}),this.setState({_layers:r,_layer_index:e+1,_s_pxl_colors:o,_old_pxl_colors:Uint32Array.of(0),_s_pxls:i,_old_pxls:new Array(_*a).fill(0),_last_action_timestamp:Date.now()},()=>{this._notify_layers_and_compute_thumbnails_change()})},this.delete_layer=e=>{var t=this.state,t=(t.pxl_width,t.pxl_height,this.state);let _=t._layers,a=t._s_pxl_colors,r=t._s_pxls,o=t._layer_index;1<_.length&&(a.splice(e,1),r.splice(e,1),_.splice(e,1),o=e-1,o=o<0?0:o,this.setState({_layers:_,_layer_index:o,_s_pxl_colors:a,_old_pxl_colors:a[o],_s_pxls:r,_old_pxls:r[o],_last_action_timestamp:Date.now()},()=>{this._update_canvas(),this._notify_layers_and_compute_thumbnails_change()}))},this.change_active_layer=e=>{var t=this.state,_=t._s_pxl_colors,t=t._s_pxls;this.setState({_layer_index:e,_old_pxl_colors:_[e],_old_pxls:Uint16Array.from(t[e]),_last_action_timestamp:Date.now()},()=>{this._notify_layers_and_compute_thumbnails_change()})},this.toggle_layer_visibility=e=>{let t=Array.from(this.state._layers);t[e].hidden=!t[e].hidden,this.setState({_layers:t,_last_action_timestamp:Date.now()},()=>{this._update_canvas(),this._notify_layers_and_compute_thumbnails_change()})},this.change_layer_opacity=(e,t)=>{let _=Array.from(this.state._layers);_[e].opacity=t,this.setState({_layers:_},()=>{this._notify_layers_and_compute_thumbnails_change(),this._update_canvas()})},this.merge_down_layer=e=>{var t=this.state;let _=t._layers,o=t._s_pxls,i=t._s_pxl_colors;_=Array.from(_),o=o.map(e=>Uint16Array.from(e)),i=i.map(e=>Uint32Array.from(e));var s=this.state,n=s.pxl_width,t=s.pxl_height;if(void 0!==_[e]&&void 0!==_[e-1]){s={id:Date.now(),name:`Merged layers ${e}+`+(e-1),hidden:_[e].hidden&&_[e-1].hidden,opacity:1};let a=new Uint16Array(n*t).fill(0),r=[];const l=Uint16Array.from(o[e]),h=Uint16Array.from(o[e-1]),c=i[e],p=_[e].opacity,d=i[e-1],f=_[e-1].opacity;h.forEach((e,t)=>{var _=l[t],_=c[_],e=d[e],e=this._blend_colors(0,e,f,!1,!1,!0),e=this._blend_colors(e,_,p,!1,!1,!0);r.includes(e)||r.push(e);e=r.indexOf(e);a[t]=e}),_.splice(e-1,2,s),o.splice(e-1,2,a),i.splice(e-1,2,r),this.setState({_layer_index:e-1,_layers:_,_s_pxls:o,_old_pxls:new Uint16Array(n*t).fill(0),_s_pxl_colors:i,_old_pxl_colors:new Uint32Array(0),_last_action_timestamp:Date.now()},()=>{this._notify_layers_and_compute_thumbnails_change(),this._update_canvas()})}},this._notify_game_end=()=>{this.props.onGameEnd&&this.props.onGameEnd()},this._notify_backdrop_click=e=>{this.props.onBackdropClick&&this.props.onBackdropClick(e)},this.compute_filters_preview=()=>{this._notify_filters_change(1)},this._notify_filters_change=(s=1)=>{if(this.props.onFiltersThumbnailChange){var e=this.state;const t=e._layer_index,n=e.pxl_width,l=e.pxl_height,_=e._s_pxls,a=e._s_pxl_colors,r=e._last_filters_hash,h=Uint16Array.from(_[t]),c=Uint32Array.from(a[t]),p=Array.of(h,c).map(e=>this._xxhashthat(e)).join("-");if(r!==p){let o=[],i=0;this.setState({_last_filters_hash:p},()=>{Array.from(this.get_filter_names()).forEach((t,e,_)=>{var a=o2(this._filter_pixels(t,s,h,c,!1),2),r=a[0],a=a[1];this.get_layer_base64_png_data_url(n,l,r,a,e=>{o[t]=e,i++,this.props.onFiltersThumbnailChange(Object.assign({},o),p+"-done-"+i.toString())})},80)})}}},this._notify_layers_and_compute_thumbnails_change=(r=()=>{})=>{const _=(e,t,_,a)=>{r(e,t,_,a),_&&this.setState({_layers:e},()=>{this.props.onLayersChange&&this.props.onLayersChange(this.state._layer_index,this.state._layers)})};var e=this.state,t=e._layers,a=e.pxl_width,o=e.pxl_height,i=e._s_pxls,e=e._s_pxl_colors;const s=Array.from(t);var n=parseInt(a),l=parseInt(o),h=Array.from(i),c=Array.from(e);let p=s.map(e=>e.hash||"").join("-"),d="",f=[],g=0;for(let t=0;t<s.length;t++){f[t]=Object.assign({},s[t]);var m,A=Uint16Array.from(h[t]);const u=Uint32Array.from(c[t]),x=Array.of(A,u).map(e=>this._xxhashthat(e)).join("-");x===f[t].hash&&Boolean(f[t].thumbnail)?(d+="+"+f[t].hash,g++,g===s.length&&(m=Boolean(p!==d),_(f,g,m,d))):this.get_layer_base64_png_data_url(n,l,A,u,e=>{d+="+"+x,f[t].hash=x,f[t].colors=Array.from(u.slice(0,128)||[]).map(e=>this._format_color(e)),f[t].number_of_colors=u.length,f[t].thumbnail=e,g++,g===s.length&&(e=Boolean(p!==d),_(f,g,e,d))},42)}},this.get_layer_base64_png_data_url=(t,_,a,r,o,i=0)=>{i=0===i?t:i,A(function*(){var e=yield f.default.exec(new Function(window.get_layer_base64_png_data_url_process_function_string)(),[t,_,a,r,1,i]).catch(function(e){return Promise.resolve(new Function(window.get_layer_base64_png_data_url_process_function_string)()(t,_,a,r,1,i))}).timeout(5e3);o(e)})()},this._get_base64_png_data_url=(a=1,r=()=>{},o=!1,i=0,s=30,n=35)=>{var e=this.state;const l=e.pxl_width,h=e.pxl_height,c=e._s_pxls,p=e._s_pxl_colors,d=e._layers;A(function*(){var e=yield f.default.exec(new Function(window.get_base64_png_data_url_process_function_string)(),[l,h,c,p,d,a,o]).catch(function(e){return Promise.resolve(new Function(window.get_base64_png_data_url_process_function_string)()(l,h,c,p,d,a,o))}).timeout(1e4);if(void 0!==e)if(0!==i){const t=e[0],_=e[1];g.e(0).then(g.t.bind(null,665,7)).then(function({png_quant:e}){e(t,s,n,i,function(e){r([e,_])},f.default)})}else r(e)})()},this._reduce_color=(t,_)=>{if(1===_)return t;{t++;let e=Math.round(t*_)-1;return e=e<0?0:e,Math.round(e/_)}},this._get_pixels_palette_and_list_from_image_data=(_,e=!1,t,a)=>{var r=this.state,o=r.max_size,i=r._lazy_lazy_compute_time_ms,r=_.data.length/4>o*o;let s=[],n=new Set,l;if(!r||e){l=new Uint32Array(_.width*_.height).fill(0);for(let t=0;t<_.data.length;t+=4){var h=this._get_Uint32_color_from_rgba_values(_.data[t+0],_.data[t+1],_.data[t+2],_.data[t+3]);let e=n.has(h)?s.indexOf(h):-1;-1===e&&(e=s.push(h)-1,n.add(h)),l[t/4]=e}}else{var c=Date.now();l=[];let e=0;for(let t=0;t<=o&&!(c+i<Date.now());t++){var p=Math.round(e)*_.width*4;for(let e=0;e<4*_.width;e+=4){var d=e+p,d=this._get_Uint32_color_from_rgba_values(_.data[d+0],_.data[d+1],_.data[d+2],_.data[d+3]);s.includes(d)||s.push(d);d=s.indexOf(d);l[t*_.width+e/4]=d}e+=_.height/o}}return{too_much_pixel_cpu_would_go_brrrrr:r,ratio_pixel_per_color:l.length/s.length,new_pxl_colors:Uint32Array.from(s),new_pxls:Uint32Array.from(l)}},this._get_new_ctx_from_canvas=(e,t,_=!0,a="")=>{let r=document.createElement("canvas");r.width=e,r.height=t;let o=r.getContext("2d");return _?(o.mozImageSmoothingEnabled=!1,o.webkitImageSmoothingEnabled=!1,o.msImageSmoothingEnabled=!1,o.imageSmoothingEnabled=!1):a.length&&(o.imageSmoothingQuality=a),[o,r]},this.copy_selection=()=>{this.import_image_on_canvas_from_selection()},this.cut_selection=()=>{this.import_image_on_canvas_from_selection(),this.erase_selection(),this.to_selection_none()},this.erase_selection=()=>{var e=this.state;let t=e._s_pxls,_=e._s_pxl_colors,a=e._layer_index,r=e._pxl_indexes_of_selection,o=e.pxl_width,i=(e.pxl_height,Array.from(_[a]));if(0<r.size){i.includes(0)||(i.push(0),_[a]=Uint32Array.from(i));const s=_[a].indexOf(0);r.forEach(e=>{o,o,t[a][e]=s}),this.setState({_s_pxls:t,_s_pxl_colors:_,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})}},this.import_image_on_canvas_from_selection=()=>{var e=this.state;let o=e._s_pxls,i=e._s_pxl_colors,s=e._layer_index,n=e._pxl_indexes_of_selection,l=e.pxl_width,h=e.pxl_height;if(0<n.size){let _=[l,h],a=[-1,-1];n.forEach(e=>{var t=e%l,e=(e-t)/l;t<_[0]&&(_[0]=t),e<_[1]&&(_[1]=e),t>a[0]&&(a[0]=t),e>a[1]&&(a[1]=e)});var c=1+a[0]-_[0],p=1+a[1]-_[1],d=o[s];let t=new Uint32Array(c*p),r=Array.from(i[s]);for(let e=0;e<c*p;e++){var f=e%c,g=(e-f)/c;f+=_[0];f=(g+=_[1])*l+f;n.has(f)?t[e]=d[f]:(r.includes(0)||r.push(0),t[e]=r.indexOf(0))}e=o2(this._remove_duplicate_pxl_colors(t,r),2);t=e[0],r=e[1],this.setState({_imported_image_start_x:_[0],_imported_image_start_y:_[1],_imported_image_scale_delta_x:0,_imported_image_scale_delta_y:0,_imported_image_pxls:t,_imported_image_width:c,_imported_image_height:p,_imported_image_pxl_colors:r},()=>{this._notify_image_import_complete(),this._notify_is_image_import_mode(),this._update_canvas()})}},this.import_image_on_canvas=o=>{this.props.onImageImport&&this.props.onImageImport(),setTimeout(()=>{var t=this.state,_=(t.pxl_width,t.pxl_height,o.width),a=o.height;{let e=o2(this._get_new_ctx_from_canvas(_,a,!1),1)[0];e.drawImage(o,0,0,_,a);var r=e.getImageData(0,0,_,a),t=this._get_pixels_palette_and_list_from_image_data(r,!0),r=t.new_pxl_colors,t=t.new_pxls;this.setState({_imported_image_start_x:0,_imported_image_start_y:0,_imported_image_scale_delta_x:0,_imported_image_scale_delta_y:0,_imported_image_pxls:t,_imported_image_width:_,_imported_image_height:a,_imported_image_pxl_colors:r},()=>{this._notify_image_import_complete(),this._notify_is_image_import_mode(),this._update_canvas()})}},50)},this._get_imported_image_scaled=(_,r,o,i,s,n)=>{if(_.length){var l=o2(this._get_new_ctx_from_canvas(o,i,!0),2);let a=l[0],e=l[1];_.forEach((e,t)=>{var _=t%o,t=(t-_)/o,e=this._get_hex_from_Uint32(r[e]);a.fillStyle=e,a.fillRect(_,t,1,1)});l=o+s,s=i+n;let t=o2(this._get_new_ctx_from_canvas(l,s,!0),1)[0];t.drawImage(e,0,0,o,i,0,0,l,s);n=t.getImageData(0,0,l,s),n=this._get_pixels_palette_and_list_from_image_data(n,!0);return[n.new_pxls,n.new_pxl_colors,l,s]}return[_,r,o,i]},this.set_canvas_hidden=()=>{this.setState({_hidden:!0},()=>{this._request_force_update()})},this.set_canvas_from_image=(C=null,I="",e={},M=!1)=>{var t,_;this.props.onLoad&&this.props.onLoad("image_load"),e.id?(t=Array.of(Uint32Array.from(e.pxl_colors)),_=Array.of(Uint16Array.from(e.pxls)),this.setState({_id:Date.now(),pxl_width:e.width,pxl_height:e.height,_pxl_indexes_of_selection:new Set,_base64_original_images:[],_s_pxl_colors:t,_s_pxls:_,_layers:[{id:Date.now(),name:"Layer 0",hidden:!1,opacity:1}],_layer_index:0,_old_pxls_hovered:-1,_pxls_hovered:-1,_old_pxl_colors:Uint32Array.of(0),_old_pxls:new Uint16Array(e.pxls.length).fill(0),_hidden:!0,has_shown_canvas_once:!1,_is_there_new_dimension:!0,_original_image_index:-1,_last_action_timestamp:Date.now()},()=>{this._update_screen_zoom_ratio(!0,()=>{this._notify_image_load_complete(),this._notify_export_state()})})):setTimeout(A(function*(){var e=D.state,_=e.default_size,a=e.max_size,p=e.ideal_size,t=e._base64_original_images,r=e.dont_change_img_size_onload,o=e.dont_compute_base64_original_image;let d=C.width,f=C.height;e=o2(D._get_new_ctx_from_canvas(d,f,!1),2);let i=e[0],s=e[1];i.drawImage(C,0,0,d,f);e=i.getImageData(0,0,d,f),o=o?"":0<I.length?I:s.toDataURL("image/jpeg");s=null;let n=!1,g=1;if(!1===r){var l=D._get_pixels_palette_and_list_from_image_data(e,!1,251/255),h=l.new_pxl_colors,m=l.new_pxls,c=(l.ratio_pixel_per_color,l.too_much_pixel_cpu_would_go_brrrrr,yield D._remove_close_pxl_colors(m,h,.25,null,0)),m=Uint32Array.from(c[0]),h=Uint32Array.from(c[1]),A=m.length/h.length;let t=a*a>f*d;if(!t){let _=1/0,a=[],r=0,o=-1;a[1]=0,Uint32Array.from(m).forEach(function(e,t){o===e||0===t?r++:(r<_&&(_=r),a[r]=void 0!==a[r]?a[r]+1:1,r=1),o=e});let i=1,s=1,n=1,l;const b=Math.sqrt(d*f/(p*p));Object.entries(a).forEach(function(e,t){var _=o2(e,2),a=_[0],r=_[1];32<(a=parseInt(a))||(e=32<a?1:42/(a+10),_=32<a?1:e*b,_=32<a?0:_*Math.pow(a,1-1/e+1),e=s<r*a+_,1!==a&&e&&(n=a,l=r,i=r*a,s=r*a+_))});let h=i*b*4>a[1]?n:1;if(a[1]<a.length){let e=0;for(;;){if(void 0!==a[e]&&0!==a[e]){e>a[1]&&(h=e,t=!0);break}e++}}let c=h;if(Object.entries(a).forEach(function(e,t){var _=o2(e,2),e=_[0],_=_[1],e=parseInt(e);1<t&&_>a[c]&&e<h&&(c=e)}),C.width%c!=0){let e=1;for(;C.width%(c+e)!=0&&C.width%(c-e)!=0&&C.height%(c+e)!=0&&C.height%(c-e)!=0&&e<16;)C.width%(c-e)==0&&C.height%(c-e)==0?c-=e:C.width%(c+e)==0&&C.height%(c+e)==0&&(c+=e),e++}g=1/c}var u=f*g*(d*g),l=A>16*Math.sqrt(u)&&u<=_*_*4||A>9*Math.sqrt(u)&&u<=_*_*3||A>4*Math.sqrt(u)&&u<=_*_*2||A>+Math.sqrt(u)&&u<=_*_*1,c=u>h.length;if((l||t)&&u<a*a&&c&&!0!==M)f*d>_*_&&(d*=g,f*=g,n=!0);else{let e=1;for(;Math.round(d*e)*Math.round(f*e)>_*_;)e-=.01;d*=e,f*=e}}let x,v;v=n&&!1===r?(m=1/g,A=(p=d/g)-p%m,l=(h=f/g)-h%m,u=Math.floor(A/m),a=Math.floor(l/m),c=A,m=l,A=Math.floor((p-A)/2),l=Math.floor((h-l)/2),d=Math.floor(u),f=Math.floor(a),a=o2(D._get_new_ctx_from_canvas(d,f,!0),1),x=a[0],x.drawImage(C,A,l,c,m,0,0,d,f),x.getImageData(0,0,d,f)):!1===r?(d=Math.floor(d),f=Math.floor(f),r=o2(D._get_new_ctx_from_canvas(d,f,!0),1),x=r[0],x.drawImage(C,0,0,d,f),x.getImageData(0,0,d,f)):e;e=D._get_pixels_palette_and_list_from_image_data(v,!0,0);let w=t;w.includes(o)||w.push(o);let y=Array.of(Uint32Array.from(e.new_pxl_colors));e=Array.of(Uint32Array.from(e.new_pxls));D.setState({_id:Date.now(),pxl_width:d,pxl_height:f,_pxl_indexes_of_selection:new Set,_base64_original_images:w,_layers:[{id:Date.now(),name:"Layer 0",hidden:!1,opacity:1}],_json_state_history:{previous_history_position:0,history_position:0,state_history:[]},_saved_json_state_history_timestamp_from_drawing:0,_s_pxl_colors:y,_s_pxls:e,_layer_index:0,_old_pxls_hovered:-1,_pxls_hovered:-1,_old_pxl_colors:Uint32Array.of(0),_old_pxls:new Uint16Array(e[0].length).fill(0),_hidden:!0,has_shown_canvas_once:!1,_is_there_new_dimension:!0,_original_image_index:w.indexOf(o),_last_action_timestamp:Date.now()},function(){5e3<=y[0].length?D._to_less_color(1/32,function(){D._update_screen_zoom_ratio(!0,function(){D._notify_image_load_complete(),D._notify_export_state()})}):2500<=y[0].length?D._to_less_color(1/64,function(){D._update_screen_zoom_ratio(!0,function(){D._notify_image_load_complete(),D._notify_export_state()})}):D._update_screen_zoom_ratio(!0,function(){D._notify_image_load_complete(),D._notify_export_state()})})}),50)},this._set_canvas_ref=t=>{if(null!==t){var _=this.state,a=_.pxl_width,_=_.pxl_height;t.context2d=t.getContext("2d");try{if("undefined"==typeof OffscreenCanvas)throw new Error("Impossible to create OffscreenCanvas in this web environment.");t.offscreenCanvas=new OffscreenCanvas(a,_),t.offscreenCanvas.context2d=t.offscreenCanvas.getContext("2d")}catch(e){t.offscreenCanvas=document.createElement("canvas"),t.offscreenCanvas.width=a,t.offscreenCanvas.height=_,t.offscreenCanvas.context2d=t.offscreenCanvas.getContext("2d")}t.offscreenCanvas.context2d.globalCompositeOperation="source-over",t.context2d.globalCompositeOperation="copy",t.context2d.imageSmoothingEnabled=!1,this.setState({_canvas:t,has_shown_canvas_once:!1},()=>{this._request_force_update()})}},this._set_canvas_container_ref=e=>{null!==e&&this.setState({_canvas_container:e},()=>{this._update_canvas_container_size()})},this._set_canvas_wrapper_ref=e=>{null!==e&&this.setState({_canvas_wrapper:e})},this._set_canvas_wrapper_overflow_ref=e=>{null!==e&&(e.addEventListener("wheel",this.handle_canvas_wrapper_overflow_wheel,{capture:!0,passive:!0}),e.addEventListener("pointerdown",this._handle_canvas_wrapper_overflow_pointer_down,{capture:!0,passive:!0}),e.addEventListener("pointermove",this._handle_canvas_wrapper_overflow_pointer_move,{capture:!0,passive:!0}),e.addEventListener("pointerup",this._handle_canvas_wrapper_overflow_pointer_up,{capture:!0,passive:!0}),e.addEventListener("pointercancel",this._handle_canvas_wrapper_overflow_pointer_up,{capture:!0,passive:!0}),e.addEventListener("pointerout",this._handle_canvas_wrapper_overflow_pointer_up,{capture:!0,passive:!0}),e.addEventListener("pointerleave",this._handle_canvas_wrapper_overflow_pointer_up,{capture:!0,passive:!0}),this.setState({_canvas_wrapper_overflow:e}))},this._to_canvas_middle=(e=!0,t=null,_=()=>{})=>{var a=this.state;const r=a._canvas_container,o=a._canvas_wrapper,i=a.default_scale;t=null!==t?t:e?i:this.state.scale,r&&o?this.setState({scale:t},()=>{this._request_force_update(!1,!0,()=>{var e=o.getBoundingClientRect(),t=(r.clientWidth-e.width)/2,e=(r.clientHeight-e.height)/2;this.setState({scale_move_x:t,scale_move_y:e,_moves_speed_average_now:8,_hidden:!1,has_shown_canvas_once:!1},()=>{this._request_force_update(!1,!0,()=>{this._update_canvas(),this._notify_size_change(),_()})})})}):setTimeout(()=>{this._to_canvas_middle(e,t)},50)},this._get_canvas_pos_from_event=e=>{var t=this.state,_=t.pxl_width,a=t.pxl_height,r=this._get_canvas_pos().canvas,t=e.pageX-r.left,e=e.pageY-r.top;let o=Math.floor(_*(t/r.width)),i=Math.floor(a*(e/r.height));return o=o!==Math.max(Math.min(o,_-1),0)?-1:o,i=i!==Math.max(Math.min(i,a-1),0)?-1:i,-1!==o&&-1!==i||(o=-1,i=-1),[o,i]},this._match_color=(e,t,_)=>{if(1===(_=void 0===_?null:_))return!0;if(0===_)return e===t;var a=Math.round(255*_);e=this._format_color(e,!0),t=this._format_color(t,!0);var r=o2(this._get_rgba_from_Uint32(e),4),o=r[0],i=r[1],s=r[2],n=r[3],l=o2(this._get_rgba_from_Uint32(t),4),e=l[0],r=l[1],t=l[2],l=l[3],l=Math.abs(n-l),e=Math.abs(o-e),r=Math.abs(i-r),s=Math.abs(s-t),t=Math.abs(1-l/255);return null!==_?Boolean(e<a&&r<a&&s<a&&l<a):(e+r+s)/765*t},this.exchange_pixel_color=(e,t)=>{this._exchange_pixel_color(e,t)},this._exchange_pixel_color=(e,t)=>{var _=this.state,a=_._s_pxl_colors,r=_._s_pxls,_=_._layer_index;let o=Array.from(a[_]),i=Uint16Array.from(r[_]);const s=o.indexOf(e);e=o[s],t=this._blend_colors(e,t,1,!0,!1,!0);o.includes(t)||o.push(t);const n=o.indexOf(t);i=i.map(e=>e===s?n:e);t=o2(this._remove_duplicate_pxl_colors(i,o),2);i=t[0],o=t[1];let l=this.state._s_pxl_colors;l[_]=o;let h=this.state._s_pxls;h[_]=i,this.setState({_s_pxls:h,_s_pxl_colors:l,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})},this._handle_canvas_mouse_down=(s,e)=>{var a=this.state;const t=a._previous_double_pointer_move_timestamp,r=a._mouse_down,o=a.hide_canvas_content,f=a.tool,g=a.pxl_width,m=a.pxl_height,A=a.pxl_current_opacity,n=a.bucket_threshold,l=a.select_mode,_=a._event_button;var u=_+1;const x=this._format_color(this.state.pxl_current_color,!0);let v=-1,w=-1;if(!(t+200>Date.now())&&(-1!==this.state._pxls_hovered&&null===s?(y=this.state._pxls_hovered%g,h=(this.state._pxls_hovered-y)/g,v=y,w=h):s&&(b=o2(this._get_canvas_pos_from_event(s),2),v=b[0],w=b[1]),-1!==v&&-1!==w)){a=this.state;let _=a._shape_index_a,e=a._select_shape_index_a,i=(a._shape_index_b,a._select_shape_index_b,this.state._pxl_indexes_of_selection);var y=w*g+v,h=this.state;const c=h._s_pxls,R=h._s_pxl_colors,T=h._layer_index,B=h.hue;h._layers;var b=c[T][y];if(-1!==u){1===u?this.setState({_mouse_down:!0},()=>{!0!==r&&(-24===this.state._moves_speed_average_now?this._request_force_update(!0,!1):this._request_force_update(!0,!0))}):3===u&&(_=-1,e=-1);a=this.state,h=a._imported_image_pxls;if(a.scale,!o){const N=Uint16Array.from(c[T]);let p=Uint16Array.from(c[T]),d=Array.from(R[T]);a=d[b],a=this._blend_colors(a,x,A,!0,!1,!0);d.includes(a)||d.push(a);a=d.indexOf(a);if(0<h.length&&1===u)this.setState({_imported_image_move_from:[v,w]});else if(2===u||"MOVE"===f&&h.length<=0&&(1===u||-1===u))this.setState({_image_move_from:[s.x,s.y]});else if("MINE"===f&&1===u)this.setState({_mine_index:y});else if("PICKER"===f&&1===u){h=this.get_pixel_color_from_pos(v,w);this._notify_current_color_change(h),this._notify_relevant_action_event(s,h,1)}else if("EXCHANGE"===f&&1===u){var C=R[T][b];this._exchange_pixel_color(C,x),this._notify_relevant_action_event(s,x,1)}else if("LINE"===f||"RECTANGLE"===f||"ELLIPSE"===f)if(-1===_)1===u?this.setState({_shape_index_a:y},()=>{this._update_canvas()}):this.setState({_shape_index_a:_},()=>{this._update_canvas()});else{var I="LINE"===f?this._get_pixels_palette_and_list_from_line(p,_,y,d,x,A):"RECTANGLE"===f?this._get_pixels_palette_and_list_from_rectangle(p,_,y,d,x,A):(f,this._get_pixels_palette_and_list_from_ellipse(p,_,y,d,x,A));p=I[0],d=I[1];let e=this.state._s_pxl_colors;e[T]=d;let t=this.state._s_pxls;t[T]=p,this.setState({_s_pxls:t,_s_pxl_colors:e,_shape_index_a:-1,_last_action_timestamp:Date.now()},()=>{this._update_canvas()}),this._notify_relevant_action_event(s,"#ffffffff",.6)}else if("SELECT LINE"===f||"SELECT RECTANGLE"===f||"SELECT ELLIPSE"===f)if(-1===e)1===u?this.setState({_select_shape_index_a:y},()=>{this._update_canvas()}):this.setState({_select_shape_index_a:e},()=>{this._update_canvas()});else{const L="SELECT LINE"===f?this._get_pixels_palette_and_list_from_line(p,e,y)[2]:"SELECT RECTANGLE"===f?this._get_pixels_palette_and_list_from_rectangle(p,e,y)[2]:(f,this._get_pixels_palette_and_list_from_ellipse(p,e,y)[2]);"REPLACE"===l&&i.clear(),L.forEach(e=>{"ADD"===l||"REPLACE"===l?i.add(e):i.delete(e)}),this.setState({_pxl_indexes_of_selection:i,_select_shape_index_a:-1,_last_action_timestamp:Date.now()},()=>{this._update_canvas(),this._notify_is_something_selected()})}else if("SELECT PIXEL"!==f&&"SELECT PATH"!==f||1!==u)if("SET PENCIL MIRROR"===f&&1===u)this.setState({_pencil_mirror_index:y,_last_action_timestamp:Date.now()},()=>{this._update_canvas()});else if("PENCIL"!==f&&"PENCIL PERFECT"!==f&&"CONTOUR"!==f||1!==u)if("BUCKET"!==f&&"HUE BUCKET"!==f&&"SELECT COLOR THRESHOLD"!==f&&"BORDER"!==f||1!==u){if("SELECT COLOR"===f&&1===u){const c=this.state._s_pxls;var M=Uint16Array.from(c[T]);const O=M[y];"REPLACE"===l&&i.clear(),Uint16Array.from(M).forEach((e,t)=>{e===O&&("ADD"===l||"REPLACE"===l?i.add(t):i.delete(t))}),this.setState({_pxl_indexes_of_selection:i,_last_action_timestamp:Date.now()},()=>{this._update_canvas(),this._notify_is_something_selected()})}}else{b=this.state._old_pxls;const k=Uint16Array.from(b);C=[v,w];const Y=k[y],P=d[Y];let h=[];I=o2(this._get_rgba_from_Uint32(P),4),u=I[0],M=I[1],b=I[2],M=o2((I[3],this._rgb_to_hsl(u,M,b)),3),b=M[0];M[1],M[2];const Q=b<B?B-b:360-b+B;let a=[C],c=new Set;var D=e=>{if(0===n)return Y===k[e];if(!c.has(e)&&0<=e&&e<g*m){var t=P||0,e=d[k[e]]||0;return this._match_color(t,e,n)}return!1};const z=(e,t=!0)=>{var _,a,r,o,i,s,n,l;(!c.has(e)||t)&&0<=e&&e<g*m&&("HUE BUCKET"===f?(t&&(_=d[N[e]],void 0===h[_]?(i=(a=o2(this._get_rgba_from_Uint32(_),4))[0],s=a[1],n=a[2],l=a[3],r=(o=o2(this._rgb_to_hsl(i,s,n),3))[0],a=o[1],o=o[2],r=(r+Q)%360,i=(o=o2(this._hsl_to_rgb(r,a,o),3))[0],s=o[1],n=o[2],l=this._get_Uint32_color_from_rgba_values(i,s,n,l),d.includes(l)||d.push(l),l=d.indexOf(l),h[_]=l,p[e]=l):p[e]=h[_]),c.add(e)):"BUCKET"===f||"BORDER"===f?(t&&(t=p[e],t=d[t],t=this._blend_colors(t,x,A,!1,!1,!0),d.includes(t)||d.push(t),t=d.indexOf(t),p[e]=t),c.add(e)):"SELECT COLOR THRESHOLD"===f&&c.add(e))};let r=!1,o=!1;for(;a.length;){var E=o2(a.pop(),2);let e=E[0],t=E[1],_=t*g+e;for(;0<=t&&D(_);)_-=g,t--;for(_+=g,t++,r=!1,o=!1;t<m&&D(_);)t++,"BORDER"===f?z(_,!1):z(_,!0),0<e&&(D(_-1)?r||(a.push([e-1,t-1]),r=!0):r=r&&!1),e+1<g&&(D(_+1)?o||(a.push([e+1,t-1]),o=!0):o=o&&!1),_+=g}if("BORDER"===f){let e=this._get_border_from_selection(c);e.forEach(e=>{z(e,!0)});var U=o2(this._remove_duplicate_pxl_colors(p,d),2);p=U[0],d=U[1];let t=this.state._s_pxl_colors;t[T]=d;let _=this.state._s_pxls;_[T]=p,this.setState({_s_pxls:_,_s_pxl_colors:t,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})}else if("SELECT COLOR THRESHOLD"===f)"REPLACE"===l&&i.clear(),[...c].forEach(e=>{"ADD"===l||"REPLACE"===l?i.add(e):i.delete(e)}),this.setState({_pxl_indexes_of_selection:i,_last_action_timestamp:Date.now()},()=>{this._update_canvas(),this._notify_is_something_selected()});else if("BUCKET"===f||"HUE BUCKET"===f){var S=o2(this._remove_duplicate_pxl_colors(p,d),2);p=S[0],d=S[1];let e=this.state._s_pxl_colors;e[T]=d;let t=this.state._s_pxls;t[T]=p,this.setState({_s_pxls:t,_s_pxl_colors:e,_last_action_timestamp:Date.now()},()=>{this._update_canvas()}),this._notify_relevant_action_event(s,x,1)}}else{U=this.state,S=U.pencil_mirror_mode,s=U._pencil_mirror_index;const j=s%g;var U=(s-j)/g;let e=new Set([[v,w]]);"VERTICAL"!==S&&"BOTH"!==S||(s=w-2*(w-U),0<=(U=v)&&U<g&&0<=s&&s<=m&&(e.add([U,s]),s=s*g+U,U=c[T][s],U=d[U],U=this._blend_colors(U,x,A,!0,!1,!0),d.includes(U)||d.push(U),p[s]=d.indexOf(U))),"HORIZONTAL"!==S&&"BOTH"!==S||e.forEach(e=>{var t=e[1],e=e[0]-2*(e[0]-j);0<=e&&e<g&&0<=t&&t<=m&&(t=t*g+e,e=c[T][t],e=d[e],e=this._blend_colors(e,x,A,!0,!1,!0),d.includes(e)||d.push(e),p[t]=d.indexOf(e))}),p[y]=a;let t=this.state._s_pxl_colors;t[T]=Uint32Array.from(d);let _=this.state._s_pxls;_[T]=p,this.setState({_s_pxls:_,_s_pxl_colors:t,_paint_or_select_hover_pxl_indexes:new Set([y]),_paint_or_select_hover_actions_latest_index:y,_paint_hover_old_pxls_snapshot:Uint16Array.from(this.state._s_pxls[T]),_last_action_timestamp:Date.now()},()=>{this._update_canvas()})}else"REPLACE"===l&&i.clear(),"ADD"===l||"REPLACE"===l?i.add(y):i.delete(y),"SELECT PIXEL"===f?this.setState({_pxl_indexes_of_selection:i,_paint_or_select_hover_actions_latest_index:y,_last_action_timestamp:Date.now()},()=>{this._update_canvas(),this._notify_is_something_selected()}):"SELECT PATH"===f&&this.setState({_pxl_indexes_of_selection:i,_paint_or_select_hover_actions_latest_index:y,_last_action_timestamp:1/0},()=>{this._update_canvas(),this._notify_is_something_selected()})}}else this.setState({_pxls_hovered:y},()=>{this._update_canvas()})}},this.set_selection_by_colors=(t,a)=>{var e=this.state;const _=e._s_pxl_colors,r=e._s_pxls,o=e._layer_index;let i=this.state._pxl_indexes_of_selection;const s=Uint16Array.from(r[o]);i.clear(),_[o].forEach((e,_)=>{this._match_color(t,e,a)&&s.forEach((e,t)=>{e===_&&i.add(t)})}),this.setState({_pxl_indexes_of_selection:i,_last_action_timestamp:Date.now()},()=>{this._update_canvas(),this._notify_is_something_selected()})},this._get_pixels_palette_and_list_from_line=(e,t,_,a=[],r=null,o=null)=>{e=Uint16Array.from(e),a=Array.from(a);let i=[];var s=this.state.pxl_width;let n=t%s,l=(t-n)/s;var h=_%s,c=(_-h)/s,p=Math.abs(h-n),d=Math.abs(c-l),f=n<h?1:-1,g=l<c?1:-1;let m=p-d;for(;;){var A,u=l*s+n;if(a!==[]&&null!==r&&null!==o&&(A=a[e[u]],A=this._blend_colors(A,r,o,!1,!1,!0),a.includes(A)||a.push(A),e[u]=a.indexOf(A)),i.push(u),n===h&&l===c)break;u=2*m;-d<u&&(m-=d,n+=f),u<p&&(m+=p,l+=g)}return[e,a,i]},this._get_pixels_palette_and_list_from_rectangle=(t,e,_,a=[],r=null,o=null)=>{t=Uint16Array.from(t),a=Array.from(a);let i=[];var s=this.state.pxl_width,n=e%s,l=(e-n)/s,h=_%s,e=(_-h)/s,c=Math.abs(n-h)+1,_=Math.abs(l-e)+1,p=c*_,d=Math.max(n,h)-(c-1),f=Math.max(l,e)-(_-1);for(let e=0;e<p;e++){var g=e%c,m=(f+(e-g)/c)*s+(d+g);a!==[]&&null!==r&&null!==o&&(g=a[t[m]],g=this._blend_colors(g,r,o,!1,!1,!0),a.includes(g)||a.push(g),t[m]=a.indexOf(g)),i.push(m)}return[t,Uint32Array.from(a),i]},this._get_pixels_palette_and_list_from_path=(_,t,a=[],r=null,o=null)=>{var e=this.state;const i=e.pxl_width,s=e.pxl_height;_=Uint16Array.from(_),a=Array.from(a),t=new Set(t);let n=new Set,l=o2(this._get_new_ctx_from_canvas(i,s),1)[0];l.lineWidth=0,l.beginPath(),t.forEach((e,t)=>{var _=e%i,e=(e-_)/i;0===t?l.moveTo(_,e):l.lineTo(_,e)}),l.strokeStyle="#ffffffff",l.fillStyle="#ffffffff",l.stroke(),l.fill();e=l.getImageData(0,0,i,s),e=this._get_pixels_palette_and_list_from_image_data(e,!0,0);let h=e.new_pxl_colors;var c=e.new_pxls;for(let e=0;e<c.length;e++){var p=e%i,p=(e-p)/i*i+p;c[p]!==h.indexOf(this._get_uint32_from_hex("#ffffffff"))&&!t.has(e)||n.add(p)}for(let r=0;r<c.length;r++)if(!t.has(r)){let e,t,_,a;e=r-i,e=e<0?-1:e,t=r+1,t=t%i==0?-1:t,_=r+i,_=_>i*s?-1:_,a=r-1,a=a%i==i-1?-1:a,n.has(e)&&n.has(t)&&n.has(_)&&n.has(a)&&n.add(r)}return a!==[]&&null!==r&&null!==o&&n.forEach(e=>{var t=_[e],t=a[t],t=this._blend_colors(t,r,o,!1,!1,!0);a.includes(t)||a.push(t),_[e]=a.indexOf(t)}),Array.of(_,Uint32Array.from(a),Uint16Array.from(n))},this._get_pixels_palette_and_list_from_ellipse=(t,e,_,a=[],r=null,o=null)=>{var i=this.state,s=i.pxl_width,n=i.pxl_height;i.px_per_px,t=Uint16Array.from(t),a=Array.from(a);let l=[];var h=e%s,c=(e-h)/s,i=_%s,e=(_-i)/s,p=Math.abs(h-i)+1,_=Math.abs(c-e)+1,d=Math.max(h,i)-(p-1),f=Math.max(c,e)-(_-1),i=p/2,c=_/2,e=i+d,_=c+f;let g=o2(this._get_new_ctx_from_canvas(s,n),1)[0];g.save(),g.translate(e,_),g.rotate(0),g.scale(i,c),g.arc(0,0,1,0,2*Math.PI),g.restore(),g.fillStyle="#ffffffff",g.fill();n=g.getImageData(0,0,s,n),n=this._get_pixels_palette_and_list_from_image_data(n,!0,0);let m=n.new_pxl_colors;var A=n.new_pxls;for(let e=0;e<A.length;e++){var u=e%p,x=(f+(e-u)/p)*s+(d+u);A[x]===m.indexOf(this._get_uint32_from_hex("#ffffffff"))&&(u=t[x],a!==[]&&null!==r&&null!==o&&(u=a[u],u=this._blend_colors(u,r,o,!1,!1,!0),a.includes(u)||a.push(u),u=a.indexOf(u),t[x]=u),l.push(x))}return[Uint16Array.from(t),Uint32Array.from(a),l]},this._should_remove_not_perfect_second_latest_pixel_from_array=e=>{var t=this.state.pxl_width,_=[...e];if(3<=_.length){var a=_[_.length-1],r=a%t,o=(a-r)/t,i=_[_.length-2],s=i%t,e=(i-s)/t,a=_[_.length-3],i=a%t,_=(a-i)/t,a=Math.abs(r-i),t=Math.abs(o-_);if(1===a&&1===t&&(r==s&&e==_||o==e&&s==i||i==s&&e==o||_==e&&s==r))return!0}return!1},this.get_pixel_color_from_pos=(e,t)=>{var _,a=this.state,r=a.pxl_width,o=a._s_pxls,i=a._s_pxl_colors,s=a._layers,n=t*r+e;let l=[],h=-1;h++;for(let e=i.length-1;0<=e;e--){var c=i[e][o[e][n]],c=o2(l[e]=c,4);if(c[0],c[1],c[2],255===c[3]){h=e;break}}let p="#00000000";for(let e=h;e<i.length;e++)s[e].hidden||(_=l[e],p=this._blend_colors(p,_,s[e].opacity,!1,!1,!0));return p},this.handle_canvas_wrapper_overflow_wheel=_=>{var a=this.state,r=a.scale,o=a.scale_move_x,i=a.scale_move_y;a._canvas_container;let e=Math.max(Math.min(.125,Math.abs(-.01*_.deltaY)),.25);e=0<-.01*_.deltaY?e:-e;var s=Math.pow(r<1?1/r:r,1.6),n=r+e*r*(.9/s);if(!(6<n||n<1/6)){var l=1-r/n,a=n/r,s=this._get_canvas_pos();let e,t;t=null!==_.pageX&&null!==_.pageY?(e=_.pageX-s.canvas_container.left,_.pageY-s.canvas_container.top):(e=s.canvas_container.width/2,s.canvas_container.height/2);r=(o-e*l)*a+_.movementX,o=(i-t*l)*a+_.movementY,i=(s.canvas_container.width-s.canvas_wrapper.width)/2,l=(s.canvas_container.height-s.canvas_wrapper.height)/2,a=.75*s.canvas_wrapper.width+i,s=.75*s.canvas_wrapper.height+l;o-=l,r-=i;i=Math.min(Math.abs(r),a)*(r<0?-1:1)+i,l=Math.min(Math.abs(o),s)*(o<0?-1:1)+l;!0===_.ctrlKey&&0!==_.deltaY?this._to_canvas_middle(!1,n):this._set_moves(i,l,n)}},this._handle_canvas_pointer_down=(i,e)=>{var t=this.state;let _=t._pointer_events,a=t._previous_single_pointer_down_timestamp,r=t._previous_double_pointer_down_timestamp,o=t._previous_single_pointer_down_x_y;const s=Boolean(1===_.length),n=Boolean(2===_.length);t=o2(o,2);const l=t[0],h=t[1];this.setState({_previous_single_pointer_down_timestamp:s?Date.now():0,_previous_double_pointer_down_timestamp:n?Date.now():0,_previous_single_pointer_down_x_y:s?[i.pageX,i.pageY]:o},()=>{var e;a+400>Date.now()&&1===_.length&&Math.abs(l-i.pageX)<20&&Math.abs(h-i.pageY)<20?setTimeout(()=>{var e=o2(this._get_canvas_pos_from_event(i),2),t=e[0],_=e[1],a=this.state,r=a._s_pxl_colors,o=a._layer_index,e=a._s_pxls,a=_*a.pxl_width+t,a=0<=a?e[o][a]:null;this.props.onRightClick&&this.props.onRightClick(i,{pos_x:t,pos_y:_,pxl_color:null===a?null:this._format_color(r[o][a])})},250):s?this._handle_canvas_mouse_down(i,null):!n||(e=a-r)<0&&-200<e&&this.nothing_happened_undo(Math.abs(e))})},this._handle_canvas_pointer_move=(e,t,_)=>{var a=this.state,r=a._latest_pointers_distance,o=a._latest_pointers_client_x_center,i=a._latest_pointers_client_y_center,s=a._previous_double_pointer_down_timestamp,n=a._previous_double_pointer_move_timestamp;if(2===_.length){var l=_[0].clientX-_[1].clientX,h=_[0].clientY-_[1].clientY,a=Math.sqrt(l*l+h*h);const c=(_[0].pageX+_[1].pageX)/2,p=(_[0].pageY+_[1].pageY)/2;l=(_[0].clientX+_[1].clientX)/2,h=(_[0].clientY+_[1].clientY)/2;const d=0<o?o-l:0,f=0<i?i-h:0,g=0<r?a/r:1;s+50<Date.now()&&this.setState({_previous_double_pointer_move_timestamp:Date.now(),_latest_pointers_distance:a,_latest_pointers_client_x_center:l,_latest_pointers_client_y_center:h},()=>{this.zoom_of(g,c,p,-d,-f)}),this._handle_position_change(e,l,h)}else 1===_.length&&(n+200<Date.now()&&this._handle_canvas_mouse_move(e,t),this._handle_position_change(e,_[0].clientX,_[0].clientY))},this._handle_canvas_wrapper_mouse_move=e=>{!0===this.state._mouse_inside&&this.setState({_mouse_inside:!1});var t=this.state,_=t._pxls_hovered,t=t.tool;_&&!(!_<=0)||1!==e.which||"MOVE"!==t&&"PICKER"!==t||this.zoom_of(1,null,null,e.movementX,e.movementY)},this._handle_position_change=(e,t,_)=>{var a=this.state,r=a.perspective,o=a._device_motion;if(0<r&&(!F._is_mobile_or_tablet||!o)){a=this._get_canvas_pos(),o=(e.pageX||t)-a.canvas_container.left,e=(e.pageY||_)-a.canvas_container.top;const t=r*((o-a.canvas_container.width/2)/(a.canvas_container.width/2)),_=-r*((e-a.canvas_container.height/2)/(a.canvas_container.height/2));this.set_perspective_coordinate([5<t?t:2*t,_<0?_:2*_])}},this._handle_canvas_wrapper_overflow_pointer_move=_=>{if(this.state._hidden)this._handle_canvas_wrapper_overflow_pointer_up(_);else{var e=this._get_canvas_event_target(_);this.state._canvas_event_target!==e&&this.setState({_canvas_event_target:e});let t=this.state._pointer_events;if("mouse"===_.pointerType)this._handle_position_change(_,_.pageX,_.pageY),this._handle_canvas_mouse_move(_,e);else{for(let e=0;e<t.length;e++)if(_.pointerId===t[e].pointerId){t[e]=_;break}this.setState({_pointer_events:[...t]}),this._handle_canvas_pointer_move(_,e,[...t])}}},this._handle_canvas_wrapper_overflow_pointer_down=i=>{const s=this._get_canvas_event_target(i);var e,t,_=this.state;let a=_._pointer_events,n=_._mouse_down;a.push(i),"mouse"===i.pointerType?(t=(e=this.state).scale_move_x,e=e.scale_move_y,this.setState({_event_button:i.button,_mouse_down:!0,_previous_initial_scale_move:[t,e],_pointer_events:a},()=>{if(!0!==n&&this.setState({_previous_single_pointer_down_x_y:[i.pageX,i.pageY]}),"CANVAS"===s&&this._handle_canvas_mouse_down(i,s),2===i.button){var e=o2(this._get_canvas_pos_from_event(i),2),t=e[0],_=e[1],a=this.state,r=a._s_pxl_colors,o=a._layer_index,e=a._s_pxls,a=_*a.pxl_width+t,a=0<=a?e[o][a]:null;return this._set_cursor_fuck_you(),this.props.onRightClick&&this.props.onRightClick(i,{pos_x:t,pos_y:_,pxl_color:null===a?null:this._format_color(r[o][a])}),!1}})):(e=(t=this.state).scale_move_x,t=t.scale_move_y,this.setState({_event_button:i.button,_mouse_down:!0,_previous_initial_scale_move:[e,t],_pointer_events:a},()=>{this._handle_canvas_pointer_down(i,s)}))},this._set_cursor_fuck_you=()=>{this.props.setCursorFuckYou&&(this.props.setCursorFuckYou(!0),setTimeout(()=>{this.props.setCursorFuckYou(!1)},2500))},this._get_canvas_event_target=e=>{var t=this._get_canvas_pos();return e.pageX>=t.canvas.left&&e.pageY>=t.canvas.top&&e.pageX<=t.canvas.right&&e.pageY<=t.canvas.bottom?"CANVAS":e.pageX>=t.canvas_wrapper.left&&e.pageY>=t.canvas_wrapper.top&&e.pageX<=t.canvas_wrapper.right&&e.pageY<=t.canvas_wrapper.bottom?"CANVAS_WRAPPER":"CANVAS_WRAPPER_OVERFLOW"},this._handle_canvas_wrapper_overflow_pointer_up=t=>{const e=this._get_canvas_event_target(t);var _=this.state;let a=_._previous_initial_scale_move,r=_._pointer_events,o=_._latest_pointers_distance,i=_._latest_pointers_client_x_center,s=_._latest_pointers_client_y_center;for(let e=0;e<r.length;e++)if(r[e].pointerId===t.pointerId){r.splice(e,1);break}let n=!1;r.length<2&&(o=0,i=0,s=0,1===r.length&&(r=[],n=!0)),this.setState({_mouse_down:0<r.length,_pointer_events:[...r],_latest_pointers_distance:o,_latest_pointers_client_x_center:i,_latest_pointers_client_y_center:s,_previous_initial_scale_move:a},()=>{n?this._handle_canvas_wrapper_overflow_pointer_down(t):"mouse"===t.pointerType&&("CANVAS"===e?this._handle_canvas_mouse_up(t,e):("CANVAS_WRAPPER_OVERFLOW"===e&&1===t.which&&this._notify_backdrop_click(t),this._handle_canvas_mouse_leave(t,e)))})},this._get_canvas_pos=e=>{var t=this.state,_=t._canvas_container_left,a=t._canvas_container_top,r=t._canvas_container_width,o=t._canvas_container_height,i=t.pxl_width,s=t.pxl_height,n=t._screen_zoom_ratio,l=t.scale,h=t.canvas_wrapper_padding,c=t.canvas_wrapper_border_width,p=t.scale_move_x,d=t.scale_move_y,f=2*Math.round(h/window.devicePixelRatio*l+c),g=_+p,m=a+d,t=g+(Math.round(i*n*l)+f),h=m+(Math.round(s*n*l)+f),c=f/2,i=f/2,s=g+c,n=m+i,l=t-f/2,f=h-f/2;return{canvas:{offset_left:c,offset_top:i,left:s,top:n,right:l,bottom:f,width:l-s,height:f-n},canvas_wrapper:{offset_left:p,offset_top:d,left:g,top:m,right:t,bottom:h,width:t-g,height:h-m},canvas_container:{offset_left:_,offset_top:a,left:_,top:a,right:_+r,bottom:a+o,width:r,height:o}}},this._handle_canvas_move=(e,t)=>{var _,a,r,o,i=this.state,s=i._previous_single_pointer_down_x_y,n=i._previous_initial_scale_move,l=o2(s,2),h=l[0],c=l[1];-1!==h&&-1!==c&&(r=(a=o2(n,2))[0],o=a[1],i=((_=this._get_canvas_pos()).canvas_container.width-_.canvas_wrapper.width)/2,s=(_.canvas_container.height-_.canvas_wrapper.height)/2,l=.75*_.canvas_wrapper.width+i,n=.75*_.canvas_wrapper.height+s,r=r+(a=e.pageX-h),o=o+(h=e.pageY-c),o-=s,r-=i,e=Math.min(Math.abs(r),l)*(r<0?-1:1)+i,c=Math.min(Math.abs(o),n)*(o<0?-1:1)+s,e<r+i?this._notify_reach_border("RIGHT",t):r+i<e&&this._notify_reach_border("LEFT",t),c<o+s?this._notify_reach_border("BOTTOM",t):o+s<c&&this._notify_reach_border("TOP",t),this._set_moves(e,c),256<Math.abs(a)&&(a<0?r-256<l&&this._notify_cross_middle("LEFT",t,_.canvas_container.width,_.canvas_container.height):l<256+r&&this._notify_cross_middle("RIGHT",t,_.canvas_container.width,_.canvas_container.height)),256<Math.abs(h)&&(h<0?o-384<n&&this._notify_cross_middle("TOP",t,_.canvas_container.width,_.canvas_container.height):n<384+o&&this._notify_cross_middle("BOTTOM",t,_.canvas_container.width,_.canvas_container.height)))},this._notify_reach_border=(e,t)=>{this.props.onBorderReach&&this.props.onBorderReach(e,t)},this._notify_cross_middle=(e,t,_,a)=>{this.props.onCrossMiddle&&this.props.onCrossMiddle(e,t)},this._handle_canvas_mouse_move=(n,s)=>{var l=this.state;const h=l.tool,c=l.pxl_width,p=l.pxl_height,e=l._pxls_hovered,t=l.hide_canvas_content,d=l._mouse_down,_=l._event_button,a=l.no_actions,f=this._format_color(this.state.pxl_current_color,!0);var g=this.state;let i=g._pxl_indexes_of_selection,r=g._imported_image_pxls;var m=_+1;if(2===m&&d||"MOVE"===h&&r.length<=0&&1===m&&d||d&&"CANVAS_WRAPPER_OVERFLOW"===s)this._handle_canvas_move(n,s);else{var A=o2(this._get_canvas_pos_from_event(n),2);const E=A[0],U=A[1];if(-1!==E&&-1!==U)if(a)this._notify_position_change(n,{x:E,y:U});else{var u=U*c+E;if(u===e||t)e!==u&&this.setState({_pxls_hovered:u,_mouse_inside:!0},()=>{this._update_canvas(),this._notify_position_change(n,{x:E,y:U})});else if(0<r.length){var x=this.state;let t=x._imported_image_scale_delta_x,_=x._imported_image_scale_delta_y,a=x._imported_image_start_x,r=x._imported_image_start_y,o=x._imported_image_width,i=x._imported_image_height;var v=o+t,w=i+_,y=o2(this.state._imported_image_move_from,2),l=y[0],g=y[1],s=g*c+l,A=a+v+(r+w)*c,b=u===A||s===A;if(1===m&&d){x=E-l,y=U-g;let e=[E,U];b?(s=t+x,A=_+y,s=Math.max(s,-(o-1)),A=Math.max(A,-(i-1)),e=[l+(s-t),g+(A-_)],t=s,_=A):(a+=x,a=a<-v?-v:a,a=a>=c?c:a,r+=y,r=r<-w?-w:r,r=r>=p?p:r),this.setState({_pxls_hovered:u,_is_on_resize_element:b,_mouse_inside:!0,_imported_image_start_x:a,_imported_image_start_y:r,_imported_image_scale_delta_x:t,_imported_image_scale_delta_y:_,_imported_image_move_from:e},()=>{this._update_canvas(),this._notify_position_change(n,{x:E,y:U})})}else this.setState({_pxls_hovered:u,_is_on_resize_element:b,_mouse_inside:!0},()=>{this._notify_position_change(n,{x:E,y:U})})}else if("PENCIL"!==h&&"PENCIL PERFECT"!==h&&"CONTOUR"!==h||1!==m||!d)if("SELECT PIXEL"!==h&&"SELECT PIXEL PERFECT"!==h&&"SELECT PATH"!==h||1!==m||!d){b=this.state,m=b._s_pxls,b=b._layer_index;this.setState({_pxls_hovered:u,_mouse_inside:!0,_paint_or_select_hover_actions_latest_index:-1,_paint_hover_old_pxls_snapshot:Uint16Array.from(m[b]),_select_hover_old_pxls_snapshot:Uint32Array.from(i),_paint_or_select_hover_pxl_indexes:new Set},()=>{this._update_canvas(),this._notify_position_change(n,{x:E,y:U})})}else{var C=this.state;let e=C._last_action_timestamp,t=C._s_pxls,_=C._paint_or_select_hover_actions_latest_index,a=C._paint_or_select_hover_pxl_indexes,r=C.select_mode,o=C._layer_index;const S=this.state._select_hover_old_pxls_snapshot;-1===_&&(_=u);var I=this._get_pixels_palette_and_list_from_line(t[o],_,u)[2];"SELECT PATH"===h?(e=1/0,a=new Set([...a,...I]),a=new Set(a)):"SELECT PIXEL"===h?(e=Date.now(),a=new Set([...a,...I])):"SELECT PIXEL PERFECT"===h&&(e=Date.now(),a=new Set([...a,...I]),this._should_remove_not_perfect_second_latest_pixel_from_array(a)&&(M=a[a.length-2],S.includes(M)||"ADD"!==r&&"REPLACE"!==r||i.delete(M),a.splice(-2,1)),a=new Set(a)),"REPLACE"===r&&i.clear(),a.forEach(e=>{"ADD"===r||"REPLACE"===r?i.add(e):i.delete(e)}),this.setState({_pxls_hovered:u,_mouse_inside:!0,_pxl_indexes_of_selection:i,_paint_or_select_hover_pxl_indexes:a,_paint_or_select_hover_actions_latest_index:u,_last_action_timestamp:e},()=>{this._update_canvas(),this._notify_is_something_selected(),this._notify_position_change(n,{x:E,y:U})})}else{C=this.state;let e=C._last_action_timestamp,t=C._paint_or_select_hover_pxl_indexes,_=C._paint_or_select_hover_actions_latest_index,a=C._s_pxls,r=C._s_pxl_colors,o=C._layer_index,i=C.pxl_current_opacity;const R=this.state._paint_hover_old_pxls_snapshot,T=[...t];-1===_&&(_=u);I=this._get_pixels_palette_and_list_from_line(a[o],_,u,r[o],f,i);a[o]=Uint16Array.from(I[0]),r[o]=Uint32Array.from(I[1]);var M=this.state,C=M.pencil_mirror_mode,M=M._pencil_mirror_index;const B=M%c,N=(M-B)/c;if("CONTOUR"===h){e=1/0;var D=I[2];t=new Set([...t,...D]),t=new Set(t)}else if("PENCIL"===h){e=Date.now();D=I[2];t=new Set([...t,...D]),t=new Set(t)}else if("PENCIL PERFECT"===h){e=Date.now();I=I[2];if(t=new Set([...t,...I]),this._should_remove_not_perfect_second_latest_pixel_from_array(t)){I=t[t.length-2];t.splice(-2,1);let _=new Set(Array.of(I));Array.from(_).forEach(e=>{var t=o2(e,2),e=t[0],t=t[1],t=t-2*(t-N),e=e;0<=e&&e<c&&0<=t&&t<=p&&_.add(t*c+e)}),Array.from(_).forEach(e=>{var t=o2(e,2),e=t[0],t=t[1],e=e-2*(e-B);0<=e&&e<c&&0<=t&&t<=p&&_.add(t*c+e)}),_.forEach(e=>{a[o][e]=R[e]})}t=new Set(t)}let s=new Set(Array.of(t).filter(e=>!T.includes(e)).map(e=>{var t=e%c;return[t,(e-t)/c]}));"VERTICAL"!==C&&"BOTH"!==C||Array.from(s).forEach(e=>{var t=o2(e,2),e=t[0],t=t[1],t=t-2*(t-N),e=e;0<=e&&e<c&&0<=t&&t<=p&&s.add([e,t])}),"HORIZONTAL"!==C&&"BOTH"!==C||Array.from(s).forEach(e=>{var t=e[1],e=e[0]-2*(e[0]-B);0<=e&&e<c&&0<=t&&t<=p&&s.add([e,t])}),Array.from(s).forEach(t=>{var e=t[1],t=t[0];if(0<=t&&t<c&&0<=e&&e<=p){e=e*c+t,t=a[o][e],t=r[o][t],t=this._blend_colors(t,f,i,!0,!1,!0);if(!r[o].includes(t)){let e=Array.from(r[o]);e.push(t),r[o]=Uint32Array.from(e)}a[o][e]=r[o].indexOf(t)}}),this.setState({_pxls_hovered:u,_mouse_inside:!0,_paint_or_select_hover_pxl_indexes:t,_s_pxls:a,_s_pxl_colors:r,_paint_or_select_hover_actions_latest_index:u,_last_action_timestamp:e},()=>{this._update_canvas(),this._notify_position_change(n,{x:E,y:U})})}}else this._notify_position_change(n,{x:E,y:U})}},this._handle_canvas_mouse_leave=()=>{this.setState({_mouse_inside:!1,_pxls_hovered:-1},()=>{-24===this.state._moves_speed_average_now?this._request_force_update(!0,!1):this._request_force_update(!0,!0)}),this._notify_position_change(null,{x:-1,y:-1})},this._handle_canvas_mouse_up=e=>{var o=this.state;o.scale_move_x,o.scale_move_y,o._mouse_down,this.setState({_event_button:-1,_mouse_down:!1},()=>{-24===this.state._moves_speed_average_now?this._request_force_update(!0,!1):this._request_force_update(!0,!0)});o=this.state;let i=o._paint_or_select_hover_pxl_indexes,t=o.tool,_=o._imported_image_pxls;if(0<_.length)this.setState({_imported_image_move_from:[-1,-1]});else if(0<i.size&&"CONTOUR"===t){var s=this.state;let e=s._s_pxls,t=s._s_pxl_colors,_=s._layer_index,a=s.pxl_current_opacity,r=s._paint_hover_old_pxls_snapshot;var n=this._format_color(this.state.pxl_current_color,!0),o=[...i][0],s=[...i][i.size-1],s=this._get_pixels_palette_and_list_from_line(e[_],o,s,t[_],n,a)[2];i=[...i,...s];s=o2(this._get_pixels_palette_and_list_from_path(r,i,t[_],n,a),2);e[_]=s[0],t[_]=s[1],this.setState({_s_pxls:e,_s_pxl_colors:t,_paint_or_select_hover_pxl_indexes:new Set,_paint_hover_old_pxls_snapshot:[],_last_action_timestamp:Date.now()},()=>{this._update_canvas()})}else if(0<i.size&&"SELECT PATH"===t){n=this.state;let e=n._s_pxls,t=n._pxl_indexes_of_selection,_=n.select_mode,a=n._layer_index;s=[...i][0],n=[...i][i.size-1],n=this._get_pixels_palette_and_list_from_line(e[a],s,n)[2];i=[...i,...n];const r=this._get_pixels_palette_and_list_from_path(e[a],i);"REPLACE"===_&&t.clear(),r[2].forEach(e=>{"ADD"===_||"REPLACE"===_?t.add(e):t.delete(e)}),this.setState({_pxl_indexes_of_selection:t,_paint_or_select_hover_pxl_indexes:new Set,_last_action_timestamp:Date.now()},()=>{this._update_canvas(),this._notify_is_something_selected()})}},this._update_canvas=(x=!1,v=!1,e=Date.now())=>{var w=this.state;const t=w._loading_base64_img,_=w.dont_show_canvas_until_img_set,a=w.dont_show_canvas,r=w.but_show_canvas_once,y=w.has_shown_canvas_once,o=w._last_paint_timestamp,i=w._hidden;if(!(e<o||0===t.length&&_||a&&(!r||y)||i))if(e<o+1e3/60)setTimeout(()=>{this._update_canvas(x,v,e)},1e3/90);else{const f1=this.state._layers;f1.forEach(e=>{Boolean(e.hash)||this._notify_layers_and_compute_thumbnails_change(()=>{this._update_canvas(x,v)})});const g1=this.state._canvas;w=this.state;const m1=w.select_mode,A1=w.pencil_mirror_mode,u1=w._pencil_mirror_index,x1=w._previous_pencil_mirror_axes_indexes,v1=w._previous_pencil_mirror_axes_hover_indexes,w1=w.hide_canvas_content,y1=w._was_canvas_content_hidden,b1=(w.px_per_px,w._old_pxls),C1=w._old_pxl_width,I1=w._old_pxl_height,M1=w.pxl_width,D1=w.pxl_height,E1=w._old_layers,U1=w._old_pxl_colors,S1=w._old_pxls_hovered,R1=w._pxls_hovered,T1=w._mouse_inside,B1=w.tool,N1=w._is_there_new_dimension,L1=w._shape_index_a,O1=w._select_shape_index_a,k1=w.pxl_current_color,Y1=w.pxl_current_opacity,P1=w._pxl_indexes_of_selection,Q1=w._pxl_indexes_of_selection_drawn,z1=w._paint_or_select_hover_pxl_indexes,j1=w._previous_mine_player_index,V1=w._mine_player_index,G1=(w._mine_index,w._pxls_explosion),W1=w._pxl_colors_explosion,F1=w._explosion_started_timestamp,q1=w._explosion_index,H1=w._explosion_width,K1=w._explosion_height,X1=w._explosion_time,Z1=w._selection_pair_highlight,J1=w._old_selection_pair_highlight,$1=w._pxl_indexes_of_old_shape;w=this.state;let e=w._s_pxl_colors,i=w._s_pxls,s=w._layer_index,r=w._imported_image_start_x,n=w._imported_image_start_y,a=w._imported_image_scale_delta_x,l=w._imported_image_scale_delta_y,t=w._imported_image_pxls,o=w._imported_image_width,_=w._imported_image_height,h=w._imported_image_pxl_colors,c=w._previous_imported_image_pxls_positioned_keyset,p=w._previous_image_imported_resizer_index,d=w._previous_explosion_pxls_positioned_keyset;w=o2(this._get_imported_image_scaled(t,h,o,_,a,l),4);t=w[0],h=w[1],o=w[2],_=w[3];let f=[];var b=0<t.length,C=r+o+(n+_)*M1;b&&t.forEach((e,t)=>{var _=t%o,a=(t-_)/o,t=_+r,_=a+n,a=_*M1+t;0<=t&&t<M1&&0<=_&&_<D1&&(f[a]=e)});let g=[];var w=F1>Date.now()-X1,I=w?Math.max(Math.floor(G1.length-Math.floor(X1/(Date.now()-F1))),0):0;if(w){var M=q1%M1,D=(q1-M)/M1;const e2=Math.floor(M-H1/2),t2=Math.floor(D-K1/2);G1[I].forEach((e,t)=>{var _=t%H1,a=(t-_)/H1,t=_+e2,_=a+t2,a=_*M1+t;0<=t&&t<M1&&0<=_&&_<D1&&(g[a]=e)})}let m=new Set,A=new Set;var E=u1%M1,U=(u1-E)/M1,S=R1%M1,R=(R1-S)/M1;if(("HORIZONTAL"===A1||"BOTH"===A1)&&B1.includes("PENCIL"))for(let e=0;e<D1;e++)-1!==u1&&A.add(e*M1+E),"SET PENCIL MIRROR"===B1&&-1!==R1&&m.add(e*M1+S);if(("VERTICAL"===A1||"BOTH"===A1)&&B1.includes("PENCIL"))for(let e=0;e<M1;e++)-1!==u1&&A.add(e+U*M1),"SET PENCIL MIRROR"===B1&&-1!==R1&&m.add(e+R*M1);let u=0;var T=Boolean(C1!==M1||I1!==D1||N1),B=Boolean(S1!==R1),N=Boolean(j1!==V1);if(g1.offscreenCanvas.context2d){let t=new Set;if("LINE"!==B1&&"RECTANGLE"!==B1&&"ELLIPSE"!==B1&&"TRIANGLE"!==B1||-1===L1)if("SELECT LINE"!==B1&&"SELECT RECTANGLE"!==B1&&"SELECT ELLIPSE"!==B1||-1===O1){if(("SELECT PATH"===B1||"CONTOUR"===B1)&&0<z1.size){M=[...z1][0],D=[...z1][z1.size-1];const r2=this._get_pixels_palette_and_list_from_line(i[s],M,D,e[s],k1,Y1)[2];"REMOVE"===m1&&"SELECT PATH"===B1?r2.forEach(e=>{P1.delete(e)}):r2.forEach(e=>{("SELECT PATH"===B1?P1:t).add(e)})}}else{var L="SELECT LINE"===B1?this._get_pixels_palette_and_list_from_line(i[s],O1,R1):"SELECT RECTANGLE"===B1?this._get_pixels_palette_and_list_from_rectangle(i[s],O1,R1):(B1,this._get_pixels_palette_and_list_from_ellipse(i[s],O1,R1));t=new Set(L[2])}else{L="LINE"===B1?this._get_pixels_palette_and_list_from_line(i[s],L1,R1,e[s],k1,Y1):"RECTANGLE"===B1?this._get_pixels_palette_and_list_from_rectangle(i[s],L1,R1,e[s],k1,Y1):(B1,this._get_pixels_palette_and_list_from_ellipse(i[s],L1,R1,e[s],k1,Y1));t=new Set(L[2])}var O=Boolean(y1&&!w1),k=Boolean(f1.length!==E1.length);let _=k;for(let e=0;e<f1.length;e++)k||f1[e].hidden===E1[e].hidden&&f1[e].opacity===E1[e].opacity&&f1[e].id===E1[e].id||(_=!0);let o=Boolean(w1||T||!y||O)?new ImageData(M1,D1):g1.offscreenCanvas.context2d.getImageData(0,0,M1,D1);const _2=new Set(Object.keys(f).map(e=>parseInt(e))),a2=new Set(Object.keys(g).map(e=>parseInt(e)));var Y=i[s],P=Y.length,Q=e;for(let r=0;r<P;r++){var z,j=Y[r],V=b&&_2.has(r),G=Boolean(c.has(r)),W=Boolean(b&&C===r),F=Boolean(p===r),q=a2.has(r),H=d.has(r),K=Boolean(R1===r&&-1!==r),X=Boolean(Boolean(r===S1&&B&&-1!==r)||Boolean(r===R1&&-1!==r)),Z=Boolean(V1===r),J=Boolean(r===j1&&N),$=$1.has(r),e1=t.has(r),t1=P1.has(r),_1=P1.has(R1),a1=P1.has(S1),r1=Boolean(_1!==a1),o1=Q1.has(r),i1=Boolean(t1&&Boolean(K||X)),s1=Boolean(t1&&Z1!==J1),n1=Boolean(o1&&!t1),l1=m.has(r),h1=v1.has(r),_1=A.has(r),a1=Boolean(x1.has(r)&&x1!==A),F=Boolean(Boolean(h1&&!l1)||a1||H!==q||q||G||V||Boolean(F&&!W)||T||O||j!==b1[r]||U1[j]!==e[s][j]),j="ELLIPSE"===B1&&0<t.size;if(!Boolean(w1&&!y1)&&Boolean(T||!y||O||_||l1||_1||r1&&t1||s1||n1||X||F||Boolean(K&&!j)||Z||$||e1||Boolean(t1&&!o1)||i1||J||W&&Boolean(Z1!==J1))){let t=[],_=0;for(let e=f1.length-1;0<=e;e--){var c1=Q[e][i[e][r]];if(t[e]=c1,255===this._get_rgba_from_Uint32(c1)[3]&&1===f1[e].opacity&&!f1[e].hidden){_=e;break}}let a=0;for(let e=_;e<f1.length;e++)f1[e].hidden||(z=t[e],a=this._blend_colors(a,z,f1[e].opacity,!1,!1,!0),V&&e===s&&(a=this._blend_colors(a,h[f[r]],1,!1,!1,!0))),q&&e===f1.length-1&&(a=this._blend_colors(a,W1[I][g[r]],1,!1,!1,!0));let e=l1||_1||K||Z||T1&&e1||t1&&!o1||F&&t1||i1?K||Z||_1?this._blend_colors(a,"hover",2/3,!1,!1,!0):this._blend_colors(a,"hover",1/3,!1,!1,!0):a;(J||n1||F&&!t1&&!K&&!_1)&&(e=a),(W||t1&&!e1&&!K)&&(p1=r%M1,d1=(r-p1)/M1,W&&(e=this._blend_colors(a,"hover",K?2/3+(0+(p1+d1+(Z1?1:0))%2)/3:1/3+(0+(p1+d1+(Z1?1:0))%2)/3,!1,!1,!0)),!t1||e1||K||(e=this._blend_colors(a,"hover",1/3+(0+(p1+d1+(Z1?1:0))%2)/3,!1,!1,!0)));var p1=this._get_rgba_from_Uint32(e),d1=4*r;o.data[0+d1]=p1[0],o.data[1+d1]=p1[1],o.data[2+d1]=p1[2],o.data[3+d1]=p1[3],u++}}(0<u||w1&&!y1)&&this.setState({_pxl_indexes_of_selection_drawn:new Set(P1),_pxl_indexes_of_old_shape:new Set(t),_is_there_new_dimension:!1,_imported_image_previous_start_x:parseInt(r),_imported_image_previous_start_y:parseInt(n),_imported_image_previous_scale_delta_x:parseInt(a),_imported_image_previous_scale_delta_y:parseInt(l),_previous_pencil_mirror_axes_indexes:new Set(A),_previous_pencil_mirror_axes_hover_indexes:new Set(m),_previous_explosion_pxls_positioned_keyset:new Set(a2),_previous_imported_image_pxls_positioned_keyset:new Set(_2),_previous_image_imported_resizer_index:parseInt(C),_old_selection_pair_highlight:Boolean(Z1),_old_layers:Array.from(f1),_old_pxls:Uint16Array.from(Y),_old_pxl_colors:Uint32Array.from(e[s]),_old_pxl_width:parseInt(M1),_old_pxl_height:parseInt(D1),_previous_mine_player_index:parseInt(V1),_old_pxls_hovered:parseInt(R1),_was_canvas_content_hidden:Boolean(w1),_last_paint_timestamp:Date.now(),has_shown_canvas_once:!0},()=>{g1.offscreenCanvas.context2d.putImageData(o,0,0),i2(()=>{g1.context2d.drawImage(g1.offscreenCanvas,0,0)},!y,!y)})}}},this._notify_fps=()=>{this.props.on_fps_change&&this.props.on_fps_change(Math.round(F._previous_cpaf_fps))},this._maybe_save_state=(x=null)=>{var e=this.state,t=e.pxl_width,_=e.pxl_height,a=e._s_pxls;if(e._layers.length!==a.length||t*_!==(a[0]||[]).length||0===(a[0]||[]).length||parseInt(this.state._last_action_timestamp+this.state._undo_buffer_time_ms)>Date.now())return x&&x(null),!1;this._notify_layers_and_compute_thumbnails_change((e,t,_,a)=>{var r=this.state;let o=r._json_state_history,i=r._id,s=r.pxl_width,n=r.pxl_height,l=r._s_pxls,h=r._original_image_index,c=r._s_pxl_colors,p=r._layer_index,d=r._pxl_indexes_of_selection,f=r._state_history_length,g=(r._undo_buffer_time_ms,r._pencil_mirror_index);var m=()=>({_id:parseInt(i),pxl_width:parseInt(s),pxl_height:parseInt(n),_original_image_index:parseInt(h),_layers:Array.from(e).map(e=>({id:e.id,hash:e.hash,name:e.name,hidden:e.hidden,opacity:e.opacity})),_layer_index:parseInt(p),_s_pxls:Array.from(l).map(e=>Uint16Array.from(e)),_s_pxl_colors:Array.from(c).map(e=>Uint32Array.from(e)),_pxl_indexes_of_selection:new Set(d),_pencil_mirror_index:parseInt(g)});if(0===o.state_history.length){r=m();return o.state_history=[r],o.previous_history_position=0,o.history_position=1,this.setState({_json_state_history:o,_saved_json_state_history_timestamp_from_drawing:Date.now()},()=>{this._notify_can_undo_redo_change()}),null!==x&&x(o),!0}if(_){const A=m();m=parseInt(o.state_history.length),m=parseInt(m-o.history_position);const u=o.state_history[o.history_position-1]||o.state_history[0];return u._layers.map(e=>e.hash).join("+")!==A._layers.map(e=>e.hash).join("+")?(m&&o.state_history.splice(parseInt(o.history_position)),o.previous_history_position=parseInt(o.history_position),o.state_history.length>=f?(o.state_history.shift(),o.state_history.push(A)):(o.state_history.push(A),o.history_position=parseInt(o.state_history.length)),this.setState({_json_state_history:o,_saved_json_state_history_timestamp_from_drawing:Date.now()},()=>{this._notify_can_undo_redo_change()}),null!==x&&x(o),!0):(this._notify_can_undo_redo_change(),null!==x&&x(null),!1)}return this._notify_can_undo_redo_change(),null!==x&&x(null),!1})},this._notify_relevant_action_event=(e,t="#ffffffff",_=1)=>{this.props.onRelevantActionEvent&&this.props.onRelevantActionEvent(e,this._format_color(t),_)},this._notify_position_change=(e,t,_=null)=>{if(this.props.onPositionChange){var a=this.state._notified_position_at;const r=Date.now();300<=r-a&&null===_||a<_&&300<=r-_?(t={x:void 0===t.x?-1:t.x,y:void 0===t.y?-1:t.y},this.props.onPositionChange(t),this.setState({_notified_position_at:r})):r<_+301&&setTimeout(()=>{this._notify_position_change(null,{x:t.x,y:t.y},r)},125)}},this._notify_current_color_change=(e,t=null)=>{e=this._format_color(e),this.props.onCurrentColorChange?this.props.onCurrentColorChange(e,t):this.setState({pxl_current_color:e})},this._notify_is_something_selected=()=>{const e=this.state._pxl_indexes_of_selection;Boolean(this.state._previous_pxl_indexes_of_selection.size)!==Boolean(e.size)&&this.setState({_is_something_selected:Boolean(e.size),_previous_pxl_indexes_of_selection:new Set(e)},()=>{this.props.onSomethingSelectedChange&&this.props.onSomethingSelectedChange(Boolean(e.size))})},this._notify_image_load_complete=()=>{var e=this.state,t=e._s_pxl_colors,t={width:e.pxl_width,height:e.pxl_height,number_of_colors:t[0].length};this.props.onLoadComplete&&this.props.onLoadComplete("image_load",t)},this._notify_image_import_complete=()=>{this.props.onImageImportComplete&&this.props.onImageImportComplete()},this._notify_can_undo_redo_change=()=>{var e=this._can_undo(),t=this._can_redo();this.props.onCanUndoRedoChange&&this.props.onCanUndoRedoChange(e,t)},this._notify_size_change=()=>{var e=this.state,t=e.pxl_width,_=e.pxl_height,e=e._canvas;this._set_canvas_ref(e),this.props.onSizeChange&&this.props.onSizeChange(t,_)},this.import_JSON_state=e=>{this.import_JS_state(JSON.parse(e))},this.import_JS_state=(_=A(function*(e,t){var _=Object.assign({},{history_position:parseInt(e._json_state_history.history_position),previous_history_position:parseInt(e._json_state_history.previous_history_position),state_history:Array.from(e._json_state_history.state_history).map(function(e){return Object.assign({},{_original_image_index:parseInt(e._original_image_index),pxl_width:parseInt(e.pxl_width),pxl_height:parseInt(e.pxl_height),_pxl_indexes_of_selection:new Set(Boolean(e._pxl_indexes_of_selection.length)?e._pxl_indexes_of_selection:[]),_s_pxl_colors:Array.from(e._s_pxl_colors).map(function(e){return Uint32Array.from(Object.values(e).map(function(e){return D._format_color(e,!0)}))}),_s_pxls:Array.from(e._s_pxls).map(function(e){return Uint16Array.from(Object.values(e).map(function(e){return parseInt(e)}))}),_layers:Array.from(e._layers),_layer_index:parseInt(e._layer_index),_pencil_mirror_index:parseInt(e._pencil_mirror_index),_id:parseInt(e._pencil_mirror_index)})})}),a=_.state_history[_.history_position-1],r=a._original_image_index,o=a.pxl_width,i=a.pxl_height,s=a._pxl_indexes_of_selection,n=a._s_pxl_colors,l=a._s_pxls,h=a._layers,c=a._layer_index,p=a._pencil_mirror_index,a=a._id;D.setState({_id:parseInt(a),pxl_width:parseInt(o),pxl_height:parseInt(i),_base64_original_images:Array.from(e._base64_original_images),_original_image_index:parseInt(r),_saved_json_state_history_timestamp_from_drawing:0,_layers:Array.from(h).map(function(e){return{id:e.id,hash:e.hash,name:e.name,hidden:e.hidden,opacity:e.opacity}}),_layer_index:parseInt(c),_s_pxls:Array.from(l).map(function(e){return Uint16Array.from(Object.values(e).map(function(e){return parseInt(e)}))}),_s_pxl_colors:Array.from(n).map(function(e){return Uint32Array.from(Object.values(e).map(function(e){return D._format_color(e,!0)}))}),_pxl_indexes_of_selection:new Set(s),_pencil_mirror_index:parseInt(p),_json_state_history:_,_is_there_new_dimension:!0},function(){D._notify_layers_and_compute_thumbnails_change(function(){D._update_screen_zoom_ratio(!0,function(){D._notify_image_load_complete(),D._notify_is_something_selected(),D._notify_can_undo_redo_change(),t()})})})}),function(e,t){return _.apply(this,arguments)}),this.export_JS_state=o=>{this._maybe_save_state(e=>{const _=null!==e?e:this.state._json_state_history;if(_.state_history.length){e=this.state;const a=e._base64_original_images,r=e._id;this.get_base64_png_data_url(1,([e])=>{var t=3*Math.ceil(e.length/4);o({id:r,kb:t/1024,preview:e,timestamp:Date.now(),_base64_original_images:a,_json_state_history:_})},!1,0,60,75)}else setTimeout(()=>{this.export_JS_state(o)},this.state._undo_buffer_time_ms)})},this._can_undo=()=>1<this.state._json_state_history.history_position,this.nothing_happened_undo=()=>{this._maybe_save_state(e=>{e&&this.undo()})},this.undo=()=>{this._maybe_save_state(e=>{let t=e||this.state._json_state_history;if(this._can_undo()){t.previous_history_position=parseInt(t.history_position),--t.history_position;var _=t.state_history[t.history_position-1],a=_._original_image_index,r=_.pxl_width,o=_.pxl_height,i=_._pxl_indexes_of_selection,s=_._s_pxl_colors,n=_._s_pxls,l=_._layers,h=_._layer_index,e=_._pencil_mirror_index,_=_._id;const c=Boolean(r!==this.state.pxl_width||o!==this.state.pxl_height);this.setState({_id:parseInt(_),pxl_width:parseInt(r),pxl_height:parseInt(o),_original_image_index:parseInt(a),_layers:Array.from(l).map(e=>({id:e.id,hash:e.hash,name:e.name,hidden:e.hidden,opacity:e.opacity})),_layer_index:parseInt(h),_s_pxls:Array.from(n).map(e=>Uint16Array.from(e)),_s_pxl_colors:Array.from(s).map(e=>Uint32Array.from(e)),_pxl_indexes_of_selection:new Set(i),_pencil_mirror_index:parseInt(e),_json_state_history:t,_is_there_new_dimension:c},()=>{c?this._notify_layers_and_compute_thumbnails_change(()=>{this._update_screen_zoom_ratio(!0,()=>{this._notify_image_load_complete(),this._notify_is_something_selected(),this._notify_can_undo_redo_change()})}):this._notify_layers_and_compute_thumbnails_change(()=>{this._update_canvas(),this._notify_is_something_selected(),this._notify_can_undo_redo_change()})})}})},this._can_redo=()=>{var e=this.state._json_state_history;return e.state_history.length>e.history_position},this.redo=()=>{this._maybe_save_state(e=>{const t=e||this.state._json_state_history;if(this._can_redo()){t.previous_history_position=parseInt(t.history_position),t.history_position+=1;var _=t.state_history[t.history_position-1],a=_._original_image_index,r=_.pxl_width,o=_.pxl_height,i=_._pxl_indexes_of_selection,s=_._s_pxl_colors,n=_._s_pxls,l=_._layers,h=_._layer_index,e=_._pencil_mirror_index,_=_._id;const c=Boolean(r!==this.state.pxl_width||o!==this.state.pxl_height);this.setState({_id:parseInt(_),pxl_width:parseInt(r),pxl_height:parseInt(o),_original_image_index:parseInt(a),_layers:Array.from(l).map(e=>({id:e.id,hash:e.hash,name:e.name,hidden:e.hidden,opacity:e.opacity})),_layer_index:parseInt(h),_s_pxls:Array.from(n).map(e=>Uint16Array.from(e)),_s_pxl_colors:Array.from(s).map(e=>Uint32Array.from(e)),_pxl_indexes_of_selection:new Set(i),_pencil_mirror_index:parseInt(e),_json_state_history:t,_is_there_new_dimension:c},()=>{c?this._notify_layers_and_compute_thumbnails_change(()=>{this._update_screen_zoom_ratio(!0,()=>{this._notify_image_load_complete(),this._notify_is_something_selected(),this._notify_can_undo_redo_change()})}):this._notify_layers_and_compute_thumbnails_change(()=>{this._update_canvas(),this._notify_is_something_selected(),this._notify_can_undo_redo_change()})})}})},this.to_selection_border=()=>{var e=this.state;const t=e._s_pxls,_=(e.pxl_width,e.pxl_height,e._pxl_indexes_of_selection),a=e._s_pxl_colors,r=e._layer_index,o=e.pxl_current_opacity,i=this._format_color(this.state.pxl_current_color,!0);let s=Uint16Array.from(t[r]),n=Array.from(a[r]),l=this._get_border_from_selection(_);l.forEach(e=>{var t=s[e],t=n[t],t=this._blend_colors(t,i,o,!1,!1,!0);n.includes(t)||n.push(t);t=n.indexOf(t);s[e]=t});let h=this.state._s_pxl_colors;h[r]=Uint32Array.from(n);let c=this.state._s_pxls;c[r]=s,this.setState({_s_pxl_colors:h,_s_pxls:c,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})},this.to_selection_bucket=()=>{var e=this.state;const t=e._s_pxls,_=(e.pxl_width,e.pxl_height,e._pxl_indexes_of_selection),a=e._s_pxl_colors,r=e._layer_index,o=e.pxl_current_color,i=e.pxl_current_opacity;let s=Uint16Array.from(t[r]),n=Array.from(a[r]),l=[..._];l.forEach(e=>{var t=s[e],t=n[t],t=this._blend_colors(t,o,i,!1,!1,!0);n.includes(t)||n.push(t);t=n.indexOf(t);s[e]=t});let h=this.state._s_pxl_colors;h[r]=Uint32Array.from(n);let c=this.state._s_pxls;c[r]=s,this.setState({_s_pxl_colors:h,_s_pxls:c,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})},this.to_selection_invert=()=>{var e=this.state,t=e._s_pxls,_=e._pxl_indexes_of_selection,a=e._layer_index;const r=new Set(_);let o=new Set;for(let e=0;e<t[a].length;e++)r.has(e)||o.add(e);this.setState({_pxl_indexes_of_selection:o,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})},this.get_average_color_of_selection=()=>this._get_average_color_of_selection(),this._get_average_color_of_selection=(e,t,_)=>{var a=this.state,r=a._s_pxls,o=a._s_pxl_colors,a=a._layer_index;t=t||Uint16Array.from(r[a]),_=_||Uint32Array.from(o[a]);const i=[...new Set(t)];let s=[];i.forEach(e=>{s[e]=1}),[...e=e||this.state._pxl_indexes_of_selection].forEach(e=>{e=t[e];s[e]++});let n=0;Object.entries(s).forEach(e=>{n+=e[1]});let l=0;return Object.entries(s).forEach(e=>{var t=o2(e,2),e=t[0],t=t[1];l=this._blend_colors(l,_[e],t/n,!0,!0,!0)}),l},this.to_selection_changes=(e,c=!1)=>{var t=o2(this._get_rgba_from_Uint32(this._format_color(e,!0)),3),_=t[0],a=t[1],r=t[2],o=o2(this._rgb_to_hsl(_,a,r),3);let i=o[0],p=o[1],d=o[2];e=this.state,t=e._s_pxls,_=e._pxl_indexes_of_selection,a=e._s_pxl_colors,r=e._layer_index;let f=Uint16Array.from(t[r]),g=Array.from(a[r]);o=this._get_average_color_of_selection(),e=o2(this._get_rgba_from_Uint32(o),4),t=e[0],a=e[1],o=e[2],a=o2((e[3],this._rgb_to_hsl(t,a,o)),3),o=a[0];a[1],a[2];const m=i-o;[..._].forEach((e,t,_)=>{var a=f[e],r=g[a],o=o2(this._get_rgba_from_Uint32(r),4),i=o[0],s=o[1],n=o[2],a=o[3],r=o2(this._rgb_to_hsl(i,s,n),3),o=r[0],i=r[1],s=r[2],n=o+m<0?360+(o+m)%360:(o+m)%360,r=[p,d,1],o=[i,s,1];let l=[];0!==a&&c?(l[2]=1-(1-r[2])*(1-o[2]),l[0]=Math.round(r[0]*r[2]/l[2]+o[0]*o[2]*(1-r[2])/l[2]),l[1]=Math.round(r[1]*r[2]/l[2]+o[1]*o[2]*(1-r[2])/l[2])):l=[i,s];i=o2(this._hsl_to_rgb(n,l[0],l[1]),3),s=i[0],n=i[1],i=i[2];let h=0;0!==a&&(h=this._get_Uint32_color_from_rgba_values(s,n,i,a)),g.includes(h)||g.push(h),f[e]=g.indexOf(h)});let s=this.state._s_pxl_colors;s[r]=Uint32Array.from(g);let n=this.state._s_pxls;n[r]=f,this.setState({_s_pxl_colors:s,_s_pxls:n},()=>{this.setState(()=>{Date.now()},()=>{this._update_canvas()})})},this._get_border_from_selection=(e,c=!0,p=!1)=>{var t=this.state;const d=t.pxl_width,f=t.pxl_height;let g=[];return Array.from(e).forEach((e,t,_)=>{let a,r,o,i;a=e-d,a=a<0?-1:a,r=e+1,r=r%d==0?-1:r,o=e+d,o=o>d*f?-1:o,i=e-1,i=i%d==d-1?-1:i;let s,n,l,h;s=a-1,s=-1===a||-1===i?-1:s,n=a+1,n=-1===a||-1===r?-1:n,l=o-1,l=-1===o||-1===i?-1:l,h=o+1,h=-1===o||-1===r?-1:h,c?(-1!==_.indexOf(a)&&-1!==a&&-1!==_.indexOf(r)&&-1!==r&&-1!==_.indexOf(o)&&-1!==o&&-1!==_.indexOf(i)&&-1!==i||g.push(e),p&&(-1!==_.indexOf(s)&&-1!==s&&-1!==_.indexOf(n)&&-1!==n&&-1!==_.indexOf(l)&&-1!==l&&-1!==_.indexOf(h)&&-1!==h||g.push(e))):(-1===_.indexOf(a)&&g.push(a),-1===_.indexOf(r)&&g.push(r),-1===_.indexOf(o)&&g.push(o),-1===_.indexOf(i)&&g.push(i),p&&(-1===_.indexOf(s)&&g.push(s),-1===_.indexOf(n)&&g.push(n),-1===_.indexOf(l)&&g.push(l),-1===_.indexOf(h)&&g.push(h)))}),g},this._to_selection_crop=()=>{var e=this.state;let a=e._s_pxls,r=e._s_pxl_colors,t=(e._layer_index,e._pxl_indexes_of_selection),c=e.pxl_width,p=e.pxl_height,d=e._base64_original_images,o=e._original_image_index;if(0<t.size){let n=Array.from(a),l=Array.from(r),h=[c,p],_=[-1,-1];t.forEach(e=>{var t=e%c,e=(e-t)/c;t<h[0]&&(h[0]=t),e<h[1]&&(h[1]=e),t>_[0]&&(_[0]=t),e>_[1]&&(_[1]=e)});const m=1+_[0]-h[0],A=1+_[1]-h[1];for(let e=0;e<a.length;e++){var i=a[e];let t=new Uint16Array(m*A).fill(0);for(let e=0;e<m*A;e++){var s=e%m,f=(e-s)/m;s+=h[0];s=(f+=h[1])*c+s;t[e]=i[s]}var g=o2(this._remove_duplicate_pxl_colors(t,r[e]),2);t=g[0],g=g[1],n[e]=t,l[e]=g}if(void 0!==d[o]){let s=new Image;s.onload=()=>{var e=s.width*(m/c),t=s.height*(A/p),_=o2(this._get_new_ctx_from_canvas(e,t),2);let a=_[0],r=_[1];a.save(),a.drawImage(s,s.width*(h[0]/c),s.height*(h[1]/p),e,t,0,0,e,t),a.restore();const o=s.src.includes("image/png")?r.toDataURL("image/png"):r.toDataURL("image/jpeg"),i=d.includes(o)?d:d.concat([o]);this.setState({_s_pxls:n,_s_pxl_colors:l,pxl_width:m,pxl_height:A,_pxl_indexes_of_selection:new Set,_base64_original_images:i,_original_image_index:-1,_is_there_new_dimension:!0},()=>{this.setState({_original_image_index:i.indexOf(o),_last_action_timestamp:Date.now()},()=>{this._notify_size_change(),this._request_force_update()})})},s.src=d[o]}else this.setState({_s_pxls:n,_s_pxl_colors:l,pxl_width:m,pxl_height:A,_pxl_indexes_of_selection:new Set,_last_action_timestamp:Date.now()},()=>{this._notify_size_change(),this._request_force_update()})}},this.to_selection_size=e=>{var t=this.state._pxl_indexes_of_selection,t=this._to_selection_size(e,t);this.setState({_pxl_indexes_of_selection:t},()=>{this._update_canvas()})},this._to_selection_size=(t,_)=>{_=new Set(_);for(let e=1;e<=Math.abs(t);e++){var a;for(a of new Set(this._get_border_from_selection(_,t<0,!1)))t<0?_.delete(a):_.add(a)}return _},this.to_selection_none=()=>{this.setState({_pxl_indexes_of_selection:new Set},()=>{this._update_canvas()})},this.confirm_import=()=>{this._merge_import()},this._merge_import=()=>{var e=this.state;let i=e.pxl_width,s=e.pxl_height,n=e._imported_image_start_x,l=e._imported_image_start_y,t=e._imported_image_pxls,h=e._imported_image_width,_=e._imported_image_height,c=e._imported_image_pxl_colors,a=e._imported_image_scale_delta_x,r=e._imported_image_scale_delta_y;e=o2(this._get_imported_image_scaled(t,c,h,_,a,r),4);t=e[0],c=e[1],h=e[2],e[3];let p=[];if(0<t.length){t.forEach((e,t)=>{var _=t%h,a=(t-_)/h,t=_+n,_=a+l,a=_*i+t;0<=t&&t<i&&0<=_&&_<s&&(p[a]=e)});e=this.state;let a=e._s_pxls,r=e._s_pxl_colors,o=e._layer_index;Object.entries(p).forEach(t=>{var e=o2(t,2),_=e[0],t=e[1],e=a[o][_],e=r[o][e],t=c[t],t=this._blend_colors(e,t,1,!1,!1,!0);if(!r[o].includes(t)){let e=Array.from(r[o]);e.push(t),r[o]=Uint32Array.from(e)}t=r[o].indexOf(t);a[o][_]=t});e=o2(this._remove_duplicate_pxl_colors(a[o],r[o]),2);a[o]=e[0],r[o]=e[1],this.setState({_s_pxls:a,_s_pxl_colors:r,_imported_image_start_x:0,_imported_image_start_y:0,_imported_image_scale_delta_x:0,_imported_image_scale_delta_y:0,_imported_image_pxls:[],_imported_image_width:0,_imported_image_height:0,_imported_image_pxl_colors:[],_imported_image_move_from:[0,0],_last_action_timestamp:Date.now()},()=>{this._update_canvas(),this._notify_is_image_import_mode()})}},this._notify_is_image_import_mode=()=>{var e=0<this.state._imported_image_pxls.length;this.setState({_is_image_import_mode:e}),this.props.onImageImportModeChange&&this.props.onImageImportModeChange(e)},this.to_selection_crop=()=>{this._to_selection_crop()},this.to_rotation=(e=!0)=>{this._to_rotation(e)},this.to_greyscale=()=>{this._to_colorized("greyscale")},this.to_sepia=()=>{this._to_colorized("sepia")},this.to_opacity=(e=0)=>{this._to_colorized(null,e)},this.to_color=(e=0,t,_=null,a=null)=>{this._to_colorized(e,t,_,a)},this.to_vignette=(e="#000000ff",t=0)=>{this._to_vignette(e,t)},this.less_colors_stepped=(t=1,_=()=>{})=>{let a,r=t;const o=()=>{this.to_less_color(r/64,e=>{a=e.colors_removed,r+=t,t-=0<a?1:0,a<1?o():_(e)})};o()},this.to_less_color=(e=1/16,t=()=>{})=>{this.props.onLoad&&this.props.onLoad("less_color_auto"),this._to_less_color(e,e=>{this.props.onLoadComplete&&this.props.onLoadComplete&&this.props.onLoadComplete("less_color_auto",e),t(e)})},this.auto_adjust_contrast=(e=1)=>{this._auto_adjust_contrast(e)},this.auto_adjust_saturation=(e=1.5)=>{this._auto_adjust_saturation(e)},this.smooth_adjust=(e=0)=>{this._auto_adjust_smoothness()},this.to_alpha=(e="#00000000",t=1)=>{this._to_alpha(this._format_color(e,!0),t)},this.to_filter=(e="1997",t=1)=>{this._to_filter(e,t)},this.to_mirror=(e=!0)=>{this._invert_pixel(e?"HORIZONTAL":"VERTICAL")},this.to_dutone=(e=.8,t="#ffffffff",_="#000000ff")=>{this._to_dutone(e,this._format_color(t,!0),this._format_color(_,!0))},this.rgb_to_hsl=(e,t,_)=>this._rgb_to_hsl(e,t,_),this.get_rgba_from_hex=e=>this._get_rgba_from_hex(e),this._get_hex_value_from_rgb_value=e=>parseInt(e).toString(16).padStart(2,"0").toString(16),this._hsl_to_hex=(e,t,_)=>{_=this._hsl_to_rgb(e,t,_);return this._get_hex_color_from_rgba_values(_[0],_[1],_[2],255)},this._hsla_to_hex=(e,t,_,a)=>{_=this._hsl_to_rgb(e,t,_);return this._get_hex_color_from_rgba_values(_[0],_[1],_[2],parseInt(255*a/100))},this._get_hex_values_from_rgba_values=(...e)=>e.map(e=>this._get_hex_value_from_rgb_value(e)),this._format_color=(t,_=!1)=>{if(t=void 0===t?0:t,_&&"number"==typeof t)return t;{if(!_&&"number"==typeof t)return this._get_hex_from_Uint32(t);let e="";const s=t;var a,r,o,i=s.length;return 9===i?e=s:7===i?e=s.concat("ff"):5===i?(a=s.charAt(1),t=s.charAt(2),r=s.charAt(3),o=s.charAt(4),e="#".concat(a,a,t,t,r,r,o,o)):4===i&&(r=s.charAt(1),o=s.charAt(2),i=s.charAt(3),e="#".concat(r,r,o,o,i,i,"ff")),_?this._get_uint32_from_hex(e):e}},this._get_rgba_from_hex=e=>new Uint8ClampedArray(Uint32Array.of(parseInt(e.slice(1),16)).buffer).reverse(),this._get_hex_color_from_rgba_values=(e,t,_,a)=>"#".concat("00000000".concat(new Uint32Array(Uint8ClampedArray.of(a,_,t,e).buffer)[0].toString(16)).slice(-8)),this._get_rgba_from_Uint32=e=>new Uint8ClampedArray(Uint32Array.of(e).buffer).reverse(),this._get_Uint32_color_from_rgba_values=(e,t,_,a)=>new Uint32Array(Uint8ClampedArray.of(a,_,t,e).buffer)[0],this._get_uint32_from_hex=e=>parseInt(e.slice(1),16),this._get_hex_from_Uint32=e=>"#".concat("00000000".concat(e.toString(16)).slice(-8)),this._rgb_to_hsl=(e=0,t=0,_=0)=>{e/=255,t/=255,_/=255;var a=Math.max(e,t,_),r=Math.min(e,t,_);let o,i,s=(a+r)/2;if(a===r)o=i=0;else{var n=a-r;switch(i=.5<s?n/(2-a-r):n/(a+r),a){case e:o=(t-_)/n+(t<_?6:0);break;case t:o=(_-e)/n+2;break;case _:o=(e-t)/n+4}o/=6}return Array.of(parseInt(360*o),parseInt(100*i),parseInt(100*s))},this._hsl_to_rgb=(e,t,_)=>{e/=360,_/=100;let a,r,o;var i;return 0==(t/=100)?a=r=o=_:(i=function(e,t,_){return _<0&&(_+=1),1<_&&--_,_<1/6?e+6*(t-e)*_:_<.5?t:_<2/3?e+(t-e)*(2/3-_)*6:e},t=2*_-(_=_<.5?_*(1+t):_+t-_*t),a=i(t,_,e+1/3),r=i(t,_,e),o=i(t,_,e-1/3)),Uint8ClampedArray.of(255*a,255*r,255*o)},this._blend_colors=(e,t,_=1,a=!1,r=!1,o=!1)=>{if(e=this._format_color(e,!0),0===_&&"hover"!==t&&a)return o?0:"#00000000";if(t="hover"===t?(i=this._get_rgba_from_Uint32(e),i=this._rgb_to_hsl(i[0],i[1],i[2],i[3]),i=this._hsl_to_rgb(i[0],i[1],parseInt(50<=i[2]?i[2]/2:2*i[2])),this._get_Uint32_color_from_rgba_values(i[0],i[1],i[2],255)):this._format_color(t,!0),a&&0===t&&1===_)return o?0:"#00000000";var i=this._get_rgba_from_Uint32(e),a=this._get_rgba_from_Uint32(t);if(255===a[3]&&1===_)return o?t:this._get_hex_from_Uint32(t);var e=i[3]/255,t=a[3]/255*_;let s=new Uint8ClampedArray(4),n=0;return 0<e&&0<t?(n=r?t+e:1-(1-t)*(1-e),_=t/n,e=e*(1-t)/n,s[0]=parseInt(a[0]*_+i[0]*e),s[1]=parseInt(a[1]*_+i[1]*e),s[2]=parseInt(a[2]*_+i[2]*e)):0<t?(n=a[3]/255,s[0]=a[0],s[1]=a[1],s[2]=a[2]):(n=i[3]/255,s[0]=i[0],s[1]=i[1],s[2]=i[2]),r&&(n/=2),s[3]=parseInt(255*n),o?this._get_Uint32_color_from_rgba_values(s[0],s[1],s[2],s[3]):this._get_hex_color_from_rgba_values(s[0],s[1],s[2],s[3])},this._invert_hex_color=e=>{var t=o2(this._get_rgba_from_Uint32(this._format_color(e,!0)),4),_=t[0],a=t[1],e=t[2],t=t[3];return this._get_hex_color_from_rgba_values(255-_,255-a,255-e,t)},this._hex_sum=e=>{let t=0;return e.forEach(e=>{t+=parseInt(e,16)}),t.toString(16).padStart(2,"0")},this._invert_pixel=e=>{var t=this.state;const _=t._s_pxls,r=t.pxl_width,o=t.pxl_height,i=t._base64_original_images,a=t._original_image_index,s=t._pxl_indexes_of_selection,n=t._shape_index_a,l=t._select_shape_index_a,h=t._layer_index;t=this.state;let c=t._imported_image_pxls,p=t._imported_image_width,d=t._imported_image_height,f=Uint16Array.from(_[h]),g=new Set,m=n,A=l,u=[..._],x=1,v=1;if("HORIZONTAL"===e)if(c.length){let a=new Array(c.length);c.forEach((e,t)=>{var t=(t-(_=t%p))/p,_=p-1-_,_=t*p+_;a[_]=e}),c=a}else _[h].forEach((e,t)=>{var _=(t-(a=t%r))/r,a=r-1-a,a=_*r+a;f[a]=e,s.has(t)&&g.add(a),n===t&&(m=a),l===t&&(A=a)}),x=-1,u[h]=f;else if(c.length){let a=new Array(c.length);c.forEach((e,t)=>{var _=t%p,t=(t-_)/p,_=(d-1-t)*p+_;a[_]=e}),c=a}else _[h].forEach((e,t)=>{var _=t%r,a=(t-_)/r,_=(o-1-a)*r+_;f[_]=e,s.has(t)&&g.add(_),n===t&&(m=_),l===t&&(A=_)}),v=-1,u[h]=f;if(void 0===i[a]||0!==h||c.length)this.setState({_shape_index_a:m,_select_shape_index_a:A,_pxl_indexes_of_selection:g,_s_pxls:u,_last_action_timestamp:Date.now(),_imported_image_pxls:c},()=>{this._update_canvas()});else{let o=new Image;o.onload=()=>{var e=o2(this._get_new_ctx_from_canvas(o.width,o.height),2);let t=e[0],_=e[1];t.save(),t.scale(x,v),t.drawImage(o,0,0,o.width*x,o.height*v),t.restore();const a=o.src.includes("image/png")?_.toDataURL("image/png"):_.toDataURL("image/jpeg"),r=i.includes(a)?i:i.concat([a]);this.setState({_shape_index_a:m,_select_shape_index_a:A,_pxl_indexes_of_selection:g,_s_pxls:u,_base64_original_images:r,_original_image_index:-1,_is_there_new_dimension:!0,_imported_image_pxls:c},()=>{this.setState({_original_image_index:r.indexOf(a),_last_action_timestamp:Date.now()}),this._update_canvas()})},o.src=i[a]}},this._get_darkest_color=e=>{let t=this._get_rgba_from_hex(e[0]);return e.forEach(e=>{e=this._get_rgba_from_hex(e);e[0]+e[1]+e[2]<t[0]+t[1]+t[2]&&(t=e)}),this._get_hex_color_from_rgba_values(t[0],t[1],t[2],255)},this._to_alpha=(e="#000000ff",t=1)=>{var _=this.state,a=_._s_pxls,r=_._s_pxl_colors,_=_._layer_index,e=o2(this._pxl_colors_to_alpha(a[_],r[_],e,t),2),t=e[0],e=e[1];let o=this.state._s_pxl_colors;o[_]=e;let i=this.state._s_pxls;i[_]=t,this.setState({_s_pxls:i,_s_pxl_colors:o,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})},this._to_less_color=(_,a=()=>{})=>{const r=this.state._layer_index;var e=this.state;let o=e._s_pxls,i=e._s_pxl_colors;const s=i[r].length;A(function*(){var e=yield D._remove_close_pxl_colors(Uint32Array.from(o[r]),i[r],_);o[r]=Uint16Array.from(e[0]),i[r]=e[1];e=i[r].length;let t={colors_removed:s-e,colors_remaining:e};D.setState({_s_pxls:o,_s_pxl_colors:i,_last_action_timestamp:Date.now()},function(){D._update_canvas(),a(t)})})()},this._auto_adjust_contrast=(e=1)=>{var t=this.state._layer_index,_=this.state;let a=_._s_pxls,r=_._s_pxl_colors;e=o2(this._pxl_adjust_contrast(a[t],r[t],e),2);a[t]=e[0],r[t]=e[1],this.setState({_s_pxls:a,_s_pxl_colors:r,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})},this._auto_adjust_saturation=(e=1)=>{var t=this.state._layer_index,_=this.state;let a=_._s_pxls,r=_._s_pxl_colors;e=o2(this._pxl_adjust_saturation(a[t],r[t],e),2);a[t]=e[0],r[t]=e[1],this.setState({_s_pxls:a,_s_pxl_colors:r,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})},this._pxl_adjust_saturation=(e,t,o)=>{let r=100,i=0;t.forEach(e=>{var t=o2(this._get_rgba_from_Uint32(e),4),_=t[0],a=t[1],e=t[2],a=o2((t[3],this._rgb_to_hsl(_,a,e)),3),e=(a[0],a[1]);a[2],e>i&&(i=e),e<r&&(r=e)});const s=100/Math.max(1,i-r),n=-r*s;return[e,t=Array.from(t).map(e=>{var t=o2(this._get_rgba_from_Uint32(e),4),_=t[0],a=t[1],r=t[2],e=t[3],t=o2(this._rgb_to_hsl(_,a,r),3),_=t[0],a=t[1],r=t[2],t=Math.min(100,Math.max(0,a*s+n)),t=o2(this._hsl_to_rgb(_,o*t+(1-o)*a,r),3),a=t[0],r=t[1],t=t[2];return this._get_Uint32_color_from_rgba_values(a,r,t,e)})]},this._auto_adjust_smoothness=()=>{var e=this.state._layer_index,t=this.state;let _=t._s_pxls,a=t._s_pxl_colors;t=o2(this._pxl_adjust_smoothness(_[e],a[e]),2);_[e]=t[0],a[e]=t[1],this.setState({_s_pxls:_,_s_pxl_colors:a,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})},this._pxl_to_vignette=(p,d,f,g,m)=>{A(function*(){f=D._format_color(f,!0);var e=D.state,t=e.pxl_width,_=e.pxl_height;const a=o2(D._get_new_ctx_from_canvas(t,_),1)[0];var r=Math.max(t,_),e=D._invert_hex_color(f);let o=a.createRadialGradient(t/2,_/2,0,t/2,_/2,r/2);o.addColorStop(1,f),o.addColorStop(.85,D._blend_colors(f,e,.75)),o.addColorStop(0,e),a.fillStyle=o,a.fillRect(0,0,t,_);_=a.getImageData(0,0,t,_),_=D._get_pixels_palette_and_list_from_image_data(_,!0,0);let i=_.new_pxls,s=_.new_pxl_colors;_=yield D._remove_close_pxl_colors(i,s,42.5/255,null,12);i=_[0],s=_[1];e=o2(D._pxl_colors_to_alpha(i,s,e,1),2);i=e[0],s=e[1];e=o2(D._get_rgba_from_Uint32(f),4);const n=e[0],l=e[1],h=e[2];e[3],s=s.map(function(e,t){e=o2(D._get_rgba_from_Uint32(e),4),e[0],e[1],e[2],e=e[3];return D._get_Uint32_color_from_rgba_values(n,l,h,e)});let c=[];i=i.map(function(e,t){e=s[e],t=d[p[t]],e=D._blend_colors(t,e,g,!1,!1,!0);return-1===c.indexOf(e)&&c.push(e),c.indexOf(e)}),s=c,m(Array.of(Uint16Array.from(i),Uint32Array.from(s)))})()},this._to_vignette=(e,a)=>{if(0<a){const o=this.state._layer_index;var r=this.state;let t=r._s_pxls,_=r._s_pxl_colors;this._pxl_to_vignette(t[o],_[o],e,a,e=>{e=o2(e,2);t[o]=e[0],_[o]=e[1],this.setState({_s_pxls:t,_s_pxl_colors:_,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})})}},this._to_colorized=(c=null,p=null,d=null,f=null)=>{var e=this.state;const t=e._s_pxl_colors,_=e._layer_index;let g=null!==c&&0<=c&&c<=360?"hue":"sepia"===c?"sepia":"greyscale";p=null===p?1:p;e=t[_].map(t=>{t=this._format_color(t,!0);var e=o2(this._get_rgba_from_Uint32(t),4);let _=e[0],a=e[1],r=e[2],o=e[3];if("greyscale"==g){var i=(_+a+r)/3;t=this._get_Uint32_color_from_rgba_values(i,i,i,o*p)}else if("sepia"==g){function s(e,t){return t<e?t:e}var n=s(.393*_+.769*a+.189*r,255),l=s(.349*_+.686*a+.168*r,255),h=s(.272*_+.534*a+.131*r,255);t=this._get_Uint32_color_from_rgba_values(n,l,h,parseInt(o*p))}else if("hue"==g){i=o2(this._get_rgba_from_Uint32(t),4);const _=i[0],a=i[1],r=i[2],o=i[3];n=o2(this._rgb_to_hsl(_,a,r),3),l=(n[0],n[1]),h=n[2],i=[d,f,p],n=[l,h,1];let e=[];0!==p?(e[2]=1-(1-i[2])*(1-n[2]),e[0]=Math.round(i[0]*i[2]/e[2]+n[0]*n[2]*(1-i[2])/e[2]),e[1]=Math.round(i[1]*i[2]/e[2]+n[1]*n[2]*(1-i[2])/e[2])):e=[l,h];i=o2(this._hsl_to_rgb(c,e[0],e[1]),3),l=i[0],h=i[1],i=i[2];t=0===o?0:this._get_Uint32_color_from_rgba_values(l,h,i,o)}return this._format_color(t)});let a=this.state._s_pxl_colors;a[_]=e,this.setState({_s_pxl_colors:a,_last_action_timestamp:Date.now()},()=>{this._update_canvas()})},this._get_filters=()=>({".1997":{a:Uint8ClampedArray.of(0,1,3,4,6,7,9,10,12,13,14,16,17,19,20,22,23,25,26,28,29,31,32,34,35,37,38,39,41,42,44,45,46,48,49,50,52,53,54,55,57,58,59,60,61,62,64,65,66,67,68,69,70,72,73,74,75,76,77,78,79,80,81,82,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,125,126,127,128,129,130,131,132,133,134,135,136,137,137,138,139,140,141,142,143,144,145,146,146,147,148,149,150,151,152,153,153,154,155,156,157,158,159,160,160,161,162,163,164,165,166,166,167,168,169,170,171,172,172,173,174,175,176,177,178,178,179,180,181,182,183,183,184,185,186,187,188,188,189,190,191,192,193,193,194,195,196,197,198,199,199,200,201,202,203,204,204,205,206,207,208,209,209,210,211,212,213,214,215,215,216,217,218,219,220,221,221,222,223,224,225,226,227,227,228,229,230,231,232,233,233,234,235,236,237,238,239,240,241,241,242,243,244,245,246,247,248,249,250,250,251,252,253,254,255,255),r:Uint8ClampedArray.of(58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,58,59,60,60,61,62,62,63,63,64,64,65,66,66,67,67,68,69,69,70,70,71,72,72,73,74,74,75,76,77,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,95,96,97,98,99,100,102,103,104,105,106,108,109,110,111,112,113,114,116,117,118,119,120,121,122,123,125,126,127,128,129,130,131,133,134,135,136,137,138,140,141,142,143,144,146,147,148,149,151,152,153,154,156,157,158,160,161,162,164,165,166,168,169,170,172,173,175,176,177,179,180,182,183,185,186,188,189,191,192,193,194,196,197,198,199,200,201,202,203,204,204,205,206,206,207,208,208,209,209,210,210,211,211,212,212,212,213,213,213,213,213,214,214,214,214,214,214,214,214,214,214,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,215,214,214,214,214,214,214,214,214,214,214,213,213,213,213,213,213,213,212,212,212,212,212),g:Uint8ClampedArray.of(40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,41,41,42,42,42,42,43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,47,47,48,48,48,49,49,50,50,51,52,52,53,54,54,55,56,57,58,59,60,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,166,167,168,169,171,172,173,174,175,176,178,179,180,181,182,183,185,186,187,188,189,190,191,192,193,195,196,197,198,199,200,201,202,203,205,206,207,208,209,210,211,212,214,215,216,217,218,220,221,222,223,225,226,227,228,230,231,232,233,235,236,237,239,240,241,242,244,245,246,247,249,250,251,252,254,255,255),b:Uint8ClampedArray.of(45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,46,46,47,47,47,48,48,48,48,49,49,49,50,50,50,51,51,51,52,52,53,53,54,54,55,56,56,57,58,59,60,61,62,62,63,64,65,66,68,69,70,71,72,73,74,75,76,77,79,80,81,82,83,84,85,86,87,89,90,91,92,93,94,96,97,98,99,100,102,103,104,105,107,108,109,110,112,113,114,115,117,118,119,120,122,123,124,126,127,128,130,131,133,134,135,137,138,140,141,143,144,145,147,148,149,151,152,153,155,156,157,159,160,161,162,164,165,166,167,168,170,171,172,173,174,175,176,177,178,179,180,181,182,184,185,186,187,188,188,189,190,191,192,193,193,194,195,195,196,196,196,197,197,197,197,198,198,198,198,198,198,198,198,198,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,199,198,198,198,198,198,198,197,197,197,197,197,197,197,197,197,197,197,197,197,197,198,198,198,198,198,198,198)},".Brannan":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255),r:Uint8ClampedArray.of(50,50,50,50,50,50,50,50,50,50,50,50,50,51,51,51,51,51,52,53,54,55,56,57,59,60,62,63,64,66,67,68,69,70,71,71,72,73,73,74,75,75,76,76,77,77,78,78,79,79,80,80,81,81,82,83,83,84,85,86,87,88,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,111,112,113,114,115,116,118,119,120,121,122,124,125,126,128,129,130,132,133,134,136,137,139,140,141,143,144,146,147,149,150,152,153,154,156,157,159,160,162,163,164,166,167,169,170,171,173,174,175,177,178,179,181,182,183,185,186,187,189,190,192,193,195,196,198,199,201,203,204,206,207,209,210,212,213,215,216,217,219,220,221,223,224,225,226,227,228,229,230,231,232,233,234,235,236,236,237,238,239,239,240,241,241,242,243,243,244,244,245,246,246,247,247,248,248,249,249,249,250,250,251,251,251,252,252,252,253,253,253,254,254,254,254,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,254,254,254,254),g:Uint8ClampedArray.of(0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,3,4,4,5,6,7,8,10,11,12,13,14,16,17,18,19,20,21,23,24,25,26,27,28,29,30,32,33,34,35,36,38,39,40,41,43,44,45,47,48,50,51,53,54,56,57,59,61,62,64,66,68,70,72,74,76,78,80,82,84,87,89,91,93,95,97,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,161,163,165,167,168,170,172,173,175,176,178,179,181,182,183,184,186,187,188,189,190,191,192,193,193,194,195,196,196,197,198,198,199,200,200,201,202,202,203,203,204,204,205,205,206,207,207,208,208,209,210,210,211,212,212,213,214,214,215,216,217,217,218,219,219,220,221,221,222,222,223,224,224,225,225,226,226,227,228,228,229,229,229,230,230,231,231,232,232,233,233,233,234,234,234,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,242,243,243,243,244,244,244,245,245,245,246,246,247,247,247,248,248,249,249,250,250,251,251,252,252,252),b:Uint8ClampedArray.of(48,48,48,48,48,48,48,48,49,49,49,49,49,49,49,50,50,50,51,51,51,52,52,53,53,54,54,54,55,55,56,56,57,57,58,58,59,60,60,61,61,62,62,63,64,64,65,66,66,67,68,68,69,70,71,71,72,73,74,75,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,92,93,94,95,96,98,99,100,101,102,103,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,132,133,134,135,136,137,138,139,140,141,141,142,143,144,145,146,146,147,148,148,149,150,151,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,168,169,170,171,172,173,174,175,176,177,178,178,179,180,181,181,182,183,183,184,184,185,185,185,186,186,187,187,187,188,188,188,189,189,190,190,191,191,192,193,193,194,195,195,196,197,198,199,200,200,201,202,203,204,205,206,206,207,208,209,210,211,211,212,213,214,214,215,216,216,217,218,218,219,219,220,220,221,222,222,222,223,223,224,224,224,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225)},".Gotham":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255),r:Uint8ClampedArray.of(50,50,50,50,50,50,50,50,50,50,50,50,50,51,51,51,51,51,52,53,54,55,56,57,59,60,62,63,64,66,67,68,69,70,71,71,72,73,73,74,75,75,76,76,77,77,78,78,79,79,80,80,81,81,82,83,83,84,85,86,87,88,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,111,112,113,114,115,116,118,119,120,121,122,124,125,126,128,129,130,132,133,134,136,137,139,140,141,143,144,146,147,149,150,152,153,154,156,157,159,160,162,163,164,166,167,169,170,171,173,174,175,177,178,179,181,182,183,185,186,187,189,190,192,193,195,196,198,199,201,203,204,206,207,209,210,212,213,215,216,217,219,220,221,223,224,225,226,227,228,229,230,231,232,233,234,235,236,236,237,238,239,239,240,241,241,242,243,243,244,244,245,246,246,247,247,248,248,249,249,249,250,250,251,251,251,252,252,252,253,253,253,254,254,254,254,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,254,254,254,254),g:Uint8ClampedArray.of(0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,3,4,4,5,6,7,8,10,11,12,13,14,16,17,18,19,20,21,23,24,25,26,27,28,29,30,32,33,34,35,36,38,39,40,41,43,44,45,47,48,50,51,53,54,56,57,59,61,62,64,66,68,70,72,74,76,78,80,82,84,87,89,91,93,95,97,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,161,163,165,167,168,170,172,173,175,176,178,179,181,182,183,184,186,187,188,189,190,191,192,193,193,194,195,196,196,197,198,198,199,200,200,201,202,202,203,203,204,204,205,205,206,207,207,208,208,209,210,210,211,212,212,213,214,214,215,216,217,217,218,219,219,220,221,221,222,222,223,224,224,225,225,226,226,227,228,228,229,229,229,230,230,231,231,232,232,233,233,233,234,234,234,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,242,243,243,243,244,244,244,245,245,245,246,246,247,247,247,248,248,249,249,250,250,251,251,252,252,252),b:Uint8ClampedArray.of(48,48,48,48,48,48,48,48,49,49,49,49,49,49,49,50,50,50,51,51,51,52,52,53,53,54,54,54,55,55,56,56,57,57,58,58,59,60,60,61,61,62,62,63,64,64,65,66,66,67,68,68,69,70,71,71,72,73,74,75,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,92,93,94,95,96,98,99,100,101,102,103,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,132,133,134,135,136,137,138,139,140,141,141,142,143,144,145,146,146,147,148,148,149,150,151,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,168,169,170,171,172,173,174,175,176,177,178,178,179,180,181,181,182,183,183,184,184,185,185,185,186,186,187,187,187,188,188,188,189,189,190,190,191,191,192,193,193,194,195,195,196,197,198,199,200,200,201,202,203,204,205,206,206,207,208,209,210,211,211,212,213,214,214,215,216,216,217,218,218,219,219,220,220,221,222,222,222,223,223,224,224,224,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225,225)},".Gingham":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(44,44,44,44,45,45,45,45,45,45,46,46,46,46,46,47,47,47,47,48,48,48,49,49,49,50,50,51,51,52,52,53,54,54,55,56,57,57,58,59,60,61,62,63,64,65,67,68,69,70,71,72,74,75,76,78,79,81,82,83,85,86,88,89,90,92,93,95,96,98,99,101,102,104,105,107,109,110,112,113,115,116,118,119,121,122,124,125,127,128,130,131,133,134,136,137,138,140,141,142,143,145,146,147,148,149,150,151,152,153,154,155,156,156,157,158,159,160,160,161,162,163,163,164,165,165,166,167,168,168,169,170,170,171,171,172,173,173,174,175,175,176,176,177,177,178,179,179,180,180,181,181,182,182,183,183,184,184,185,185,186,186,187,187,188,188,189,189,190,190,191,191,192,192,192,193,193,194,194,195,195,195,196,196,197,197,197,198,198,199,199,199,200,200,201,201,201,202,202,203,203,203,204,204,205,205,205,206,206,207,207,207,208,208,209,209,209,210,210,210,211,211,211,212,212,212,213,213,213,213,213,213,213,214,214,214,214,214,214,214,214,214,214,214,214,214,213,213,213,213,213,213,213,213,213,213),g:Uint8ClampedArray.of(44,44,44,44,44,44,44,44,44,44,44,44,44,45,45,45,45,45,45,46,46,46,47,47,47,48,48,49,49,50,51,51,52,53,54,54,55,56,57,58,59,61,62,63,64,65,66,68,69,70,71,73,74,75,77,78,79,81,82,84,85,87,88,89,91,92,94,95,97,98,100,101,103,104,106,107,109,110,112,113,115,116,118,119,121,122,124,125,127,128,130,131,133,134,135,137,138,139,141,142,143,145,146,147,148,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,168,169,170,171,171,172,173,173,174,175,176,176,177,177,178,179,179,180,181,181,182,182,183,183,184,184,185,185,186,186,187,187,188,188,189,189,190,190,191,191,191,192,192,193,193,193,194,194,195,195,195,196,196,196,197,197,198,198,198,199,199,199,200,200,200,201,201,201,202,202,202,203,203,203,204,204,204,205,205,205,206,206,206,207,207,207,208,208,208,209,209,209,210,210,210,211,211,211,212,212,212,212,213,213,213,213,213,213,213,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,214,213,213,213,213,213,213),b:Uint8ClampedArray.of(45,45,45,45,45,45,46,46,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,50,50,51,51,52,52,53,53,54,54,55,56,57,57,58,59,60,61,62,63,64,65,66,67,68,70,71,72,73,75,76,77,79,80,82,83,84,86,87,89,90,91,93,94,96,97,98,100,101,102,104,104,106,107,108,109,111,112,113,115,116,117,119,120,121,123,124,125,127,128,129,131,132,134,135,136,138,139,140,142,143,144,146,147,148,150,151,152,153,155,156,157,158,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,179,180,181,181,182,183,183,184,185,185,186,186,187,187,188,188,189,189,190,190,191,191,192,192,193,193,193,194,194,194,195,195,196,196,196,197,197,197,198,198,198,198,199,199,199,200,200,200,200,201,201,201,201,202,202,202,203,203,203,203,203,204,204,204,204,205,205,205,205,206,206,206,206,207,207,207,208,208,208,208,209,209,209,209,209,210,210,210,210,211,211,211,211,211,211,211,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,212,213,213,213,213,213,213,213,213)},".Hefe":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255),r:Uint8ClampedArray.of(32,32,32,32,32,32,32,32,32,32,32,32,32,33,33,33,33,33,34,35,36,38,39,41,43,45,48,50,52,54,56,58,60,62,64,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,96,98,100,102,104,106,108,110,112,114,116,117,119,121,123,125,126,128,130,132,133,135,137,139,140,142,144,146,147,149,151,152,154,155,157,158,160,161,163,164,166,167,168,170,171,172,173,175,176,177,178,179,180,181,182,184,185,186,187,188,189,190,190,191,192,193,194,195,196,197,197,198,199,200,201,201,202,203,204,204,205,205,206,206,207,207,208,208,209,209,210,210,211,211,212,212,213,213,214,214,215,215,216,216,217,217,218,218,219,219,220,220,221,221,221,222,222,223,223,224,224,225,225,225,226,226,227,227,228,228,228,229,229,230,230,231,231,231,232,232,233,233,233,234,234,235,235,235,236,236,236,237,237,238,238,238,239,239,239,240,240,240,241,241,242,242,242,243,243,243,244,244,245,245,245,246,246,247,248,248,249,249,250,250,251,251,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252),g:Uint8ClampedArray.of(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,3,4,5,6,7,8,9,10,11,13,14,15,16,17,19,20,21,23,24,25,27,28,30,31,33,34,36,37,39,40,42,44,45,47,49,50,52,54,56,57,59,61,63,65,67,69,71,73,75,78,80,82,85,87,89,92,94,97,99,102,104,106,109,111,114,116,118,121,123,125,127,129,131,133,135,137,139,141,143,145,146,148,150,152,154,156,157,159,161,163,164,166,168,169,171,173,174,176,178,179,181,182,184,185,187,188,190,191,192,194,195,196,197,198,199,200,201,202,203,204,205,205,206,207,207,208,209,209,210,210,211,211,211,212,212,213,213,213,214,214,215,215,216,216,216,217,217,218,218,219,219,220,220,220,221,221,222,222,222,223,223,224,224,225,225,225,226,226,227,227,228,228,228,229,229,230,230,231,231,232,232,232,233,233,234,234,235,235,236,236,237,237,238,238,239,239,239,240,240,241,241,242,242,243,244,244,245,246,246,247,248,249,249,250,250,251,251,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252,252),b:Uint8ClampedArray.of(2,2,3,3,3,3,3,4,4,4,4,4,5,5,5,5,5,6,6,6,6,6,7,7,7,8,8,9,9,9,10,10,11,12,12,13,13,14,15,15,16,17,17,18,19,19,20,21,22,23,24,24,25,26,27,28,29,30,32,33,34,35,36,38,39,40,42,43,45,47,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,87,89,91,93,95,96,98,100,101,103,105,107,108,110,112,113,115,117,118,120,122,123,125,127,128,130,131,133,135,136,138,140,141,143,145,146,148,149,151,153,154,156,158,159,161,163,164,166,167,169,170,171,173,174,175,177,178,179,180,182,183,184,185,186,187,189,190,191,192,193,194,195,195,196,197,198,198,199,200,200,201,201,202,202,203,203,204,204,204,205,205,205,206,206,206,207,207,207,207,208,208,209,209,209,210,210,211,211,211,212,212,213,213,214,214,214,215,215,216,216,216,217,217,218,218,218,219,219,220,220,220,221,221,222,222,222,223,223,224,224,225,225,226,226,227,227,227,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228,228)},".Lordkelvin":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255),r:Uint8ClampedArray.of(43,44,46,47,49,50,52,53,55,56,58,59,61,62,64,65,67,69,70,72,73,75,77,78,80,81,83,85,86,88,90,91,93,95,96,98,100,102,103,105,107,109,111,112,114,116,118,120,121,123,125,127,129,130,132,134,136,137,139,141,142,144,146,147,149,151,152,154,155,157,158,160,162,163,165,166,168,169,171,172,174,175,176,178,179,180,182,183,184,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,201,202,203,204,204,205,206,207,207,208,209,210,210,211,212,212,213,214,214,215,216,217,217,218,219,219,220,221,222,222,223,224,224,225,225,226,227,227,228,228,229,229,229,230,230,231,231,232,232,232,233,233,233,234,234,235,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,242,243,243,243,243,244,244,244,245,245,245,245,245,246,246,246,246,246,247,247,247,247,247,248,248,248,248,248,248,249,249,249,249,249,249,249,250,250,250,250,250,250,250,250,251,251,251,251,251,251,251,251,251,252,252,252,252,252,252,252,252,252,253,253,253,253,253,253,253,253,254,254,254,254,254),g:Uint8ClampedArray.of(36,36,36,36,36,36,36,36,36,36,36,36,36,37,37,37,37,37,37,38,38,38,39,39,40,40,41,41,42,43,43,44,45,46,47,47,48,49,50,51,52,53,54,55,56,57,59,60,61,62,63,64,65,67,68,69,70,71,72,73,75,76,77,78,79,80,81,82,83,84,86,87,88,89,90,91,92,93,95,96,97,98,99,100,101,102,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,155,156,157,158,158,159,160,160,161,161,162,163,163,164,164,165,165,166,166,167,167,168,168,168,169,169,170,171,171,172,172,173,173,174,174,175,175,176,177,177,178,178,179,179,180,180,181,181,182,182,182,183,183,184,184,184,185,185,185,186,186,186,186,187,187,187,187,188,188,188,188,188,189,189,189,189,189,190,190,190,190,190,190,190,191,191,191,191,191,191,191,191,192,192,192,192,192,192,192,192,193,193,193,193,193,193,193,193,194,194,194,194,194,194,194,195,195,195,195),b:Uint8ClampedArray.of(69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,70,70,70,70,70,70,70,70,70,70,71,71,71,72,72,73,73,73,74,74,75,75,76,76,77,78,78,79,79,80,80,81,81,82,82,82,83,83,84,84,84,85,85,86,86,86,87,87,87,88,88,88,89,89,90,90,90,91,91,91,92,92,93,93,93,94,94,95,95,96,96,96,97,97,98,99,99,100,100,101,101,102,102,102,103,103,103,104,104,104,105,105,105,106,106,106,106,107,107,107,107,108,108,108,108,109,109,109,110,110,110,111,111,111,111,112,112,112,113,113,113,114,114,114,115,115,115,115,116,116,116,116,117,117,117,117,117,118,118,118,118,118,118,119,119,119,119,119,119,119,120,120,120,120,120,120,120,120,120,121,121,121,121,121,121,121,121,121,121,121,122,122,122,122,122,122,122,122,122,122,122,122,123,123,123,123,123,123,123,123,123,123,123,124,124,124,124,124,124)},".Nashville":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255),r:Uint8ClampedArray.of(56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,56,57,57,58,58,59,59,60,61,62,63,64,65,66,67,68,69,71,72,73,75,76,78,79,81,82,84,85,87,88,90,91,93,95,96,98,100,102,104,106,108,110,113,115,117,120,122,124,127,129,131,133,136,138,140,142,144,146,148,150,152,154,155,157,159,160,162,164,165,167,168,170,171,173,174,175,177,178,179,181,182,183,185,186,187,189,190,191,192,194,195,196,197,198,200,201,202,203,204,205,206,208,209,209,210,211,212,213,214,215,216,217,217,218,219,220,220,221,222,223,223,224,225,226,226,227,228,228,229,230,230,231,231,232,233,233,234,234,235,235,236,237,237,238,238,239,239,240,240,240,241,241,242,242,243,243,243,244,244,245,245,245,246,246,246,247,247,247,248,248,248,248,249,249,249,249,250,250,250,250,251,251,251,251,251,252,252,252,252,252,253,253,253,253,253,254,254,254,254,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255),g:Uint8ClampedArray.of(38,39,39,40,41,41,42,42,43,44,44,45,46,46,47,48,49,50,51,52,53,55,56,57,59,60,61,63,64,65,67,68,69,71,72,73,74,76,77,78,80,81,82,84,85,86,87,89,90,91,93,94,95,97,98,99,101,102,103,104,106,107,108,110,111,112,114,115,116,118,119,121,122,123,125,126,128,129,130,132,133,134,136,137,138,140,141,142,143,145,146,147,148,149,150,151,152,153,154,155,156,157,158,158,159,160,161,162,163,163,164,165,166,166,167,168,169,169,170,171,172,172,173,174,175,176,176,177,178,179,180,181,181,182,183,184,185,186,187,187,188,189,189,190,191,191,192,193,193,194,194,195,195,196,197,197,198,198,199,199,200,200,201,201,202,202,202,203,203,204,204,205,205,205,206,206,207,207,207,208,208,208,209,209,209,210,210,210,211,211,211,212,212,212,213,213,213,213,214,214,214,214,215,215,215,215,216,216,216,216,216,217,217,217,217,217,218,218,218,218,218,218,219,219,219,219,219,220,220,220,220,220,220,220,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221,221),b:Uint8ClampedArray.of(97,98,98,99,99,100,100,101,101,102,102,103,104,104,105,105,106,107,107,108,109,110,110,111,112,113,114,114,115,116,116,117,118,118,119,119,120,120,121,121,122,122,123,123,124,124,124,125,125,126,126,127,127,127,128,128,129,129,129,130,130,131,131,132,132,132,133,133,134,134,135,135,136,136,136,137,137,138,138,139,139,139,140,140,141,141,142,142,142,143,143,144,144,144,145,145,146,146,147,147,147,148,148,149,149,150,150,151,151,151,152,152,153,153,154,154,154,155,155,155,156,156,156,157,157,157,158,158,158,158,158,158,159,159,159,159,159,159,159,159,159,159,159,160,160,160,160,160,161,161,161,162,162,162,162,163,163,163,163,164,164,164,164,165,165,165,165,165,165,166,166,166,166,166,166,166,166,166,166,166,166,166,166,166,166,166,166,167,167,167,167,167,167,167,167,167,168,168,168,168,168,168,169,169,169,169,169,170,170,170,170,171,171,171,171,171,172,172,172,172,172,173,173,173,173,173,173,173,174,174,174,174,174,174,174,174,175,175,175,175,175,175,175,175,175,175,175,176,176,176,176,176,176,176,176,176,176)},".Xpro":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255),r:Uint8ClampedArray.of(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,3,3,4,4,5,5,5,6,7,7,8,8,9,9,10,11,11,12,13,14,14,15,16,17,17,18,19,20,21,22,23,24,25,26,27,28,29,31,32,33,34,35,37,38,39,41,42,43,45,46,48,49,51,52,54,55,57,58,60,62,63,65,67,68,70,72,74,76,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,172,174,176,178,180,182,184,186,188,189,191,193,194,196,198,199,201,202,204,205,207,208,209,211,212,214,215,216,217,219,220,221,222,223,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,239,240,241,242,243,243,244,245,246,246,247,248,248,249,249,250,250,251,251,252,252,252,253,253,253,253,253,253,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,255,255,255,255,255,255,255,255),g:Uint8ClampedArray.of(0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,4,4,4,5,5,5,6,6,7,7,8,8,9,10,10,11,12,12,13,14,14,15,16,17,18,18,19,20,21,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,39,40,41,43,44,45,47,48,50,51,53,54,56,57,59,61,62,64,66,67,69,71,73,75,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,161,163,165,167,169,171,173,175,176,178,180,182,183,185,187,189,190,192,193,195,197,198,200,201,203,204,206,207,209,210,211,213,214,216,217,218,219,221,222,223,224,226,227,228,229,230,231,232,233,234,235,236,237,237,238,239,240,240,241,242,243,243,244,244,245,246,246,247,247,248,248,249,249,250,250,250,251,251,252,252,252,253,253,253,253,253,253,254,254,254,254,254,254,254,254,254,254,254,254,254,254,254,255,255,255,255,255,255,255,255,255,255),b:Uint8ClampedArray.of(24,25,26,27,28,28,29,30,31,32,33,34,35,35,36,37,38,39,40,41,41,42,43,44,45,45,46,47,48,49,49,50,51,52,53,53,54,55,56,56,57,58,59,59,60,61,62,62,63,64,64,65,66,67,67,68,69,70,70,71,72,73,73,74,75,76,77,77,78,79,80,81,81,82,83,84,85,86,86,87,88,89,90,91,91,92,93,94,95,96,96,97,98,99,100,101,101,102,103,104,105,106,107,107,108,109,110,111,112,113,114,114,115,116,117,118,119,119,120,121,122,123,124,124,125,126,127,127,128,129,129,130,130,131,131,132,132,133,134,134,135,136,137,138,138,139,140,141,142,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,162,163,164,165,165,166,167,168,168,169,170,171,171,172,173,173,174,175,176,176,177,178,178,179,180,181,182,182,183,184,185,185,186,187,188,189,189,190,191,192,193,193,194,195,196,197,197,198,199,200,200,201,202,203,204,204,205,206,206,207,208,208,209,210,210,211,212,212,213,214,215,215,216,217,218,218,219,220,221,221,222,223,224,225,226,226,227,228,229)},XMAT:{a:Uint8ClampedArray.of(0,0,1,2,2,3,4,4,5,6,6,7,8,8,9,10,11,11,12,13,13,14,15,15,16,17,18,18,19,20,21,21,22,23,24,24,25,26,27,27,28,29,30,31,31,32,33,34,35,36,36,37,38,39,40,41,42,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,68,69,70,71,72,73,75,76,77,78,80,81,82,84,85,87,88,90,91,93,94,96,97,99,100,102,104,105,107,109,110,112,114,115,117,119,121,122,124,126,127,129,131,133,134,136,138,139,141,143,145,146,148,150,151,153,155,156,158,160,161,163,164,166,167,169,170,172,173,175,176,178,179,180,182,183,184,186,187,188,189,190,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,207,208,209,210,211,212,213,213,214,215,216,217,217,218,219,220,220,221,222,223,223,224,225,225,226,227,228,228,229,229,230,231,231,232,233,233,234,234,235,236,236,237,237,238,239,239,240,240,241,241,242,242,243,243,244,245,245,246,246,247,247,248,248,249,249,250,250,251,251,252,252,253,253,254,254,255),r:Uint8ClampedArray.of(0,0,1,2,3,4,5,6,7,8,9,10,11,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,78,79,80,81,82,83,84,85,86,87,89,90,91,92,94,95,96,97,98,100,101,102,103,105,106,107,108,110,111,112,114,115,116,118,119,120,122,123,125,126,127,129,130,131,133,134,136,137,138,140,141,143,144,145,147,148,150,151,152,154,155,156,158,159,161,162,163,165,166,167,169,170,171,173,174,175,176,178,179,180,181,183,184,185,186,188,189,190,191,192,193,194,195,197,198,199,200,201,202,203,204,205,206,207,207,208,209,210,211,212,213,214,215,215,216,217,218,219,219,220,221,222,222,223,224,225,225,226,227,228,228,229,230,230,231,232,232,233,234,234,235,235,236,237,237,238,239,239,240,240,241,241,242,243,243,244,244,245,245,246,247,247,248,248,249,249,250,250,251,251,252,253,253,254,254,255),g:Uint8ClampedArray.of(0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,64,65,66,67,68,69,70,71,72,73,75,76,77,78,79,80,81,83,84,85,86,87,88,90,91,92,94,95,96,97,99,100,101,103,104,105,107,108,110,111,112,114,115,117,118,120,121,123,124,126,127,129,130,132,133,135,136,138,140,141,143,144,146,147,149,150,152,153,155,156,158,159,161,162,163,165,166,168,169,170,172,173,174,176,177,178,180,181,182,183,184,186,187,188,189,190,191,192,193,194,195,196,197,198,198,199,200,201,202,203,204,205,206,206,207,208,209,210,210,211,212,213,214,214,215,216,217,217,218,219,219,220,221,222,222,223,224,224,225,226,226,227,228,228,229,229,230,231,231,232,233,233,234,234,235,235,236,237,237,238,238,239,239,240,240,241,242,242,243,243,244,244,245,245,246,246,247,247,248,248,249,249,250,250,251,251,252,253,253,254,254,255),b:Uint8ClampedArray.of(0,1,3,4,6,7,9,10,12,14,15,17,18,20,21,23,24,26,28,29,31,32,34,35,37,38,40,41,43,44,46,47,49,50,52,53,55,56,58,59,60,62,63,65,66,68,69,70,72,73,75,76,77,79,80,81,83,84,85,87,88,89,90,92,93,94,95,97,98,99,100,101,102,103,105,106,107,108,109,110,112,113,114,115,116,117,118,119,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175,176,177,177,178,179,180,181,182,183,183,184,185,186,187,188,189,189,191,192,192,193,194,195,196,196,197,198,199,200,200,201,202,203,203,204,205,206,206,207,208,209,209,210,211,212,212,213,214,214,215,216,217,217,218,219,219,220,221,221,222,223,223,224,225,225,226,227,227,228,229,229,230,231,231,232,233,233,234,234,235,236,236,237,238,238,239,239,240,241,241,242,243,243,244,244,245,246,246,247,247,248,249,249,250,250,251,252,252,253,253,254,255)},"Contrast megaX":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,7,7,7,8,8,8,9,9,10,10,10,11,11,12,12,12,13,13,14,14,15,15,16,16,17,17,18,18,19,19,20,20,21,21,22,23,23,24,25,25,26,27,28,29,29,30,31,32,32,33,34,35,35,36,37,38,39,40,41,42,43,44,45,46,47,48,50,51,52,54,55,57,58,60,62,64,66,68,70,72,74,77,79,81,84,86,89,92,94,97,100,102,105,108,110,113,115,118,121,123,126,128,130,133,135,137,139,141,143,145,148,150,152,154,156,158,160,162,164,166,168,170,172,174,175,177,179,181,183,184,186,187,189,190,192,193,195,196,197,198,200,201,202,203,204,204,205,206,207,207,208,209,209,210,211,211,212,212,213,213,214,214,215,216,216,217,217,218,218,219,220,220,221,221,222,223,223,224,224,225,226,226,227,227,228,228,229,229,230,230,231,232,232,233,233,234,234,235,235,236,236,237,238,238,239,239,240,240,241,242,242,243,243,244,244,245,245,246,247,247,248,248,249,249,250,251,251,252,252,253,253,254,254,255),g:Uint8ClampedArray.of(1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3,3,4,4,4,4,5,5,5,6,6,7,7,7,8,8,9,9,10,11,11,12,12,13,14,14,15,16,16,17,18,18,19,20,21,22,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,39,40,41,42,43,45,46,47,48,50,51,52,54,55,57,58,60,61,63,64,66,68,69,71,73,75,77,79,81,83,85,88,90,92,95,97,99,102,104,107,109,112,114,117,119,122,124,127,129,132,134,136,139,141,143,145,147,149,151,153,155,157,158,160,162,164,166,167,169,171,173,174,176,177,179,181,182,184,185,187,188,190,191,192,194,195,196,198,199,200,201,203,204,205,206,207,208,209,210,211,212,213,214,214,215,216,217,218,218,219,220,221,221,222,223,224,224,225,226,226,227,228,228,229,230,230,231,231,232,232,233,234,234,235,235,236,236,236,237,237,238,238,239,239,240,240,240,241,241,242,242,243,243,243,244,244,245,245,246,246,246,247,247,247,248,248,249,249,249,250,250,250,251,251,252,252,252,253,253,253,254,254,254,255,255),b:Uint8ClampedArray.of(1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,8,8,8,9,9,10,10,11,11,11,12,12,13,14,14,15,15,16,16,17,17,18,18,19,19,20,21,21,22,22,23,24,24,25,26,26,27,28,29,30,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,47,48,49,50,51,53,54,55,57,58,59,61,62,64,65,67,68,70,72,73,75,77,79,81,82,85,87,89,91,93,95,98,100,102,105,107,109,112,114,116,119,121,123,126,128,130,133,135,137,139,141,143,145,147,149,151,153,154,156,158,160,162,163,165,167,169,170,172,174,175,177,179,180,182,183,185,186,188,189,191,192,193,194,196,197,198,199,200,202,203,204,205,206,206,207,208,209,210,211,211,212,213,214,214,215,216,216,217,218,218,219,220,220,221,222,222,223,224,224,225,226,226,227,227,228,228,229,230,230,231,231,232,232,233,233,234,234,235,235,236,236,237,237,238,238,239,239,240,240,240,241,241,242,242,243,243,244,244,245,245,246,246,247,247,248,248,249,249,250,250,250,251,251,252,252,253,253,254,254,255,255)},"Drawing life 1up":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(19,19,19,19,20,20,20,20,20,20,20,21,21,21,21,21,22,22,22,22,23,23,23,24,24,24,25,25,26,26,26,27,28,28,29,29,30,31,31,32,33,33,34,35,36,36,37,38,39,40,41,41,42,43,44,45,46,47,47,48,49,50,51,52,53,54,55,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,151,152,153,154,155,156,157,158,159,160,161,162,163,164,166,167,168,169,170,171,172,173,174,175,176,177,178,180,181,182,183,184,185,186,187,188,189,190,192,193,194,195,196,197,198,199,200,201,203,204,205,206,207,208,209,210,211,213,214,215,216,217,218,219,220,221,223,224,225,226,227,228,229,230,232,233,234,235,236,237,238,239,240,242,243,244,245,246,247,248,249,251,252,253,254),g:Uint8ClampedArray.of(18,18,18,18,19,19,19,19,19,19,19,20,20,20,20,20,21,21,21,21,22,22,22,23,23,23,24,24,25,25,26,26,27,27,28,29,29,30,31,31,32,33,34,35,35,36,37,38,39,40,41,41,42,43,44,45,46,47,48,49,50,51,52,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,132,133,134,135,136,137,138,139,140,141,142,143,144,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,183,184,185,186,187,188,189,190,191,192,193,194,195,196,198,199,200,201,202,203,204,205,206,207,208,209,211,212,213,214,215,216,217,218,219,220,221,222,224,225,226,227,228,229,230,231,232,233,234,235,237,238,239,240,241,242,243,244,245,246,247,249,250,251,252,253,254),b:Uint8ClampedArray.of(16,16,17,17,17,17,18,18,18,18,19,19,19,20,20,20,21,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,29,29,30,31,32,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,92,93,94,95,96,97,98,99,100,101,102,103,105,106,107,108,109,110,111,112,113,114,115,116,118,119,120,121,122,123,124,125,126,127,128,129,131,132,133,134,135,136,137,138,139,140,141,143,144,145,146,147,148,149,150,151,152,153,154,155,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,247,248,249,250,251,252,253,254)},"Undeadify skin color":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255),r:Uint8ClampedArray.of(0,0,1,1,1,2,2,2,3,3,3,4,4,4,5,5,6,6,6,7,7,7,8,8,9,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,19,20,20,21,22,22,23,24,24,25,26,26,27,28,29,30,30,31,32,33,34,35,36,37,37,38,39,40,41,43,44,45,46,47,48,49,50,52,53,54,56,57,59,60,62,63,65,66,68,70,72,74,75,77,79,81,83,85,87,89,91,93,95,98,100,102,104,106,108,111,113,115,117,120,122,124,126,128,131,133,135,137,139,141,144,146,148,150,152,154,156,158,160,162,164,166,168,169,171,173,175,176,178,180,181,183,184,185,187,188,189,190,191,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,213,214,215,216,217,218,218,219,220,221,221,222,223,224,224,225,226,226,227,228,228,229,230,230,231,231,232,233,233,234,234,235,235,236,237,237,238,238,239,239,240,240,241,241,242,242,242,243,243,244,244,245,245,246,246,246,247,247,248,248,249,249,249,250,250,251,251,251,252,252,253,253,253,254,254,255,255),g:Uint8ClampedArray.of(0,1,1,2,2,3,3,4,4,5,6,6,7,7,8,8,9,10,10,11,11,12,13,13,14,14,15,16,16,17,17,18,19,19,20,21,21,22,23,23,24,25,25,26,27,28,28,29,30,31,31,32,33,34,34,35,36,37,38,39,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,65,66,67,68,70,71,72,74,75,77,78,79,81,82,84,85,87,88,90,91,93,95,96,98,99,101,103,104,106,108,109,111,112,114,116,117,119,121,122,124,126,127,129,130,132,134,135,137,138,140,142,143,145,146,148,149,151,152,154,155,156,158,159,160,162,163,164,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,203,204,205,206,207,208,209,210,210,211,212,213,214,215,216,216,217,218,219,220,220,221,222,223,224,224,225,226,227,228,228,229,230,231,231,232,233,234,234,235,236,237,237,238,239,240,240,241,242,243,243,244,245,245,246,247,248,248,249,250,250,251,252,253,253,254,255),b:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,246,247,248,249,250,251,252,253,254,255)},"Vitality pro alpha":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,2,3,3,3,4,4,5,5,6,6,7,7,8,8,9,10,10,11,12,13,14,15,16,16,18,19,20,21,22,23,24,26,27,28,29,31,32,33,34,36,37,38,39,41,42,43,45,46,47,49,50,51,53,54,55,57,58,59,61,62,63,65,66,68,69,70,72,73,75,76,77,79,80,82,83,84,86,87,89,90,92,93,95,96,98,99,100,102,103,105,106,108,109,111,112,114,115,117,118,120,122,123,125,126,128,129,131,132,134,135,137,138,140,142,143,145,146,148,149,151,153,154,156,157,159,160,162,164,165,167,168,170,172,173,175,176,178,180,181,183,185,186,188,189,191,193,194,196,197,199,201,202,204,206,207,209,211,212,214,215,217,219,220,222,224,225,227,229,230,232,234,235,237,239,240,242,243,245,247,248,250,252,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255),g:Uint8ClampedArray.of(0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,19,19,20,21,22,22,23,24,25,26,27,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,45,46,47,48,49,50,51,52,54,55,56,57,58,59,61,62,63,64,65,67,68,69,70,71,73,74,75,76,78,79,80,81,82,84,85,86,87,89,90,91,93,94,95,96,98,99,100,101,103,104,105,107,108,109,110,112,113,114,116,117,118,120,121,122,123,125,126,127,129,130,131,133,134,135,136,138,139,140,142,143,144,146,147,148,149,151,152,153,155,156,157,158,160,161,162,164,165,166,167,169,170,171,173,174,175,176,178,179,180,181,183,184,185,186,188,189,190,191,192,194,195,196,197,198,200,201,202,203,204,206,207,208,209,210,211,213,214,215,216,217,218,219,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,235,236,237,238,239,239,240,241,241,242,243,243,244,244,245,245,246,246,247,247,248,248,249,249,250,250,251,251,251,252,252,253,253,253,254,254,255,255),b:Uint8ClampedArray.of(20,21,22,23,23,24,25,26,27,28,28,29,30,31,32,33,33,34,35,36,37,38,39,39,40,41,42,43,44,44,45,46,47,48,49,50,50,51,52,53,54,55,55,56,57,58,59,60,60,61,62,63,64,65,66,66,67,68,69,70,71,71,72,73,74,75,76,76,77,78,79,80,81,82,82,83,84,85,86,87,87,88,89,90,91,92,93,93,94,95,96,97,98,98,99,100,101,102,103,103,104,105,106,107,108,109,109,110,111,112,113,114,114,115,116,117,118,119,119,120,121,122,123,124,125,125,126,127,128,129,130,130,131,132,133,134,135,136,136,137,138,139,140,141,141,142,143,144,145,146,146,147,148,149,150,151,152,152,153,154,155,156,157,157,158,159,160,161,162,162,163,164,165,166,167,168,168,169,170,171,172,173,173,174,175,176,177,178,179,179,180,181,182,183,184,184,185,186,187,188,189,189,190,191,192,193,194,195,195,196,197,198,199,200,200,201,202,203,204,205,205,206,207,208,209,210,211,211,212,213,214,215,216,216,217,218,219,220,221,222,222,223,224,225,226,227,227,228,229,230,231,232,232,233,234,235)},Film:{a:Uint8ClampedArray.of(0,1,1,3,3,5,6,7,8,8,10,10,12,13,14,15,15,17,18,19,20,21,22,22,24,25,26,27,28,29,29,31,32,33,34,35,36,36,38,39,40,41,42,43,43,45,45,47,48,49,50,51,52,52,54,55,56,57,58,59,59,61,61,63,64,65,66,66,68,68,70,70,72,73,73,75,75,77,77,79,80,80,82,82,84,84,86,87,87,89,89,91,91,93,93,94,96,96,98,98,100,100,102,102,103,105,105,107,107,109,109,110,112,112,114,114,116,116,117,119,119,121,121,123,123,124,125,126,128,128,130,130,131,132,133,134,135,137,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,153,153,154,155,156,157,158,160,160,161,162,163,165,165,167,167,168,169,170,172,172,174,174,175,177,177,179,180,181,182,182,184,184,186,187,188,189,189,191,192,193,194,195,196,196,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,212,214,215,216,217,218,219,219,221,221,223,224,225,226,226,228,228,230,231,232,233,233,235,235,237,237,239,240,240,242,242,244,244,246,246,247,249,249,251,251,253,253,255),r:Uint8ClampedArray.of(26,25,25,25,25,25,25,25,25,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,26,26,26,26,27,27,27,27,28,28,28,29,29,30,30,30,31,31,32,32,33,33,34,35,35,36,37,37,38,39,40,41,42,42,43,44,46,47,48,49,50,51,53,54,55,57,58,60,61,62,64,65,67,68,70,71,73,74,76,77,79,80,82,83,84,86,87,89,90,92,93,95,96,98,99,101,102,104,105,107,108,110,111,113,114,116,117,119,121,122,124,125,127,128,130,131,133,134,135,137,138,140,141,143,144,146,147,149,150,152,153,155,156,158,159,160,162,163,165,166,168,169,170,172,173,175,176,177,179,180,181,182,184,185,186,188,189,190,191,193,194,195,196,197,199,200,201,202,203,205,206,207,208,209,210,211,212,213,214,215,216,218,219,220,221,221,222,223,224,225,226,227,228,229,230,231,232,233,233,234,235,236,237,237,238,239,240,240,241,242,242,243,244,244,245,245,246,246,247,247,248,248,248,249,249,250,250,250,251,251,251,251,252,252,252,252,253,253,253,253,254,254,254,254,255),g:Uint8ClampedArray.of(49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,48,48,48,48,48,48,48,48,48,47,47,47,47,47,46,46,46,46,46,46,46,46,46,46,46,46,47,47,47,48,48,49,49,50,50,51,52,53,54,54,55,56,57,58,60,61,62,63,64,65,67,68,69,70,72,73,74,76,77,78,80,81,82,84,85,86,88,89,90,92,93,95,96,98,99,101,102,104,105,107,108,110,112,113,115,116,118,119,121,122,124,126,127,129,130,131,133,134,136,137,139,140,142,143,145,146,148,149,151,152,154,155,157,158,159,161,162,164,165,167,168,169,171,172,173,175,176,177,179,180,181,183,184,185,187,188,189,191,192,193,194,196,197,198,199,201,202,203,204,205,207,208,209,210,211,212,213,214,215,216,218,219,220,221,222,223,224,224,225,226,227,228,229,230,231,232,233,233,234,235,236,237,237,238,239,240,240,241,242,242,243,244,244,245,245,246,246,247,247,248,248,248,249,249,250,250,250,251,251,251,251,252,252,252,252,253,253,253,253,254,254,254,254,255),b:Uint8ClampedArray.of(68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,67,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,69,69,69,70,70,71,71,72,73,73,74,75,76,77,78,80,81,82,83,85,86,88,89,91,92,94,95,97,99,100,102,104,105,107,109,110,112,113,115,116,118,119,121,122,124,125,127,128,130,131,133,135,136,138,139,141,142,144,145,147,148,150,151,153,154,156,157,159,160,162,163,165,166,168,169,170,172,173,175,176,177,179,180,182,183,185,186,187,189,190,191,193,194,195,197,198,199,201,202,203,205,206,207,208,209,211,212,213,214,215,216,217,218,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,234,235,236,237,238,239,239,240,241,242,242,243,243,244,245,245,246,246,247,247,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,253,254,254,254,255)},Imperial:{a:Uint8ClampedArray.of(0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,79,80,81,82,83,84,85,86,87,88,90,91,92,93,94,95,96,97,99,100,101,102,103,104,105,107,108,109,110,111,112,114,115,116,117,118,120,121,122,123,124,126,127,128,129,131,132,134,135,137,138,140,142,144,146,148,149,151,153,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,189,191,193,194,196,197,198,200,201,202,203,204,205,206,206,207,208,209,210,211,212,212,213,214,215,216,216,217,218,218,219,220,221,221,222,223,223,224,225,225,226,227,227,228,228,229,230,230,231,231,232,232,233,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,241,242,242,243,243,244,244,245,245,245,246,246,247,247,247,248,248,249,249,249,250,250,251,251,251,252,252,253,253,253,254,254,255),r:Uint8ClampedArray.of(0,0,1,1,2,2,3,4,4,5,5,6,6,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,18,19,20,20,21,21,22,23,23,24,25,25,26,27,27,28,29,29,30,31,31,32,33,33,34,35,35,36,37,38,38,39,40,40,41,42,43,43,44,45,46,46,47,48,49,50,50,51,52,53,54,54,55,56,57,58,59,60,60,61,62,63,64,65,66,67,68,69,70,71,72,73,73,74,75,76,77,78,80,81,82,83,84,85,86,87,88,89,90,91,92,93,95,97,98,100,103,105,107,109,112,115,117,120,123,125,128,131,134,137,140,142,145,148,151,153,156,158,161,163,165,167,169,171,173,174,176,177,179,180,181,182,183,184,185,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,208,209,210,211,212,213,214,214,215,216,217,218,218,219,220,221,222,222,223,224,225,225,226,227,228,228,229,230,230,231,232,232,233,234,234,235,236,236,237,238,238,239,240,240,241,242,242,243,243,244,245,245,246,247,247,248,248,249,250,250,251,251,252,253,253,254,255),g:Uint8ClampedArray.of(0,1,1,3,3,5,5,7,8,8,10,10,12,12,14,15,15,17,17,19,19,21,22,22,24,24,26,26,28,28,29,31,31,33,33,35,35,36,38,38,40,40,42,42,43,45,45,47,47,49,49,51,52,52,54,54,56,56,58,59,59,61,61,63,63,65,66,66,68,68,70,70,72,73,73,75,75,77,77,79,79,80,82,82,84,84,86,86,87,89,89,91,91,93,93,94,96,96,98,98,100,100,102,103,103,105,105,107,107,109,110,110,112,112,114,114,116,117,117,119,119,121,121,123,124,124,126,126,128,128,130,130,131,133,133,135,135,137,137,138,140,140,142,142,144,144,145,147,147,149,149,151,151,153,154,154,156,156,158,158,160,161,161,163,163,165,165,167,168,168,170,170,172,172,174,175,175,177,177,179,179,181,181,182,184,184,186,186,188,188,189,191,191,193,193,195,195,196,198,198,200,200,202,202,204,205,205,207,207,209,209,211,212,212,214,214,216,216,218,219,219,221,221,223,223,225,226,226,228,228,230,230,232,232,233,235,235,237,237,239,239,240,242,242,244,244,246,246,247,249,249,251,251,253,253,255),b:Uint8ClampedArray.of(0,1,1,3,3,5,5,7,8,8,10,10,12,12,14,15,15,17,17,19,19,21,22,22,24,24,26,26,28,28,29,31,31,33,33,35,35,36,38,38,40,40,42,42,43,45,45,47,47,49,49,51,52,52,54,54,56,56,58,59,59,61,61,63,63,65,66,66,68,68,70,70,72,73,73,75,75,77,77,79,79,80,82,82,84,84,86,86,87,89,89,91,91,93,93,94,96,96,98,98,100,100,102,103,103,105,105,107,107,109,110,110,112,112,114,114,116,117,117,119,119,121,121,123,124,124,126,126,128,128,130,130,131,133,133,135,135,137,137,138,140,140,142,142,144,144,145,147,147,149,149,151,151,153,154,154,156,156,158,158,160,161,161,163,163,165,165,167,168,168,170,170,172,172,174,175,175,177,177,179,179,181,181,182,184,184,186,186,188,188,189,191,191,193,193,195,195,196,198,198,200,200,202,202,204,205,205,207,207,209,209,211,212,212,214,214,216,216,218,219,219,221,221,223,223,225,226,226,228,228,230,230,232,232,233,235,235,237,237,239,239,240,242,242,244,244,246,246,247,249,249,251,251,253,253,255)},Inversion:{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(255,254,253,252,251,250,249,248,247,246,245,244,243,242,241,240,239,238,237,236,235,234,233,232,231,230,229,228,227,226,225,224,223,222,221,220,219,218,217,216,215,214,213,212,211,210,209,208,207,206,205,204,203,202,201,200,199,198,197,196,195,194,193,192,191,190,189,188,187,186,185,184,183,182,181,180,179,178,177,176,175,174,173,172,171,170,169,168,167,166,165,164,163,162,161,160,159,158,157,156,155,154,153,152,151,150,149,148,147,146,145,144,143,142,141,140,139,138,137,136,135,134,133,132,131,130,129,128,127,126,125,124,123,122,121,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,99,98,97,96,95,94,93,92,91,90,89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0),g:Uint8ClampedArray.of(255,254,253,252,251,250,249,248,247,246,245,244,243,242,241,240,239,238,237,236,235,234,233,232,231,230,229,228,227,226,225,224,223,222,221,220,219,218,217,216,215,214,213,212,211,210,209,208,207,206,205,204,203,202,201,200,199,198,197,196,195,194,193,192,191,190,189,188,187,186,185,184,183,182,181,180,179,178,177,176,175,174,173,172,171,170,169,168,167,166,165,164,163,162,161,160,159,158,157,156,155,154,153,152,151,150,149,148,147,146,145,144,143,142,141,140,139,138,137,136,135,134,133,132,131,130,129,128,127,126,125,124,123,122,121,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,99,98,97,96,95,94,93,92,91,90,89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0),b:Uint8ClampedArray.of(255,254,253,252,251,250,249,248,247,246,245,244,243,242,241,240,239,238,237,236,235,234,233,232,231,230,229,228,227,226,225,224,223,222,221,220,219,218,217,216,215,214,213,212,211,210,209,208,207,206,205,204,203,202,201,200,199,198,197,196,195,194,193,192,191,190,189,188,187,186,185,184,183,182,181,180,179,178,177,176,175,174,173,172,171,170,169,168,167,166,165,164,163,162,161,160,159,158,157,156,155,154,153,152,151,150,149,148,147,146,145,144,143,142,141,140,139,138,137,136,135,134,133,132,131,130,129,128,127,126,125,124,123,122,121,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,99,98,97,96,95,94,93,92,91,90,89,88,87,86,85,84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0)},"Ancient warmth":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(0,1,3,4,5,6,8,9,10,12,13,14,15,17,18,19,21,22,23,24,26,27,28,29,31,32,33,35,36,37,38,40,41,42,43,45,46,47,48,50,51,52,53,55,56,57,58,60,61,62,63,64,66,67,68,69,70,72,73,74,75,76,78,79,80,81,82,84,85,86,87,88,89,90,92,93,94,95,96,97,98,99,101,102,103,104,105,106,107,108,109,110,111,112,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,146,147,148,149,150,151,152,153,154,155,156,157,158,159,159,160,161,162,163,164,165,166,167,168,169,169,170,171,172,173,174,175,176,177,177,178,179,180,181,182,183,183,184,185,186,187,188,189,190,190,191,192,193,194,195,196,196,197,198,199,200,201,201,202,203,204,205,206,206,207,208,209,210,211,211,212,213,214,215,216,216,217,218,219,220,221,221,222,223,224,225,225,226,227,228,229,229,230,231,232,233,234,234,235,236,237,238,238,239,240,241,242,242,243,244,245,246,246,247,248,249,250,250,251,252,253,254,255,255),g:Uint8ClampedArray.of(0,1,2,4,5,6,7,8,10,11,12,13,14,16,17,18,19,20,22,23,24,25,26,28,29,30,31,32,34,35,36,37,38,39,41,42,43,44,45,46,48,49,50,51,52,53,55,56,57,58,59,60,61,63,64,65,66,67,68,69,71,72,73,74,75,76,77,78,79,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,164,165,166,167,168,169,170,171,172,173,174,175,176,176,177,178,179,180,181,182,183,184,185,186,187,187,188,189,190,191,192,193,194,195,196,196,197,198,199,200,201,202,203,204,205,205,206,207,208,209,210,211,212,213,213,214,215,216,217,218,219,220,221,221,222,223,224,225,226,227,228,229,229,230,231,232,233,234,235,236,237,237,238,239,240,241,242,243,244,244,245,246,247,248,249,250,251,252,252,253,254,255),b:Uint8ClampedArray.of(0,1,2,2,3,4,5,5,6,7,8,8,9,10,11,11,12,13,14,14,15,16,17,17,18,19,20,20,21,22,23,23,24,25,26,27,27,28,29,30,30,31,32,33,34,34,35,36,37,37,38,39,40,41,41,42,43,44,45,45,46,47,48,49,49,50,51,52,53,53,54,55,56,57,58,58,59,60,61,62,63,63,64,65,66,67,68,69,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,100,101,102,103,104,105,106,107,108,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,131,132,133,134,135,136,137,138,139,140,141,143,144,145,146,147,148,149,150,152,153,154,155,156,157,158,160,161,162,163,164,165,167,168,169,170,171,173,174,175,176,177,179,180,181,182,183,185,186,187,188,189,191,192,193,194,195,197,198,199,200,202,203,204,205,207,208,209,210,212,213,214,215,216,218,219,220,221,223,224,225,227,228,229,230,232,233,234,235,237,238,239,240,242,243,244,245,247,248,249,250,252,253,254,255)},"Beam gradient":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(1,1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,5,5,5,5,6,6,7,7,7,8,8,9,10,10,11,11,12,13,13,14,15,16,16,17,18,19,20,21,22,22,23,24,25,26,27,28,29,30,31,32,33,34,36,37,38,39,40,41,42,43,44,46,47,48,49,50,52,53,54,55,57,58,59,61,62,63,65,66,67,69,70,71,73,74,75,77,78,80,81,82,84,85,87,88,89,91,92,94,95,97,98,99,101,102,104,105,107,108,110,111,113,114,116,117,119,120,122,123,124,126,127,129,130,132,133,135,136,138,139,141,142,144,145,147,148,150,151,153,154,156,157,159,160,162,163,165,166,168,169,170,172,173,175,176,177,179,180,181,183,184,186,187,188,190,191,192,194,195,196,198,199,200,201,203,204,205,206,208,209,210,211,212,213,214,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,234,235,236,237,238,239,239,240,241,242,242,243,244,244,245,245,246,247,247,248,248,248,249,249,250,250,250,251,251,251,252,252,252,252,253,253,253,253,254,254,254,254,254,255,255,255),g:Uint8ClampedArray.of(1,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,5,5,5,6,6,6,7,7,8,8,8,9,10,10,11,11,12,13,13,14,15,16,16,17,18,19,20,21,21,22,23,24,25,26,27,28,29,30,31,32,33,34,36,37,38,39,40,41,42,43,44,46,47,48,49,50,52,53,54,55,57,58,59,61,62,63,65,66,67,69,70,71,73,74,75,77,78,79,81,82,84,85,86,88,89,91,92,94,95,96,98,99,101,102,104,105,107,108,110,111,113,114,116,117,119,120,122,123,125,126,127,129,130,132,133,135,136,138,139,141,142,144,145,147,148,150,151,153,154,156,157,159,160,162,163,165,166,168,169,170,172,173,175,176,177,179,180,181,183,184,185,187,188,189,191,192,193,195,196,197,199,200,201,202,204,205,206,207,208,210,211,212,213,214,215,216,217,218,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,234,235,236,237,238,239,239,240,241,242,242,243,244,244,245,246,246,247,247,248,248,249,249,249,250,250,250,251,251,251,252,252,252,252,253,253,253,253,254,254,254,254,254,255,255,255),b:Uint8ClampedArray.of(1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,4,5,5,5,6,6,6,7,7,7,8,8,9,9,10,11,11,12,12,13,14,15,15,16,17,18,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,45,46,47,48,49,51,52,53,54,56,57,58,60,61,62,64,65,66,68,69,70,72,73,74,76,77,78,80,81,83,84,85,87,88,89,91,92,94,95,97,98,100,101,102,104,105,107,108,110,111,113,114,116,117,119,120,121,123,124,126,127,129,130,132,133,135,136,138,139,141,142,144,145,147,148,150,151,153,154,156,157,159,160,162,163,164,166,167,169,170,172,173,174,176,177,179,180,181,183,184,185,187,188,189,191,192,193,195,196,197,199,200,201,202,204,205,206,207,209,210,211,212,213,214,215,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,234,235,236,237,238,239,239,240,241,242,242,243,244,244,245,245,246,246,247,247,248,248,249,249,250,250,250,251,251,251,252,252,252,252,253,253,253,253,254,254,254,254,254,255,255,255)},"Bright tea party":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(0,1,3,4,5,7,8,9,11,12,13,15,16,17,19,20,21,22,24,25,26,28,29,30,31,33,34,35,37,38,39,40,41,43,44,45,46,48,49,50,51,52,53,55,56,57,58,59,60,61,62,63,65,66,67,68,69,70,71,72,72,73,74,74,75,76,76,77,77,78,78,79,79,80,80,81,81,82,82,83,83,84,85,85,86,87,88,89,90,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,255),g:Uint8ClampedArray.of(0,1,2,2,3,4,5,6,7,7,8,9,10,11,12,12,13,14,15,16,17,17,18,19,20,21,22,23,23,24,25,26,27,28,29,30,30,31,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,72,73,74,75,77,78,79,80,82,83,84,85,87,88,89,90,92,93,94,96,97,98,100,101,103,104,105,107,108,109,111,112,114,116,117,119,121,122,124,126,127,129,131,132,134,136,138,139,141,143,145,146,148,150,151,153,155,156,158,159,161,162,164,165,167,168,169,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,189,190,191,192,193,194,195,196,196,197,198,199,200,201,201,202,203,204,205,205,206,207,208,209,209,210,211,212,213,213,214,215,216,216,217,218,218,219,220,221,221,222,223,224,224,225,226,226,227,228,228,229,230,230,231,232,232,233,234,234,235,236,236,237,238,238,239,240,240,241,242,242,243,244,244,245,246,246,247,248,248,249,249,250,251,251,252,253,253,254,255,255),b:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255)},Bronze:{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(1,2,2,3,3,4,4,5,5,6,6,7,8,8,9,9,10,10,11,12,12,13,14,14,15,16,16,17,18,18,19,20,21,22,22,23,24,25,26,27,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,58,59,60,61,62,63,64,66,67,68,69,70,71,73,74,75,76,77,79,80,81,82,83,85,86,87,88,89,91,92,93,94,95,97,98,99,100,101,103,104,105,106,108,109,110,111,112,114,115,116,117,119,120,121,122,124,125,126,127,129,130,131,132,134,135,136,138,139,140,142,143,145,146,147,149,150,151,152,154,155,156,157,159,160,161,162,163,164,165,166,167,168,169,170,170,171,172,173,174,174,175,176,177,177,178,179,179,180,180,181,181,182,182,183,183,184,184,185,185,185,186,186,186,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186,186),g:Uint8ClampedArray.of(1,2,2,3,3,4,4,5,5,6,6,7,8,8,9,9,10,10,11,12,12,13,14,14,15,16,16,17,18,18,19,20,21,22,22,23,24,25,26,27,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,58,59,60,61,62,63,64,66,67,68,69,70,71,73,74,75,76,77,79,80,81,82,83,85,86,87,88,89,91,92,93,94,95,97,98,99,100,101,103,104,105,106,108,109,110,111,112,114,115,116,117,119,120,121,122,124,125,126,127,128,130,131,132,133,135,136,137,139,140,141,142,144,145,146,147,149,150,151,153,154,155,156,157,159,160,161,162,164,165,166,167,168,170,171,172,173,174,175,177,178,179,180,181,182,183,185,186,187,188,189,190,191,192,193,195,196,197,198,199,200,201,202,203,204,205,206,207,209,210,211,212,213,214,215,216,217,218,220,221,222,223,224,225,226,226,227,228,229,230,230,231,232,232,233,234,234,234,235,235,235,236,236,236,236,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,237,236,236,236,236,236),b:Uint8ClampedArray.of(115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,115,115,115,115,115,115,115,116,116,116,116,116,116,117,117,117,117,117,118,118,118,119,119,119,120,120,120,121,121,122,123,123,124,124,125,126,127,128,129,130,131,132,133,134,135,136,138,139,140,142,143,144,146,147,149,150,151,153,154,156,157,158,160,161,162,164,165,166,167,168,170,171,172,173,174,175,177,178,179,180,181,182,183,185,186,187,188,189,190,191,192,193,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,230,231,232,233,234,235,235,236,237,238,238,239,240,241,241,242,243,243,244,245,246,246,247,247,248,249,249,250,251,251,252,253,253,254,254,255)},"Classic HDR":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(14,14,14,13,13,13,13,13,13,13,12,12,12,12,12,12,12,12,13,13,13,13,13,14,14,14,15,15,16,17,17,18,19,20,21,22,23,24,25,26,28,29,30,32,33,35,36,38,39,41,42,44,46,47,49,50,52,53,55,56,58,59,61,62,63,65,66,67,69,70,71,73,74,75,77,78,79,81,82,83,85,86,87,89,90,91,93,94,95,96,98,99,100,102,103,104,105,106,108,109,110,111,113,114,115,116,117,118,120,121,122,123,124,125,127,128,129,130,131,132,133,134,136,137,138,139,140,141,142,143,144,145,146,147,148,149,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,166,167,168,169,170,171,172,173,174,175,176,177,177,178,179,180,181,182,183,183,184,185,186,187,187,188,189,190,191,191,192,193,194,194,195,196,197,197,198,199,200,200,201,202,203,203,204,205,206,206,207,208,208,209,210,210,211,212,212,213,214,214,215,216,216,217,218,218,219,220,220,221,222,222,223,224,224,225,226,226,227,228,228,229,230,230,231,232,232,233,234,234,235,236,236,237,237,238,239,239,240,241,241,242),g:Uint8ClampedArray.of(2,2,2,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,4,5,5,6,7,8,9,10,11,12,13,15,16,18,19,21,22,24,25,27,29,30,32,34,35,37,39,40,42,44,45,47,48,50,52,53,54,56,57,59,60,62,63,65,66,68,69,71,72,74,75,77,78,79,81,82,84,85,87,88,89,91,92,94,95,96,98,99,100,102,103,104,106,107,108,109,111,112,113,114,115,117,118,119,120,122,123,124,125,126,127,129,130,131,132,133,134,136,137,138,139,140,142,143,144,145,146,147,149,150,151,152,153,154,155,157,158,159,160,161,162,163,164,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,186,187,188,189,190,191,192,193,194,194,195,196,197,198,199,200,200,201,202,203,204,205,206,206,207,208,209,210,211,211,212,213,214,215,215,216,217,218,219,219,220,221,222,223,223,224,225,226,227,227,228,229,230,231,231,232,233,234,235,235,236,237,238,238,239,240,241,242,242,243,244,245,245,246,247,248,249,249,250,251,252,252,253,254),b:Uint8ClampedArray.of(66,66,66,67,67,67,67,67,68,68,68,68,69,69,69,69,70,70,70,71,71,71,71,72,72,73,73,73,74,74,75,75,75,76,76,77,78,78,79,79,80,80,81,82,82,83,84,84,85,86,86,87,88,88,89,90,90,91,92,92,93,94,94,95,96,96,97,98,98,99,99,100,101,101,102,103,103,104,104,105,106,106,107,108,108,109,110,110,111,111,112,113,113,114,114,115,116,116,117,117,118,118,119,120,120,121,121,122,122,123,124,124,125,125,126,126,127,127,128,129,129,130,130,131,131,132,132,133,134,134,135,135,136,136,137,138,138,139,139,140,140,141,142,142,143,143,144,144,145,146,146,147,147,148,148,149,149,150,150,151,152,152,153,153,154,154,155,155,156,156,157,157,158,158,159,159,160,160,161,161,162,162,163,163,164,164,165,165,166,166,167,167,168,168,169,169,170,170,171,171,172,172,173,173,174,174,175,175,176,176,177,177,178,178,179,179,180,180,181,181,182,182,183,183,183,184,184,185,185,186,186,187,187,188,188,189,189,190,190,191,191,192,192,192,193,193,194,194,195,195,196,196,197,197,198,198)},"Gothic style":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,14,14,15,15,16,17,18,18,19,20,21,21,22,23,24,25,26,26,27,28,29,30,31,32,33,34,35,36,37,38,39,41,42,43,44,45,46,47,49,50,51,52,53,55,56,57,59,60,61,63,64,66,67,68,70,71,73,74,76,77,79,80,82,83,85,86,88,89,91,92,94,95,97,99,100,102,103,105,106,108,110,111,113,114,116,118,119,121,123,124,126,128,129,131,133,134,136,138,139,141,143,144,146,147,149,151,152,154,156,157,159,160,162,164,165,167,169,170,172,174,175,177,179,180,182,183,185,187,188,190,191,193,194,196,197,199,200,201,203,204,206,207,208,210,211,212,214,215,216,217,219,220,221,222,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,240,241,242,243,243,244,245,245,246,246,247,247,248,248,249,249,250,250,251,251,252,252,252,253,253,254,254,254,255,255),g:Uint8ClampedArray.of(1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,4,4,4,4,5,5,6,6,6,7,7,8,8,9,9,10,11,11,12,13,14,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,46,47,48,49,50,51,53,54,55,56,58,59,60,61,63,64,65,66,68,69,70,72,73,74,76,77,78,80,81,82,84,85,87,88,89,91,92,94,95,97,98,100,101,103,104,106,107,109,110,112,113,115,116,118,119,121,122,124,125,127,128,129,131,132,134,135,137,138,140,141,143,144,146,147,148,150,151,153,154,156,157,159,160,161,163,164,166,167,168,170,171,173,174,175,177,178,179,181,182,184,185,186,188,189,190,192,193,194,196,197,198,200,201,202,203,205,206,207,208,209,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,233,234,235,236,237,237,238,239,240,240,241,242,242,243,244,244,245,245,246,246,247,247,248,248,249,249,249,250,250,251,251,251,251,252,252,252,253,253,253,253,254,254,254,254,255,255),b:Uint8ClampedArray.of(1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,2,2,2,2,2,3,3,3,3,4,4,4,5,5,5,6,6,6,7,7,8,8,8,9,9,10,10,11,11,12,13,13,14,14,15,16,16,17,18,18,19,20,21,22,22,23,24,25,26,27,27,28,29,30,31,32,33,34,35,36,37,38,40,41,42,43,44,45,46,48,49,50,51,53,54,55,57,58,59,61,62,64,65,66,68,69,71,72,74,75,77,78,80,81,83,84,86,87,89,91,92,94,95,97,98,100,102,103,105,107,108,110,112,113,115,117,118,120,122,123,125,127,128,130,132,134,135,137,139,140,142,144,145,147,149,151,152,154,156,157,159,161,163,165,166,168,170,171,173,175,177,178,180,182,183,185,187,188,190,191,193,195,196,197,199,200,202,203,205,206,208,209,211,212,213,215,216,217,219,220,221,223,224,225,226,228,229,230,231,232,233,234,235,236,237,238,239,240,240,241,242,243,243,244,245,245,246,247,247,248,248,249,249,250,250,251,251,251,252,252,253,253,253,254,254,255,255)},"Old photo":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(8,8,9,9,9,10,10,11,11,12,12,13,13,13,14,14,15,15,16,16,17,18,18,19,19,20,21,21,22,23,23,24,25,26,26,27,28,29,29,30,31,32,33,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,50,51,52,54,55,56,58,59,61,62,64,66,67,69,71,72,74,76,78,80,82,84,85,87,89,91,93,95,97,99,101,103,106,108,110,112,114,116,118,121,123,125,128,130,133,135,138,141,143,146,149,151,154,156,159,162,164,167,169,172,174,176,178,180,183,185,186,188,190,191,193,194,196,197,198,199,201,202,203,204,205,205,206,207,208,208,209,210,211,211,212,212,213,214,214,215,215,216,217,217,218,219,219,220,220,221,221,222,222,223,223,224,224,225,225,226,226,226,227,227,228,228,228,229,229,229,230,230,230,231,231,232,232,232,233,233,233,234,234,234,235,235,235,236,236,236,237,237,237,238,238,238,239,239,239,239,240,240,240,241,241,241,241,242,242,242,242,243,243,243,243,244,244,244,244,245,245,245,245,245,246,246,246,246,246,247,247,247,247,247,248,248,248,248,248,249,249),g:Uint8ClampedArray.of(28,29,29,29,30,30,31,31,31,32,32,33,33,33,34,34,35,35,36,36,37,37,38,39,39,40,40,41,42,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,67,68,69,70,71,72,73,75,76,77,78,79,80,82,83,84,85,87,88,89,91,92,93,94,96,97,98,100,101,102,104,105,106,108,109,110,112,113,114,116,117,118,119,121,122,123,124,126,127,128,129,131,132,133,134,136,137,138,139,141,142,143,144,145,147,148,149,150,151,152,154,155,156,157,158,159,160,161,162,163,164,165,167,168,169,170,171,172,173,174,175,176,177,178,178,179,180,181,182,183,184,185,185,186,187,188,189,189,190,191,191,192,193,193,194,194,195,196,196,197,197,198,198,199,199,200,200,201,201,202,202,203,203,204,204,205,205,206,206,207,208,208,209,209,210,211,211,212,212,213,214,214,215,215,216,216,217,217,218,219,219,220,220,221,221,221,222,222,223,223,223,224,224,224,224,225,225,225,225,226,226,226,226,226,226,226,227,227,227,227,227,227,227,227,227,227,227,227,228,228,228,228),b:Uint8ClampedArray.of(28,29,29,29,30,30,31,31,31,32,32,33,33,33,34,34,35,35,36,36,37,37,38,39,39,40,40,41,42,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,67,68,69,70,71,72,73,75,76,77,78,79,80,82,83,84,85,87,88,89,91,92,93,94,96,97,98,100,101,102,104,105,106,108,109,110,112,113,114,116,117,118,119,121,122,123,124,126,127,128,129,131,132,133,134,136,137,138,139,141,142,143,144,145,147,148,149,150,151,152,154,155,156,157,158,159,160,161,162,163,164,165,167,168,169,170,171,172,173,174,175,176,177,178,178,179,180,181,182,183,184,185,185,186,187,188,189,189,190,191,191,192,193,193,194,194,195,196,196,197,197,198,198,199,199,200,200,201,201,202,202,203,203,204,204,205,205,206,206,207,208,208,209,209,210,211,211,212,212,213,214,214,215,215,216,216,217,217,218,219,219,220,220,221,221,221,222,222,223,223,223,224,224,224,224,225,225,225,225,226,226,226,226,226,226,226,227,227,227,227,227,227,227,227,227,227,227,227,228,228,228,228)},"Pink/blue gradient":{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(0,0,0,1,1,1,1,1,1,2,2,2,2,2,3,3,3,3,4,4,4,5,5,6,6,6,7,8,8,9,9,10,11,11,12,13,14,14,15,16,17,18,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,58,59,60,61,62,63,64,65,66,67,68,70,71,72,73,74,75,76,77,78,80,81,82,83,84,85,86,87,88,90,91,92,93,94,95,96,97,99,100,101,102,103,104,106,107,108,109,111,112,113,114,115,117,118,119,121,122,123,125,126,127,129,130,131,133,134,135,137,138,140,141,142,144,145,146,148,149,151,152,153,155,156,158,159,160,162,163,165,166,168,169,170,172,173,175,176,178,179,181,182,184,185,186,188,189,191,192,193,195,196,198,199,200,202,203,204,206,207,208,209,211,212,213,215,216,217,219,220,221,222,224,225,226,227,228,230,231,232,233,234,235,236,237,238,239,240,240,241,242,243,243,244,245,245,246,246,247,248,248,249,249,249,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255,255),g:Uint8ClampedArray.of(0,1,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,5,5,5,6,6,7,7,7,8,8,9,10,10,11,11,12,13,13,14,15,16,17,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,65,66,67,68,69,70,72,73,74,75,77,78,79,80,82,83,84,86,87,89,90,91,93,94,96,97,99,100,101,103,104,106,107,109,110,112,113,115,116,118,119,121,122,123,125,126,128,129,131,132,134,135,137,138,140,141,143,144,146,147,149,151,152,154,155,156,158,159,161,162,164,165,167,168,169,171,172,174,175,176,178,179,181,182,183,185,186,187,189,190,191,193,194,195,197,198,199,200,202,203,204,205,207,208,209,210,211,212,214,215,216,217,218,219,220,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,240,241,242,243,243,244,245,245,246,246,247,247,248,248,249,249,250,250,250,251,251,251,252,252,252,253,253,253,253,254,254,254,254,254,255,255,255),b:Uint8ClampedArray.of(66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,65,65,65,65,65,65,65,65,65,65,65,66,66,66,66,66,66,67,67,67,68,68,68,69,69,70,70,71,71,71,72,72,73,74,74,75,75,76,77,77,78,78,79,80,81,81,82,83,83,84,85,86,87,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,123,124,125,126,127,128,129,130,131,132,133,135,136,137,138,139,140,142,143,144,145,146,148,149,150,152,153,154,156,157,159,160,162,163,165,166,168,169,171,172,174,175,177,178,180,182,183,185,186,188,189,191,192,194,195,197,198,199,201,202,204,205,207,208,209,211,212,214,215,217,218,219,221,222,223,225,226,227,229,230,231,232,233,235,236,237,238,239,240,240,241,242,243,244,244,245,246,246,247,247,248,248,249,249,250,250,251,251,251,252,252,252,253,253,253,254,254,254,254,255,255)},Retro:{a:Uint8ClampedArray.of(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255),r:Uint8ClampedArray.of(3,3,3,4,4,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,8,8,8,9,9,10,10,11,11,12,12,13,13,14,15,15,16,17,18,19,19,20,21,22,23,24,25,26,26,27,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,45,46,47,48,50,51,52,53,54,55,57,58,59,60,62,63,64,65,67,68,69,70,72,73,74,76,77,78,80,81,82,83,85,86,88,89,90,92,93,94,96,97,99,100,101,103,104,106,107,109,110,111,113,114,116,117,119,120,121,123,124,126,127,129,130,131,133,134,136,137,139,140,142,143,144,146,147,149,150,152,153,154,156,157,159,160,162,163,164,166,167,168,170,171,172,174,175,177,178,179,181,182,183,185,186,187,189,190,191,192,194,195,196,198,199,200,201,202,204,205,206,207,208,209,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,229,230,231,232,233,234,235,235,236,237,238,238,239,240,240,241,241,242,243,243,244,244,245,245,245,246,246,247,247,247,248,248,248,249,249,249,250,250,250,250,251,251,251,251,252,252,252),g:Uint8ClampedArray.of(11,11,12,12,12,12,12,13,13,13,13,13,14,14,14,14,15,15,15,16,16,16,17,17,17,18,18,19,19,20,20,21,21,22,22,23,24,24,25,26,26,27,28,29,29,30,31,32,33,33,34,35,36,37,38,39,40,40,41,42,43,44,45,46,47,48,49,50,51,52,53,55,56,57,58,59,60,61,63,64,65,66,67,69,70,71,72,74,75,76,77,79,80,81,82,83,85,86,87,89,90,91,92,94,95,96,98,99,100,102,103,104,106,107,108,110,111,112,114,115,117,118,119,121,122,123,125,126,127,129,130,131,133,134,135,137,138,139,141,142,143,145,146,147,149,150,151,152,154,155,156,158,159,160,162,163,164,165,167,168,169,171,172,173,174,176,177,178,180,181,182,183,185,186,187,188,190,191,192,193,195,196,197,198,199,200,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,219,220,221,222,223,224,224,225,226,227,228,228,229,230,230,231,232,232,233,233,234,235,235,236,236,237,237,237,238,238,239,239,239,240,240,240,240,241,241,241,242,242,242,242,242,243,243,243,243,243,244,244),b:Uint8ClampedArray.of(63,63,63,63,64,64,64,64,64,64,64,64,64,65,65,65,65,65,65,66,66,66,66,66,67,67,67,67,68,68,68,68,69,69,69,70,70,71,71,71,72,72,73,73,73,74,74,75,75,76,76,77,77,78,78,79,79,80,80,81,81,82,82,83,83,84,85,85,86,86,87,88,88,89,89,90,91,91,92,93,93,94,95,95,96,97,97,98,99,99,100,101,101,102,103,103,104,105,105,106,107,108,108,109,110,110,111,112,113,113,114,115,116,116,117,118,119,119,120,121,122,122,123,124,125,125,126,127,128,128,129,130,131,131,132,133,134,134,135,136,136,137,138,139,139,140,141,142,142,143,144,144,145,146,147,147,148,149,149,150,151,152,152,153,154,154,155,156,157,157,158,159,160,160,161,162,162,163,164,165,165,166,167,167,168,169,169,170,170,171,172,172,173,173,174,174,175,175,176,177,177,178,178,179,179,179,180,180,181,181,182,182,183,183,183,184,184,185,185,185,186,186,186,187,187,187,187,188,188,188,188,189,189,189,189,189,190,190,190,190,190,190,190,191,191,191,191,191,191,191,191,191,192,192,192,192)}}),this.get_filter_names=()=>{var e=this._get_filters();return Object.entries(e).map(e=>{var t=o2(e,2),e=t[0];return t[1],e})},this._dutone_pixels=(r,o,i,e,t)=>(e=Uint16Array.from(e),t=(t=Uint32Array.from(t)).map(e=>{var t=o2(this._get_rgba_from_Uint32(e),4),_=t[0],a=t[1],e=t[2],e=o2((t[3],this.rgb_to_hsl(_,a,e)),3),e=(e[0],e[1],e[2]);return this._blend_colors(o,i,e/100/r,!1,!1,!0)}),this._remove_duplicate_pxl_colors(e,t)),this._filter_pixels=(e,_=1,t,a,r=!0)=>{t=Uint16Array.from(t),a=Uint32Array.from(a).map(e=>this._format_color(e,!0));var o=this._get_filters();const i=o[e]||o[1997],s=Uint32Array.from(a);return 0!==_&&(a=a.map(e=>{e=this._get_rgba_from_Uint32(e);return this._get_Uint32_color_from_rgba_values(i.a[i.r[e[0]]],i.a[i.g[e[1]]],i.a[i.b[e[2]]],e[3])}),1!==_&&(a=a.map((e,t)=>this._blend_colors(s[t],e,_,!1,!1,!0)))),r?this._remove_duplicate_pxl_colors(t,a):[t,a]},this._to_dutone=(e=.8,t="#ffffffff",_="#000000ff")=>{var a=this.state;const r=a._s_pxls,o=a._s_pxl_colors,i=a._layer_index;_=o2(this._dutone_pixels(e,t,_,r[i],o[i]),2);r[i]=_[0],o[i]=_[1],this.setState({_s_pxls:r,_s_pxl_colors:o,_old_pxls_hovered:-1,_pxls_hovered:-1},()=>{this._update_canvas()})},this._to_filter=(e,t=1)=>{var _=this.state;const a=_._s_pxls,r=_._s_pxl_colors,o=_._layer_index;t=o2(this._filter_pixels(e,t,a[o],r[o]),2);a[o]=t[0],r[o]=t[1],this.setState({_s_pxls:a,_s_pxl_colors:r,_old_pxls_hovered:-1,_pxls_hovered:-1},()=>{this._update_canvas()})},this._to_rotation=(i=!0)=>{var e=this.state;const s=e.pxl_width,t=e.pxl_height,_=e._s_pxls,n=e._pxl_indexes_of_selection,l=e._select_shape_index_a,h=e._shape_index_a,c=e._base64_original_images,a=e._original_image_index,p=e._layer_index;e=this.state;const r=e._imported_image_pxls,o=e._imported_image_width,d=e._imported_image_height;let f=this.state._is_there_new_dimension;const g=d,m=o;let A=new Array(g*m);const u=t,x=s;let v=this.state._s_pxls,w=new Set,y=l,b=h;if(r.length)r.forEach((e,t)=>{var _=t%o,t=(t-_)/o,_=i?_:m-1-_,_=(i?g-1-t:t)+_*g;A[_]=e});else{f=!0;for(let o=0;o<_.length;o++){let r=new Uint16Array(u*x).fill(0);_[o].forEach((e,t)=>{var _=t%s,a=(t-_)/s,_=i?_:x-1-_,_=(i?u-1-a:a)+_*u;r[_]=e,o===p&&(n.has(t)&&w.add(_),l===t&&(y=_),h===t&&(b=_))}),v[o]=r}}if(void 0===c[a]||r.length)this.setState({pxl_width:u,pxl_height:x,_s_pxls:v,_imported_image_width:g,_imported_image_height:m,_imported_image_pxls:A,_pxl_indexes_of_selection:w,_is_there_new_dimension:f,_select_shape_index_a:y,_shape_index_a:b,_last_action_timestamp:Date.now()},()=>{this._notify_size_change(),this._request_force_update()});else{const C=i?90:-90;let o=new Image;o.onload=()=>{var e=o2(this._get_new_ctx_from_canvas(o.height,o.width),2);let t=e[0],_=e[1];t.clearRect(0,0,_.width,_.height),t.save(),t.translate(_.width/2,_.height/2),t.rotate(C*Math.PI/180),t.drawImage(o,-o.width/2,-o.height/2),t.restore();const a=o.src.includes("image/png")?_.toDataURL("image/png"):_.toDataURL("image/jpeg"),r=c.includes(a)?c:c.concat([a]);this.setState({pxl_width:u,pxl_height:x,_s_pxls:v,_pxl_indexes_of_selection:w,_is_there_new_dimension:f,_select_shape_index_a:y,_shape_index_a:b,_base64_original_images:r,_original_image_index:-1},()=>{this.setState({_original_image_index:r.indexOf(a),_last_action_timestamp:Date.now()},()=>{this._notify_size_change(),this._request_force_update()})})},o.src=c[a]}},this._pxl_colors_to_alpha=(e,t,o,i)=>[e=Uint16Array.from(e),t=(t=Uint32Array.from(t)).map(e=>{var t=this._match_color(o,e),_=o2(this._get_rgba_from_Uint32(e),4),a=_[0],r=_[1],e=_[2],_=_[3];return this._get_Uint32_color_from_rgba_values(a,r,e,_-=_*(1-t)*i)})],this._pxl_adjust_contrast=(_,e,o=1)=>{let a=255,r=0;(e=e.map(e=>this._format_color(e,!0))).forEach((e,t)=>{_.includes(t)&&(t=((t=o2(this._get_rgba_from_Uint32(e),4))[0]+t[1]+t[2])/3*((e=t[3])/255),0<e&&(t>r&&(r=t),t<a&&(a=t)))});const i=255/Math.max(1,r-a),s=-a*i;return e=e.map(e=>{var t=o2(this._get_rgba_from_Uint32(e),4),_=t[0],a=t[1],r=t[2],t=t[3],_=_*i+s,a=a*i+s,r=r*i+s;return _=parseInt(Math.min(255,Math.max(0,_))),a=parseInt(Math.min(255,Math.max(0,a))),r=parseInt(Math.min(255,Math.max(0,r))),this._blend_colors(e,this._get_Uint32_color_from_rgba_values(_,a,r,t),o,!1,!1,!0)}),[_,e,i,s]},this._pxl_adjust_smoothness=(f,e,t=1)=>{var _=this.state;const g=_.pxl_width,m=_.pxl_height;for(let e=0;e<t;e++)f.forEach((e,t)=>{let _,a,r,o;_=t-g,_=_<0?-1:_,a=t+1,a=a%g==0?-1:a,r=t+g,r=r>g*m?-1:r,o=t-1,o=o%g==g-1?-1:o;let i,s,n,l;i=_-1,i=-1===_||-1===o?-1:i,s=_+1,s=-1===_||-1===a?-1:s,n=r-1,n=-1===r||-1===o?-1:n,l=r+1,l=-1===r||-1===a?-1:l;const h=[f[_],f[a],f[r],f[o],f[i],f[s],f[n],f[l]];let c=[];h.forEach(e=>{c[e]=void 0===c[e]?1:c[e]+1});let p=-1,d=-1;Object.entries(c).forEach(e=>{var t=o2(e,2),e=t[0],t=t[1];d<t&&(d=t,p=e)}),6<=d&&-1!==p&&(f[t]=p)});return this._remove_duplicate_pxl_colors(f,e)},this._remove_close_pxl_colors=(t=A(function*(t=[],_=[],a=null,r=null,o=16,i=null,e=null){const s=D.state.bucket_threshold;var n=f.default.exec(new Function(window.remove_close_pxl_colors_process_function_string)(),[t,_,a,r,o,i,s]).catch(function(e){return Promise.resolve(new Function(window.remove_close_pxl_colors_process_function_string)()(t,_,a,r,o,i,s))}).timeout(12e4);return null!==e&&e(yield n),n}),function(){return t.apply(this,arguments)}),this._remove_duplicate_pxl_colors=(e,a)=>{e=Uint32Array.from(e),a=Uint32Array.from(a);let r={},o=0,i=new Uint16Array(e.length).fill(0);e.forEach((e,t)=>{e=a[e];let _=void 0===r[e]?null:r[e];null===_&&(_=o,r[e]=_,o++),i[t]=_});let _=new Uint32Array(o);return Object.entries(r).forEach(e=>{var t=o2(e,2),e=t[0],t=t[1];_[t]=e}),[i,_]},this._get_shadow=e=>{function t(...e){return[""+e[0]+`px ${e[3]}px ${e[6]}px ${e[9]}px rgba(0,0,0,0.2)`].join(",")}return["none",t(0,2,1,-1,0,1,1,0,0,1,3,0),t(0,3,1,-2,0,2,2,0,0,1,5,0),t(0,3,3,-2,0,3,4,0,0,1,8,0),t(0,2,4,-1,0,4,5,0,0,1,10,0),t(0,3,5,-1,0,5,8,0,0,1,14,0),t(0,3,5,-1,0,6,10,0,0,1,18,0),t(0,4,5,-2,0,7,10,1,0,2,16,1),t(0,5,5,-3,0,8,10,1,0,3,14,2),t(0,5,6,-3,0,9,12,1,0,3,16,2),t(0,6,6,-3,0,10,14,1,0,4,18,3),t(0,6,7,-4,0,11,15,1,0,4,20,3),t(0,7,8,-4,0,12,17,2,0,5,22,4),t(0,7,8,-4,0,13,19,2,0,5,24,4),t(0,7,9,-4,0,14,21,2,0,5,26,4),t(0,8,9,-5,0,15,22,2,0,6,28,5),t(0,8,10,-5,0,16,24,2,0,6,30,5),t(0,8,11,-5,0,17,26,2,0,6,32,5),t(0,9,11,-5,0,18,28,2,0,7,34,6),t(0,9,12,-6,0,19,29,2,0,7,36,6),t(0,10,13,-6,0,20,31,3,0,8,38,7),t(0,10,13,-6,0,21,33,3,0,8,40,7),t(0,10,14,-6,0,22,35,3,0,8,42,7),t(0,11,14,-7,0,23,36,3,0,9,44,8),t(0,11,15,-7,0,24,38,3,0,9,46,8)][e]},this._get_cursor=(e,t,_,a,r,o)=>{let i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAq0lEQVRYR+1WQQrAIAxb///oDmUOkc3W2kEG2XHQGpPURg6wTzLwqKr2fUQk3Ddc2AMogBqGgo2ARpkhGaKHZtMIKRmnjJLtrBBIU0O9QzvsjrUpyzUd0BgfvAdYWz3StzLUm7KBuWLEKzZPzHjqO8SWElXuX7UnLCCvTCvTFJYsAuarGswp270tQ77FIOQuY0BjQLOM+zuGVlbK7HIpLzXH3vIXGfIwlGXqE9034xUtxdxDAAAAAElFTkSuQmCC") 18 18, auto';return t?i=e?'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAA9ElEQVRYR+3X0Q6FIAgGYDjn/R/5xBmtmjMTmIBd2G3WvsE/VISXPfgyDyyQ1JFbhYiIpI/q94joVukmyPJ/9i+Q1MUpFTpa8wWAzZoxy/puhg7E9b8MlAhiTRnyaJQIQsQPEW1ZKA2I12AWSgvaO5eBsoBSUFZQOErcyx6GHgf9FxH0kU0xJFMjoJD2jYIYZWpffbypI+EBMlWKQWf2WkcXL5AalQlSobJBImoGqIsq51d0hm5n/9beVx5nskG9kbDjZ4Ca7TtLGQ6S7nT19SoFNHqn8xyMnIlrCmtuGikV0kDKNVF7mdXxuN61ZR6qBZKq+Aeqdig0aelV6gAAAABJRU5ErkJggg==") 18 18, auto':_?'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAA80lEQVRYR+3X4Q6DIAwEYHn/h2bBQIJNoXcVHEb2c3PZx11hGo7FXmExz7FBViM7oe8lFGOMctUhBPcouL4oEfXvK77TiyJpUMEURALIQOR7DJICSUxaOQLSritImRwNstJwIC+G94K0uhxpXDZkrptPqIX5C6iHsU7d+vPO8OMJjcK04FRlszFV3XZCT2Bo0I2/I3i04MpSQhuUc1VP6uVmKA/c9NrgGVoWlG+s4F3DXkgl9ERKLtCslNw3aLPOJC2dc/FW70uCRtfWqgtKqAz3KFQPA4NGoSwMBbqLQjA0qEYxFaIYF6jsSu2Zvrdj0UfpHwMA+yX+QNKuAAAAAElFTkSuQmCC") 20 24, auto':'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABFUlEQVRYR+2Y2w6EIAxEl///aDYYa7C2dFqryyb4qsBhOr3E8kl4aq2Vb1NKKZGtQ4v4QQ2oP7/xTQckqYNAuhTSQiMp1IAiqrmBpEMWEPlBMy+qEOKrV0OG+GoBWZm3FFoKtUyiXsvV+P8sk3rVfqvN/BmF0eUhfiDJT136J0BSnEklrUUM1hzdQvMVH0kudWikkvQuMhV2vfEyyMFAtElwMhW5pclSBOIhYDe6I8ppLQQkZdMUQJpKafLsBdQ0tTaMZYK4TD010NNhg039lkohoKdU6ir3qfSYE2N2dR4Zeru8lT1TAmWHTQsXpBBV7iyoEQwMlAVlwbiA7kIhMG6gHsoTQhQmBNQXTStD+/fIz6r2/RftLsg0XDwDiAAAAABJRU5ErkJggg==") 20 18, auto':"MOVE"!==a&&!o.includes("CANVAS_WRAPPER")||_?("MOVE"===a||o.includes("CANVAS_WRAPPER"))&&_?i="grabbing":"RECTANGLE"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAv0lEQVRYR+2X3Q6AIAiF5f0fmuaFG6OSH9F00a0IX+dAKZTNHtiMpySQ5Mg/FUJEpMoAwKsQSxSqQI2hsiUQb9whhbjf0lS0dWrDUw5qGc9J9956iL6NFob3hSUH33sWEJvWrmBLLJNG1GCpf+wtE5FAkZa5fx0zLNNaW+O6Yx+lUAJJCgwdP2b0kCXnkh5KIE0PuU+MXF6pmHY9BEhbzBInfdtCzkPTgSwFPLGf3zos0EvuZQlkUUCKTcuOU+gCTnb3JcS3RYIAAAAASUVORK5CYII=") 27 12, auto':"ELLIPSE"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABH0lEQVRYR+2X4Q7CIAyEy0x8//c1WoNhCWOFawvo1PnTAf24HqUEOtgvzORhZs7XDyHAeHBAD3AEWhki2wlUqvmfCpVGRR7LPSSNLX1lMnWeAiE90bSIb/NdMrp6hRZMjJIWfw+QBFOUmCrI8JTVYDQ1Zfgp64FJaRxbGEsgbbVd8zdaoYWZ79bSn5tpKJCw2JWIbpZjNPRy9ezOAlsbW61DPwl0uJR5VJ6ashMInapToY8plPU77v5Jew+2AnTdZYJ/ltjHIVWbO/be9t55ERYCvQalXjnJfiGiR22nvT0U9IS02wS5m9sLAxWSGq3sv51I5atDa+TN+x+ZrAXVmuuBUStkhfLCmIHWxh2pqnmRmBs0FHTWd3jKZgX+GoWe1olaNCjYBWEAAAAASUVORK5CYII=") 25 9, auto':"LINE"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAA+klEQVRYR+3Y0Q6DIAwFUOr+/5NdTY1dkJS1YIsmstexcLhArYP0sA88zJN+IERECw4AQhdxAmlzkXmCaNvK3ePkbkson5jO1gQd23RKIr9xtydUu/7HVn5SSl9LiegZ03Tt+cADwEJnv2dC7TfmwpjXqMikrFV3QcRVQLknZQVR0kNQLaAhqFZQOKoHFIrqBYWhroBCUFdB7igPUBX1ryrXGj0vkIhSnoni3J4gM4r7rbKPp9S8QdRtmtsYqfkLB/GipcknSHtZGJ6QdsveC9LaVPqeDvuQhCwYHjMU1PDnxe7jYuleh6TVW1J7J8iSTPGG7P8sa0WU4zdwA0Y04iTpEgAAAABJRU5ErkJggg==") 32 32, auto':"PENCIL"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAA7UlEQVRYR+3X2w6EIAwEUPv/H82GRDYE6dUO8KCvEntSBgG6DnvoMM/1gbQZWdKhUkppECISa8JBFdMbqk1CQUEjpnVJQsFAHEZDwUC1cASVDmoBbjmRULOpSwX1xftiniylgWZFJRQX7BSQdVraOOgq04J7h/v/77nHs4141SELRlvm41YSBnkwY5ek/SwEQmEq1A1CYtwgNMYFWoExg1ZhTKCVGBW0GiOCdmBY0C7MFLQT8xqkHdi1K8/s/eNPbe0QAhPuEAoTAiExbhAaw4K4MGrX4EiI0w5oGcVNqwxVyPpd9wHN+uHouONAP0LJ2yWtxGVEAAAAAElFTkSuQmCC") 5 32, auto':"PENCIL PERFECT"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAA/0lEQVRYR+3XSw7DIAwE0Pj+h6ZCqiNE/cHAGBbttg1+GagBei770GWe5w/yZiQloVJKYQgRmTXhoIppDdVmoaCgHsMpWSgYSMN4KBioFp5BbQfxAuZ1YqGkqdsKaou3xSJraRtIKmqhtIW9BTQ6Lfw76L/MSOZtykJSahBLCVnTFG2Ibyf39hbt+wjm2wLMDr0EQmEqKjxlSEwYhMaEQBmYYVAWZgiUiXFB2RgTdAKjgk5hRNBJzBCIN0bveDG7BfXP/XRq6ZCVhXET4utUf5XyrjIraZkJSQMjMW5CPQiNUUFa5N41eGWqls5DOwqrL40cfGbs8AFtpkjkmetAH9mVQzQQt8P4AAAAAElFTkSuQmCC") 5 32, auto':"PICKER"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABTUlEQVRYR+2W4RKEIAiEpd7/kS9ubLQxFCGUq5upv5X7uYsghIc98DCe8AJJifzEIUTEDAIAXU13oAhTMkS2HtQUoCS6hhC2MhIKk9/1oIaBsmgSOaA4GAlqCIiJY0XEj1AqO1fLqSGgEMJCxZOIdJjcgOLCFZSKxsmhqA2IuGkiIgXfPG2jkU2F2Xentbfxnal+vPpQ5UwSipBsfBKM1SHOmSXWaTrOp+5cHPGqeVLnr0YmwiSBZm3R5tkqlytAXEx0191Cl6C0QGZn8qDXDlgNkNmZwo04ZfZilwpbAhpyBgDKOPNa5vvQDGdO1xFNz+Nob4Hh+tBtME0g7o5DboNcbYmNT4qtiqwEYnqGG8wVhzK4Nk7JCPZ91yFy/60Gp9R1LVQqoGI4HhoeMKrIWrv0gjEBecKwQL3syTiwlEn3H2mWTReUFnyB/s6hL1JSZjT7s1UhAAAAAElFTkSuQmCC") 5 32, auto':"EXCHANGE"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABoklEQVRYR+2Y61IDMQiFoa2+//tqxdmdJAMJ5JBMR6tTf7ob9gMOl5Tpyf74yXjoXwBdReQzG1lm1k5fiOhrdjYdIRGRash+Y46mjg0vdrDn8xTQAbMCkY3eAdtDIaCLiNx7mJnXGgY5sQoUwjDzjYjuIBI3EfnQUAWgHVsC6tNUo+LlPQLTNurHnf+9EVErEjdlHgwzX1GF9GCBnbUIPQrm+CoqhlTKAiAk/ihrg470ixmgs+lVIXoHqkHdlzwapbUTCrzTHhvPHcG51YRSUdI19JhMf0JAQ6oyMCqKy1AvoBI9oyvd234lQl7DbIO7K8NziJbqeieioToeoaElILVimJauyx0NTSTqNFCmLH80Qn8SKDOjQGM046SfBuG0D1p909XC6DCmHP2YLWKpExdvXLHvpDszXLdWhgwMEQ0b6BZQZu1MAKVgDjt9ylzBzfoGgqlac3ZrV79QQ0GEMjpyl7NiL1yHIZAXgd1rEILxUgZFjVIUPZ9tn/rMUh86PTBX9TmejmT2+pRZ3s0PBKghGm83rk4ZoN0sbZ17AaGwfQNzJa40/U9w+QAAAABJRU5ErkJggg==") 18 18, auto':"BUCKET"===a||"HUE BUCKET"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABMklEQVRYR+2XwRLDIAhEpen/f3FTOmaajrUgC5jpxVyD+lwXUCoXfszM5/RERMhSUBAyUR9TYVqGyoZAXQLUw1TYvwFlYCr4VIWyMFOBZsBMA5JgTpOj3vlkYySD2jEjmAhUykPaMR3Sd2UHVSoMZHnG+q+dTAgIXQyNa+HcQN5FvPEuIO/kjam/2siocsNAURgvFAQ0yiZv2bCyLwzkBdHi+3IAAb3P/McHWSipNo2Absy8E9FWSnnOhtIKpQp0+qYfiLQKS7lR1RaBrNteBspqIRLQxswP4fp5L6XsozTOKKN2e2330s48SlnKTAFCjY7CiBc0j0LI8Xlg1BujZWrJK9nWYt4YI4+8FsqrjAlkZcygFRyvVeRRKM0Bt44ooHfcArIUWwothSwFrP/LQ5ZCL65vGzRTMXdZAAAAAElFTkSuQmCC") 6 25, auto':"CONTOUR"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAA/klEQVRYR+XX7Q6FIAgG4Lz/i/bMlo2ZIB++zO30t1xPgEjlOuwqh3mu/wPVWuuYhVIKGwhohBpm9u5m5FAwEIfp0eJQENAM0zNHIzZDbQdxmJ4ieh8O0tRMGkiqGbrRUlK2KmCu+UJSthPT4KGi3o0JgRAYNwiFcYGQGDMIjTGBMjBqUBbGBLof5seYT++TRgxpSjX1oT5srWBejCpCBPHiJVgEswSNJ3MPNR0laCqjGBOI5p0MW3fUZlH0/s2INbTaXSPMi6DrwiDpD8IDdIN21MsM7AKhMK6iRmLMIDTGBMrAqEFZGBXo6cSmM8+z3d9TILIYsTbty7X440A/uhPvJTjQhwcAAAAASUVORK5CYII=") 8 33, auto':"BORDER"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAk0lEQVRYR+2YwQ6AIAxD2f9/9AgHDyixrs5kxHotHeVtB9Basc+K5WkKhDpyIeTujkyZuplNGZaBTmsy959qjbPvHeir7h0dCBNaGd72b8yoAt1RFCE0YyIkQogA0jVDIoQIIF0zJEKIANI1Q/8jhE7M6PSdmtks4gm/OiLFmbWPAzHFWQ98ubKFs3z6HYNIliPUAQ/FUDSiymd+AAAAAElFTkSuQmCC") 18 18, auto':"SET PENCIL MIRROR"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABR0lEQVRYR+3X3Q6CMAwF4DUY3v91NeIxEGYGbv1jXbzQW2R8nI5uo/RjP/J4AEBzHxGZxzffsGK0z1ndVpQJZMHkBK0oNeiMkapWpmhBqUA1jFCKGcDdgxJBDkyulgvFgi5g3KgmqAPGhVKBLJOy0Z8O5ePG6wGaADylflMmHgnKmAeAmUONAGXMViWprNEgFrM/fEopvYqO/VlyepdMg8mJfVBhCXEDV67Fg/b5sm0/yknMYfI9eSnpXbKvViNhhoI0mGGgCuaWUlpq3TpsUjOfcRMTnpC2TGVSoQntgy8AJiJikxnRGPNSsXZeFSa8ZJoj0Pk/oSX7g84112wvuNQs2+HoTf666h9OutK+KfIYZMZsC7Zmglrf8krJVaDWA7iX8Zxa1QnVuq0mWc/HoE7Ig5ImcO2lzKByxyilJJ3VuoEkyJXrb6IrI0OmlalfAAAAAElFTkSuQmCC") 18 18, auto':"SELECT COLOR THRESHOLD"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABeklEQVRYR82W2w7DIAxDQfv/P57GREWqNM3FlAh1j2trDokdqOVlv/oynnICtdZah6u13iC9Z3JDqzoXoM7SuThUX0D736qs9T6qc6kG/4gWnIGhbyyd/lxuWG5MbY/sWiSiVYug+DNEJwRCRBAgVAcF+pRSfjOJlBUaQKGO6iHq9Uhd2HctadT2Ed4eFEhHTRmL/6e19rXERhXMKrM2uTp8Q/AcklBejK1ZhMwzeFJzMcMfsJbnxWkRDjNacuijKYqCMQWkwFTtv2jRlAp5C2dCQRVCFkTeQSoHAQ2PHIes5Zcso8NAHpR2bj01+hSQBkXT3LmOqHcs6/1pIAmF+GJmJMCTmh0n5KPTU5lQSzdGyzsr7YNujJ5Bs6HC+xCSlkyoEAg1ZBYUChTe9LLSl35jXK3ULWXCM/BNjydrBSqMPW8F6qeV9kGDkRaQwzEaiI8qFYmuPkehqPqPzrJZyAiKW2ELkOcp6cttQBqUFpKtQEhitwMxKHXtP/Eo9zDGipjdAAAAAElFTkSuQmCC") 7 7, auto':"SELECT PATH"===a?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAA/klEQVRYR+XX7Q6FIAgG4Lz/i/bMlo2ZIB++zO30t1xPgEjlOuwqh3mu/wPVWuuYhVIKGwhohBpm9u5m5FAwEIfp0eJQENAM0zNHIzZDbQdxmJ4ieh8O0tRMGkiqGbrRUlK2KmCu+UJSthPT4KGi3o0JgRAYNwiFcYGQGDMIjTGBMjBqUBbGBLof5seYT++TRgxpSjX1oT5srWBejCpCBPHiJVgEswSNJ3MPNR0laCqjGBOI5p0MW3fUZlH0/s2INbTaXSPMi6DrwiDpD8IDdIN21MsM7AKhMK6iRmLMIDTGBMrAqEFZGBXo6cSmM8+z3d9TILIYsTbty7X440A/uhPvJTjQhwcAAAAASUVORK5CYII=") 8 33, auto':"SELECT PIXEL"===a?"ADD"===r||"REPLACE"===r?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABBElEQVRYR+3XyxLCIAwF0PL/H43DIk7EvG5KoOPoGuVwk1jarod92sM8lwnqvXcObq2VH8AFkWHYfgbEk/YOVZ7QwPBKe0mXgmYM9aOFeoPmBqYv8x6SJlIrgYbxUB8gdIi8+DOo5SBKmpKzUNKBlpaMb843Q3ppWVNLm1oordxLQNGy0LrQlEkTpJWAr/Uad6wVklKDuJVQBOON+RyEC9IerghmTsm6YaSe3lWYAYVBlRgYVI2BQDswYdAuTAi0E+OCdmNM0AmMCjqFEUEnMbdB3o0x8xL69U8dTagCk06oCpMCVWJgUDVGBWnN6L0GZ5oYuqCt2AD9Dfg+hG6Arv+DvMReyBw3NCzTf+YAAAAASUVORK5CYII=") 5 32, auto':"REMOVE"===r?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAA9klEQVRYR+3XQRKDMAgFUHP/Q6eTBR2MgQ8I0YXdmpHnh2jajpf92ss8xwdCHdmSUO+9E6S1ptYsBw0MNwybhioFzRhKSUP9QTxW1Gd+XXpaCYNQJxBo78WJ4o+g0kGUNCWnoVYPlNoyXpwX88xS2lCvimooqd0pIGtbaJ1pl3l2Fl+LBnesXSQlBnErIQsGbfM5iDDIg5lT0roRAlVhBtQNqsS4QdUYF2gHxgzahTGBdmIgaDdGBT2BEUFPYZagJzG3QejEGPlgX97U1oQqMOGEqjAhUCXGDarGiCBpGNHf4MgQpx3QMoqv7uE+D1VB6L4fCCX8A+VV8SWc4ctzAAAAAElFTkSuQmCC") 5 32, auto':"REPLACE"===r&&(i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABNUlEQVRYR+3X4Q6EIAgAYLn3f+a42aIZgYCFddv165aXfiKYQXnZBS/zlN8AISICwKeUgiyCgIgLAKRN5NTxhimIWBiKMNTmRtU+aWLWZA6dEoYeblAVUSOzB2xrM1FKn+pzvGGPQouqvwWMtKSHFeYYNlERJd08odpRhKUUC1XDWCgtdCLKi2kGrcWh7izSst8OogSm5O1FygsaXrJ28HawSC7dltTSoD2UVqW3lL13Wdge56uy6MZoVVPNaCFS7n1orQjvq8ODscqcl6C502o1G8HwKPVOGEOgLMz6RoiehzIxYVA2JgSagXGDZmFcoJkYEzQb0wU9gVFBT2FE0JOYyyDvQT+y+aqfQVYnGZjhCGVhhkCZmDAoG6OCtPyxPoOtvPO0h48fnk6v/OcPsqL3ugh9ATjCXTQqEhJmAAAAAElFTkSuQmCC") 18 18, auto'):"SELECT PIXEL PERFECT"===a?"ADD"===r?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABFUlEQVRYR+3XWQ7DIAwE0HD/QxNRycil3oZigqrmm4jHmLVch33lMM9lgmqtlYNLKekDcEFkaLafAfGkvUGlJ9QwvNJe0qmgEUPz0UJ10DiB6Wc+h6QVqZVAw3ioNxC6iLz4Z1DLQZQ0JWehpAEtLRnvnHeGzKVlk1rq1EJp5V4CipaF2oVWmbSCtBLwtkYyvZmQlBrEVwlZZUI3xL7NWKe9dbgimNaHt0WEQBo2C9P6g68TmRgYlI2BQDswYdAuTAi0E+OCdmNM0BMYFfQURgQ9iQmBaMv3rherHpwfO7V0wu/CuAnRw3W8a0cPypnUzISUO1LqCxYCZSajXj+099mrvug7aaJm8PVjog/olz/Ii+u4hG5e9580PRb9NQAAAABJRU5ErkJggg==") 5 32, auto':"REMOVE"===r?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABBklEQVRYR+3Xyw6EMAgFUPn/j+6kCwwqj14t1Emc7TRyvFSqtL3sRy/zbB8o6khJQq21xhAicmumgzpGGrrNQ6WCzhhOyUPtIBlr1Gf5v3W3FiZCHUBBey/OKP47qOkgTpqT81DaDU1tmSwuiyF7adqm1op6KKvdU0CjbeF1Q08Z8mTJtU4y+zIlKTOIRwl5bUIH4j7JE5KhaD95NW8lhCTTi0fz6jBo0YQyMd0CJZSNgUAVmGFQFWYIVIkJQdUYF7QCY4JWYVTQSswQiKfsk+MAGb6Xwai9ZFVhwoT4c+r8ro2cTUg6IUi7WCYGBmVjTJAVc/QZjLZHWw+d9jMKRtf4QH+X0A98MFk0IsucOwAAAABJRU5ErkJggg==") 5 32, auto':"REPLACE"===r&&(i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABUklEQVRYR9WX7RKEIAhFZd//mZcdG2mIQMDS2v3VbAbHi3wI5WU/eBlP+Q8gREQA+JRSUCgIiPgFgGkbORluMAURi4AiGHoXhqo2aWPeZg5GCYY+ZlAVoiqzC9beuVCGTfM7+WJXgUPVZwVGC+khwhJGbFSF0v48QXEvSijVRLVgPChLOhUqCsOc1uQwK4sW9tuB6ADT4e0pFQUaDhl3zp1lztJth1pz2oOysvSWtI+GRdS4WJZlC2NHGbVmtfXhOrQZibaOXpiyBXGv5KPdPgPTNlmLq1vZ3QUa8CyYrSNkFZoJkwaaDZMCWgETBloFEwJaCeMCrYbpAj0BYwI9BaMCPQkTAqIxwRsvsgXWWm9eg3j/WQXjKkTXKdkTo1egEdW6ChmNNdS1R2BchaTRmcqY8xC/9kqgyDwzqszlAe2q43CWzXIUtZse0KKGR9e9DugHz47FNAGTbH0AAAAASUVORK5CYII=") 5 32, auto'):a.includes("SELECT")&&("ADD"===r?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAkElEQVRYR+2XQQqAMAwEm/8/OpKDUApmUwoScbwmpdNpXNRGs8ea8QyA1I1g6H+G3N3nU5vZ0RgcLQ6QALoZgg2gdSgxpF5TDGEoM7CG3lPvnEPKaNSzrEqDcR7YykaVHhWe3wOqnPq1K6vAkEPKEoYwpAyoOjNUMdTqI18B79aP/zp2N1T9AGFIGVD1djN0AfXGlCWHImsNAAAAAElFTkSuQmCC") 18 18, auto':"REMOVE"===r?i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAb0lEQVRYR+2UQQrAIBDEdv7/6C0+oAYWClriNbiOcTB12MphecpA9CIa0hAZIG6HNEQGiNshDZEB4tsOdXfTgAlP8nouBtrsnWSpdcd/BRppgE1jQ1+EoZl+jBoiA8TtkIbIAHE7pCEyQNwOXWfoAYpLFiWYvOCxAAAAAElFTkSuQmCC") 18 18, auto':"REPLACE"===r&&(i='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABCElEQVRYR+2X3Q6DMAiFwb3/I8+zYFbj5ixwmixsqTdeWNqPw09RpdijxXhkAnkRmQr9p0IAoKo3EVk9Dy++LwDuquqmiLvgCbMCWEgoBbCq2sv86kN1gRqMiCzmOQBJQjVlmnDNsctzPYWad3skElCUrQdkIMzGjM3mdAQoC0XDZICiUEMwWSAPymrAqonJt90mGrJje3mvnK36NtpBGEahBnYKzZE4UYmnPsoo1IUagRlR6GM+kc3zRSVWoVIhK5XUvT7z9bKPNL3Imu4EE82hzEGZtVTZMwcwNqHLld6YnBL6t33FAc3uKZs7a4ywLeNKDfnkXwZtFi17+oCs4QTyFJsK/ZxCD73aLDSws54nAAAAAElFTkSuQmCC") 18 18, auto')):i="grab",i},this._set_moves=(e,t,_=null)=>{var a=Date.now(),r=this.state,o=r.scale_move_x,i=r.scale_move_y,s=r._scale_move_speed_timestamp,r=r.scale,s=a-s,o=o-e,i=i-t,i=Math.sqrt(o*o+i*i),i=Math.min(Math.round(i/s*200),200);let n=this.state._moves_speeds;n.push(i),15<=n.length&&n.shift();s=[...n].slice(-15).reduce((e,t,_,a)=>e+t/a.length,0),s=Math.max(1,Math.round(Math.floor(24*s/200))),i=Date.now();this.setState({scale:null===_?r:_,scale_move_x:e,scale_move_y:t,_scale_move_speed_timestamp:i,_moves_speeds:[...n],_moves_speed_average_now:null!==_&&r<_?24:null!==_&&_<r?0:s},()=>{this.props.on_elevation_change&&this.props.on_elevation_change(this.state._moves_speed_average_now),this.state.has_shown_canvas_once&&this._request_force_update(!0,!0)})},this._request_force_update=(e=!1,t=!1,_=()=>{})=>{var a=this.state._force_updated_timestamp;const r=Date.now();var o=F._is_mobile_or_tablet?25:75,i=Boolean(a+1e3/o<r),o=Boolean(a+1e3/(o/10)<r);e&&!i&&!o||i2(()=>{this.forceUpdate(()=>{this.setState({_force_updated_timestamp:r}),_()})},Boolean(!e||i),Boolean(!t||i))},this.set_move_speed_average_now=()=>{var e=this.state;let t=e._moves_speed_average_now,_=e._scale_move_speed_timestamp,a=e.shadow_size;const r=Date.now();if(30<=r-_&&-24!==t){const o=Math.max(t-1,-24);this.setState({_moves_speed_average_now:o,_scale_move_speed_timestamp:r},()=>{this.props.on_elevation_change&&this.props.on_elevation_change(this.state._moves_speed_average_now),o!==t&&this.state._scale_move_speed_timestamp===r&&0<a&&this._request_force_update(!0,!0)})}},this._update_canvas_container_size=()=>{var e,t,_,a=this.state._canvas_container?this.state._canvas_container.getBoundingClientRect():null;a?(e=a.width||0,t=a.height||0,_=a.left||0,a=a.top||0,this.setState({_canvas_container_width:e,_canvas_container_height:t,_canvas_container_left:_,_canvas_container_top:a},()=>{this._update_screen_zoom_ratio(!0)})):setTimeout(()=>{this._update_canvas_container_size()},50)},this._update_screen_zoom_ratio=(e,t=()=>{})=>{var _=this.state,a=_._canvas_container_width,r=_._canvas_container_height,o=_.pxl_width,_=_.pxl_height,o=r<a?(r-this.state.canvas_wrapper_padding/window.devicePixelRatio*2)/_:(a-this.state.canvas_wrapper_padding/window.devicePixelRatio*2)/o;this.setState({_screen_zoom_ratio:o},()=>{this._request_force_update(!1,!0,()=>{e&&this._to_canvas_middle(!0,1,t)})})},this.state={_id:Date.now(),className:e.className||null,perspective:e.perspective||0,shadow_size:e.shadow_size||0,shadow_color:e.shadow_color||"#575757",light:e.light||1,perspective_coordinate:[0,0],perspective_coordinate_last_change:0,perspective_coordinate_notify_after_ms:50,perspective_coordinate_last_notify:0,animation:e.animation||!0,animation_duration:e.animation_duration||60,move_using_full_container:e.move_using_full_container,no_actions:e.no_actions||!1,dont_compute_base64_original_image:e.dont_compute_base64_original_image||!1,dont_change_img_size_onload:e.dont_change_img_size_onload||!1,dont_show_canvas_until_img_set:e.dont_show_canvas_until_img_set||!1,show_image_only_before_canvas_set:e.show_image_only_before_canvas_set||!1,dont_show_canvas:e.dont_show_canvas||!1,but_show_canvas_once:e.but_show_canvas_once||!1,has_shown_canvas_once:!1,tool:e.tool||"PENCIL",select_mode:e.select_mode||"REPLACE",pencil_mirror_mode:e.pencil_mirror_mode||"NONE",hue:e.hue||0,pxl_width:32,pxl_height:32,pxl_current_color:e.pxl_current_color||"#00000000",pxl_current_opacity:e.pxl_current_opacity||1,bucket_threshold:e.bucket_threshold||0,color_loss:e.color_loss||.25,default_size:e.default_size||96,ideal_size:e.ideal_size||e.default_size||96,max_size:e.max_size||2*e.default_size||192,px_per_px:e.px_per_px||1,fast_drawing:e.fast_drawing||!1,canvas_cursor:e.canvas_cursor||'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAAAXNSR0IArs4c6QAAAFxJREFUSIntlkEKACEQw6b7/z/Hq7cdqeAcmrtJQRCrDACc824YZ8B3cU/iiSc+M27x7IULDqrq3Z0kdaVdnwA6XqA14Mh3svTXuA246QtzyB8u8cQTHx23cF+4BaK1P/6WF9EdAAAAAElFTkSuQmCC") 15 15, auto',canvas_border_radius:e.canvas_border_radius||0,canvas_wrapper_background_color:e.canvas_wrapper_background_color||"#020529",canvas_wrapper_border_width:e.canvas_wrapper_border_width||0,canvas_wrapper_border_radius:e.canvas_wrapper_border_radius||4,canvas_wrapper_padding:e.canvas_wrapper_padding||72,show_original_image_in_background:void 0===e.show_original_image_in_background||e.show_original_image_in_background,show_transparent_image_in_background:void 0===e.show_transparent_image_in_background||e.show_transparent_image_in_background,hide_canvas_content:e.hide_canvas_content||!1,default_scale:e.default_scale||.9,scale:e.scale||e.default_scale||.9,scale_move_x:0,scale_move_y:0,_scale_move_speed_timestamp:0,_moves_speeds:[],_moves_speed_average_now:-24,mine_player_direction:e.mine_player_direction||"UP",_mine_index:null,_previous_mine_player_index:null,_mine_player_index:null,_pencil_mirror_index:-1,_previous_pencil_mirror_axes_indexes:new Set,_previous_pencil_mirror_axes_hover_indexes:new Set,_is_there_new_dimension:!1,_was_canvas_content_hidden:!1,_base64_original_images:[],_original_image_index:-1,_old_layers:[{id:Date.now(),name:"Layer 0",hidden:!1,opacity:1}],_layers:[{id:Date.now(),name:"Layer 0",hidden:!1,opacity:1}],_layer_index:0,_s_pxl_colors:[Uint32Array.of(0)],_old_pxl_colors:Uint32Array.of(0),_s_pxls:[new Uint16Array((e.pxl_width||32)*(e.pxl_height||32)).fill(0)],_old_pxls:new Uint16Array((e.pxl_width||32)*(e.pxl_height||32)).fill(0),_json_state_history:{previous_history_position:0,history_position:0,state_history:[]},_saved_json_state_history_timestamp_from_drawing:0,_old_pxl_width:0,_old_pxl_height:0,_pxls_hovered:-1,_old_pxls_hovered:-1,_canvas:null,_canvas_container:null,_canvas_wrapper:null,_canvas_wrapper_overflow:null,_mouse_down:!1,_state_history_length:51,_last_action_timestamp:Date.now(),_last_paint_timestamp:Date.now(),_lazy_lazy_compute_time_ms:1e4,_undo_buffer_time_ms:F._is_mobile_or_tablet?5e3:2500,_mouse_inside:!1,_paint_hover_old_pxls_snapshot:new Array((e.pxl_width||32)*(e.pxl_height||32)).fill(0),_select_hover_old_pxls_snapshot:[],_paint_or_select_hover_actions_latest_index:-1,_paint_or_select_hover_pxl_indexes:new Set,_shape_index_a:-1,_select_shape_index_a:-1,_shape_index_b:-1,_select_shape_index_b:-1,_pxl_indexes_of_old_shape:new Set,_pxl_indexes_of_selection:new Set,_previous_pxl_indexes_of_selection:new Set,_pxl_indexes_of_selection_drawn:new Set,_imported_image_previous_start_x:0,_imported_image_previous_start_y:0,_imported_image_start_x:0,_imported_image_start_y:0,_imported_image_pxls:[],_imported_image_width:0,_imported_image_height:0,_imported_image_scale_delta_x:0,_imported_image_scale_delta_y:0,_imported_image_previous_scale_delta_x:0,_imported_image_previous_scale_delta_y:0,_is_on_resize_element:!1,_imported_image_pxl_colors:[],_is_image_import_mode:!1,_previous_imported_image_pxls_positioned_keyset:new Set,_previous_image_imported_resizer_index:-1,_pxls_explosion:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,3,0,0,0,2,0,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,2,1,2,1,0,1,0,0,0,0,0,0,0,1,2,3,1,1,0,0,0,1,0,0,0,0,1,1,3,2,0,0,1,2,3,1,1,0,0,0,0,1,0,2,2,1,0,1,2,0,1,0,0,0,0,0,0,1,1,0,1,2,0,2,0,0,0,0,0,0,0,0,0,0,1,1,3,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,1,2,1,2,2,0,0,0,0,0,0,0,0,0,1,2,0,1,3,2,1,1,0,0,0,0,0,0,0,1,3,3,4,3,3,2,0,1,0,0,0,0,0,1,1,2,3,3,1,1,4,1,1,1,1,0,0,1,0,2,3,3,1,3,1,3,3,2,0,1,0,0,1,1,2,2,3,3,4,3,3,3,2,1,0,0,0,0,0,1,3,2,2,2,3,3,2,2,0,0,0,0,0,0,0,3,3,1,1,2,3,3,1,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,1,1,0,0,0,0,0,0,0,0,1,2,2,3,4,2,1,0,0,0,0,0,1,1,1,1,3,3,3,4,4,3,1,1,0,0,0,1,1,2,2,4,4,3,4,3,3,3,1,0,0,0,1,2,3,3,4,3,3,3,4,4,3,1,1,0,1,2,2,3,3,3,3,3,4,4,2,1,2,1,1,1,2,3,3,4,5,4,3,4,2,3,3,2,1,1,1,2,3,4,4,5,5,3,3,2,3,4,2,1,1,0,1,2,4,4,3,2,3,4,3,4,5,4,1,0,0,0,0,1,2,3,2,3,4,4,4,4,3,1,0,0,0,0,1,1,1,1,4,5,3,1,2,3,1,0,0,0,0,0,1,2,3,2,3,2,1,1,1,1,0,0,0,0,0,1,1,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,1,1,0,0,0,0,0,0,0,0,1,2,2,3,4,2,1,0,0,0,0,0,1,1,1,1,3,3,3,4,4,3,1,1,0,0,0,1,1,2,2,4,4,3,4,3,3,3,1,0,0,0,1,2,3,3,4,3,3,3,4,4,3,1,1,0,1,2,2,3,3,3,3,3,4,4,2,1,2,1,1,1,2,3,3,4,5,4,3,4,2,3,3,2,1,1,1,2,3,4,4,5,5,3,3,2,3,4,2,1,1,0,1,2,4,4,3,2,3,4,3,4,5,4,1,0,0,0,0,1,2,3,2,3,4,4,4,4,3,1,0,0,0,0,1,1,1,1,4,5,3,1,2,3,1,0,0,0,0,0,1,2,3,2,3,2,1,1,1,1,0,0,0,0,0,1,1,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,1,1,1,0,2,1,1,1,0,0,0,0,1,1,0,1,3,0,2,2,2,3,1,0,1,1,0,1,3,0,2,2,2,2,0,2,2,2,2,3,1,0,0,2,2,2,0,0,0,0,2,2,0,0,2,2,0,0,2,1,1,0,0,0,0,0,0,0,0,2,0,0,2,0,1,4,0,0,0,0,0,0,0,0,2,1,1,2,2,2,0,0,0,0,0,0,0,0,0,2,3,1,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,2,0,0,0,0,0,0,5,1,0,0,0,0,1,3,2,0,0,0,0,0,0,1,1,0,2,2,0,1,1,2,2,0,0,0,0,0,0,0,0,2,2,0,0,2,0,2,0,0,0,0,0,0,0,2,2,3,1,0,2,2,2,0,0,2,2,2,2,2,2,0,1,1,0,0,2,1,3,2,0,2,2,2,3,1,2,0,0,2,0,0,1,1,0,2,2,0,0,1,1,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,0,1,2,0,0,0,0,2,1,0,1,1,0,1,2,0,0,0,0,0,0,0,0,0,0,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1,0,0,0,0,1,2,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,2,0,0,0,0,0,2,1,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,0,0,0],[0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0]],_pxl_colors_explosion:[["#00000000","#ff0000ff","#ff3a00ff","#ff8200ff"],["#00000000","#ff0000ff","#ff3a00ff","#ff8200ff"],["#00000000","#ff0000ff","#ff3a00ff","#ff8200ff","#ffc900ff"],["#00000000","#ff0000ff","#ff3a00ff","#ff8200ff","#ffc900ff","#ffe900ff"],["#00000000","#8a0000ff","#1a1a1aff","#ff0000ff","#808080ff","#ff8200ff","#ff3a00ff"],["#00000000","#8a0000ff","#1a1a1aff","#ff0000ff","#ff8200ff","#ff3a00ff"],["#00000000","#8a0000ff","#ff0000ff","#ff8200ff","#ff3a0099"],["#00000000","#8a000066"]],_explosion_started_timestamp:0,_explosion_width:15,_explosion_height:15,_previous_explosion_pxls_positioned_keyset:new Set,_explosion_time:750,_explosion_index:-1,_selection_pair_highlight:!0,_old_selection_pair_highlight:!0,_pointer_events:[],_latest_pointers_distance:0,_latest_pointers_client_x_center:0,_latest_pointers_client_y_center:0,_previous_single_pointer_down_timestamp:0,_previous_double_pointer_down_timestamp:0,_previous_double_pointer_move_timestamp:0,_previous_single_pointer_down_x_y:[-1,-1],_image_move_from:[-1,-1],_canvas_container_width:0,_canvas_container_height:0,_canvas_container_left:0,_canvas_container_top:0,_updated_at:Date.now(),_screen_zoom_ratio:1,_notified_position_at:0,_event_button:-1,_force_updated_timestamp:0,_canvas_event_target:"CANVAS_WRAPPER_OVERFLOW",_loading_base64_img:"",_loading_base64_img_changed:0,_hidden:!0,_intervals:[],_kb:0,_device_motion:!1,export_state_every_ms:e.export_state_every_ms||6e4,_xxHash32js:null,_xxHashWasm:null,_last_filters_hash:""}}componentDidMount(){try{(0,a.default)().then(e=>{this.setState({_xxHashWasm:e},()=>{this.state._xxHashWasm.h32([1.618,3.14,666])})})}catch(e){this.setState({_xxHash32js:_.xxHash32,_xxHashWasm:null})}this._notify_size_change(),window.addEventListener("resize",this._updated_dimensions),this._updated_dimensions(),F._is_mobile_or_tablet&&!0===this.state._device_motion&&window.addEventListener("devicemotion",this._handle_motion_changes);let e=[];e[0]=setInterval(this._maybe_save_state,parseInt(1.05*this.state._undo_buffer_time_ms)),F._is_mobile_or_tablet||(e[1]=setInterval(this._notify_fps,1500)),e[2]=setInterval(this._maybe_update_mine_player,1e3/30),e[3]=setInterval(this._maybe_update_selection_highlight,F._is_mobile_or_tablet?2500:1250),F._is_mobile_or_tablet||(e[4]=setInterval(this.set_move_speed_average_now,31)),e[5]=setInterval(this._notify_export_state,this.state.export_state_every_ms),e[6]=window._fps_interval,e[7]=setInterval(this._update_canvas,parseInt(+this.state._undo_buffer_time_ms));const t=document.createElement("style");t.innerHTML="body {touch-action:none;}.Canvas-Pixels, .Canvas-Wrapper-Overflow, .Canvas-Wrapper, .Canvas-Pixels-Cover {image-rendering: optimizeSpeed;image-rendering: optimizespeed;image-rendering: -moz-crisp-edges;image-rendering: -webkit-optimize-contrast;image-rendering: optimizequality;image-rendering: optimize-contrast;image-rendering: -o-pixelated;image-rendering: crisp-edges;image-rendering: pixelated;touch-action: none;pointer-events: none;backface-visibility: hidden;mix-blend-mode: normal;background-blend-mode: normal;transition: none;}"+`.Canvas-Wrapper-Overflow.Shown {
                animation-name: canvanimation;
                animation-fill-mode: both;
                animation-duration: 240ms;
                animation-delay: 0ms;
                animation-timing-function: linear;
                opacity: 1 !important,
            }
            .Canvas-Wrapper-Overflow {
                opacity: 0 !important,
                transform-origin: center center !important;
            }
            @keyframes canvanimation { 
                  0% { transform: matrix3d(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); opacity: .0; }
                  4.3% { transform: matrix3d(0.271, 0, 0, 0, 0, 0.271, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); opacity: .2; }
                  8.61% { transform: matrix3d(.818, 0, 0, 0, 0, .818, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); opacity: .8; }
                  12.91% { transform: matrix3d(1.078, 0, 0, 0, 0, 1.078, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); opacity: .9; }
                  17.22% { transform: matrix3d(1.11, 0, 0, 0, 0, 1.11, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); opacity: 1; }
                  28.33% { transform: matrix3d(1.031, 0, 0, 0, 0, 1.031, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); opacity: 1; }
                  39.44% { transform: matrix3d(.991, 0, 0, 0, 0, .991, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); opacity: 1; }
                  61.66% { transform: matrix3d(1.001, 0, 0, 0, 0, 1.001, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); opacity: 1; }
                  83.98% { transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); opacity: 1; }
                  100% { transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); opacity: 1; } 
            }`+".Canvas-Pixels-Cover::after {"+`top: 0;
                left: 0;
                width: calc(60% - 12px);
                content: ""attr(datatexttop)"";
                padding: 0px 0px 8px 12px;
                position: fixed;
                transform: translate(0px, -100%);
                line-height: 20px;
                font-size: 14px;
                font-family: "Jura";
                color: #FAFAFAAA;`+"}.Canvas-Pixels-Cover::before {"+`bottom: 0;
                right: 0;
                width: calc(80% - 12px);
                text-align: right;
                content: ""attr(datatextbottom)"";
                padding: 8px 12px 0px 0px;
                position: fixed;
                transform: translate(0px, 100%);
                line-height: 20px;
                font-size: 14px;
                font-family: "Jura";
                color: #FAFAFAAA;`+"}.Canvas-Wrapper.MOVE:not(.Canvas-Focused), .Canvas-Wrapper.PICKER:not(.Canvas-Focused) {cursor: grab;}.Canvas-Wrapper.MOVE:active:not(.Canvas-Focused), .Canvas-Wrapper.PICKER:active:not(.Canvas-Focused) {cursor: grabbing;}",document.head.appendChild(t),this.setState({_intervals:e})}componentWillReceiveProps(e){"MINE"===this.state.tool&&"MINE"!==e.tool&&this.setState({_mine_player_index:null,_mine_index:null}),("NONE"!==this.state.pencil_mirror_mode&&"NONE"===e.pencil_mirror_mode||this.state.tool.includes("PENCIL")&&!e.tool.includes("PENCIL"))&&this.setState({_pencil_mirror_index:-1}),this.state.tool===e.tool||e.tool.includes("SELECT")||this.setState({_pxl_indexes_of_selection:new Set,_pxl_indexes_of_selection_drawn:new Set(this.state._pxl_indexes_of_selection)},()=>{this._request_force_update(),this._notify_is_something_selected()}),this.state.hide_canvas_content!==e.hide_canvas_content||this.state.show_original_image_in_background!==e.show_original_image_in_background||this.state.show_transparent_image_in_background!==e.show_transparent_image_in_background||this.state.pencil_mirror_mode!==e.pencil_mirror_mode||this.state.tool!==e.tool||this.state.select_mode!==e.select_mode?this.setState(e,()=>{this._request_force_update(!1,!1,()=>{this._update_canvas()})}):this.setState(e)}shouldComponentUpdate(){return!1}get_base64_png_data_url(e=1,t=()=>{},_=!1,a=0,r=30,o=35){this._get_base64_png_data_url(e,t,_,a,r,o)}componentWillUnmount(){var e=this.state;const t=e._canvas_wrapper_overflow,_=e._intervals;try{window.removeEventListener("resize",this._updated_dimensions),F._is_mobile_or_tablet&&!0===this.state._device_motion&&window.removeEventListener("devicemotion",this._handle_motion_changes),t.removeEventListener("wheel",this.handle_canvas_wrapper_overflow_wheel),t.removeEventListener("pointerdown",this._handle_canvas_wrapper_overflow_pointer_down),t.removeEventListener("pointermove",this._handle_canvas_wrapper_overflow_pointer_move),t.removeEventListener("pointerup",this._handle_canvas_wrapper_overflow_pointer_up),t.removeEventListener("pointercancel",this._handle_canvas_wrapper_overflow_pointer_up),t.removeEventListener("pointerout",this._handle_canvas_wrapper_overflow_pointer_up),t.removeEventListener("pointerleave",this._handle_canvas_wrapper_overflow_pointer_up)}catch(e){}_.forEach(e=>{clearInterval(e)})}render(){var e=this.state;const t=e.pxl_width,_=e.pxl_height,a=e.show_original_image_in_background,r=e.show_transparent_image_in_background,o=e.className,i=e._base64_original_images,s=e._original_image_index,n=e.scale,l=e.scale_move_x,h=e.scale_move_y,c=e.canvas_wrapper_background_color,p=e.canvas_wrapper_border_radius,d=e.canvas_wrapper_padding,f=e.canvas_wrapper_border_width,g=e._moves_speed_average_now,m=e._is_on_resize_element,A=e._is_image_import_mode,u=e._mouse_down,x=e.tool,v=e.select_mode,w=e._screen_zoom_ratio,y=e._mouse_inside,b=e._canvas_event_target,C=e._loading_base64_img,I=e._hidden,M=e.show_image_only_before_canvas_set,D=e.has_shown_canvas_once,E=e.perspective,U=e.light,S=e.shadow_size,R=e.shadow_color,T=e._kb;var B=this.state.perspective_coordinate,N=F._is_mobile_or_tablet?0:E/4;let L=a&&void 0!==i[s]?{background:`center / cover no-repeat url("${i[s]}")`}:r?{background:`repeating-conic-gradient(rgb(248 248 248 / 100%) 0% 25%, rgb(235 235 235 / 100%) 0% 50%) left top 50% / calc(200% / ${t}) calc(200% / ${_})`}:{};L=a&&C.length?{background:`center / cover no-repeat url("${C}")`}:L,L=M&&!D||!M?L:{};var O=Math.round(t*w*n),k=Math.round(_*w*n),Y=F._is_mobile_or_tablet?0:U*N*2,P=1-N/200*Y+(Y*(3*N-Math.floor(10*(B[0]+N))/(3*N*10))/2+Y*(Math.floor(10*(B[1]+N))/(3*N*10))/2)/(3*N)*(N/100),Q=Math.floor(d/window.devicePixelRatio*n),z=Math.round(B[1]*N/n*1e3)/1e3,j=Math.round(B[0]*N/n*1e3)/1e3,V=g<0?Math.abs(g)/4:g/2,e=this._get_cursor(m,A,u,x,v,b);return W.default.createElement("div",{ref:this._set_canvas_container_ref,draggable:"false",style:{zIndex:11,boxSizing:"border-box",position:"relative",overflow:"visible",touchAction:"none",userSelect:"none",contain:"paint"},className:o},W.default.createElement("div",{ref:this._set_canvas_wrapper_overflow_ref,className:"Canvas-Wrapper-Overflow"+(D&&!I?" Shown ":" Not-Shown "),draggable:"false",style:{height:"100%",width:"100%",contain:"layout style size paint",position:"absolute",boxSizing:"border-box",touchAction:"manipulation",pointerEvents:"auto",userSelect:"none",perspective:Math.round(Math.max(O,k))+"px",zIndex:9}},W.default.createElement("div",{ref:this._set_canvas_wrapper_ref,className:"Canvas-Wrapper "+(y?" Canvas-Focused ":" "+x),draggable:"false",style:{contain:"layout style size paint",left:0,top:0,borderWidth:f,borderStyle:"solid",borderColor:"#fff",backgroundColor:c,margin:0,borderRadius:p,padding:Q,width:Math.floor(O),height:Math.floor(k),filter:`drop-shadow(0 0 ${V*S}px ${R}) opacity(${D&&!I?"1":"0"})`,transform:`translate(${Math.round(100*l)/100}px, ${Math.round(100*h)/100}px) `+(z||j?`rotateX(${z}deg) rotateY(${j}deg)`:""),willChange:"transform",transformOrigin:"center middle",boxSizing:"content-box",touchAction:"none",pointerEvents:"none",userSelect:"none",zIndex:4}},W.default.createElement("canvas",{draggable:"false",style:G({zIndex:2,position:"absolute",contain:"layout style size paint",touchAction:"none",pointerEvents:"none",userSelect:"none",width:Math.floor(t),height:Math.floor(_),transform:`scale(${(w*n).toFixed(3)})`,transformOrigin:"left top",boxSizing:"content-box",borderWidth:0},L),className:"Canvas-Pixels",ref:this._set_canvas_ref,width:Math.floor(t),height:Math.floor(_)}),Boolean(N)&&W.default.createElement("div",{className:"Canvas-Pixels-Cover",datatexttop:`D[${t}, ${_}]px // S[${T.toFixed(2)}]Kb`,datatextbottom:`Z[${w.toFixed(2)}, ${n.toFixed(2)}]x // R[${(B[1]*N/n).toFixed(2)}, ${(B[0]*N/n).toFixed(2)}]`,draggable:"false",style:{backgroundImage:N?`linear-gradient(to left, rgba(
                            ${255-Math.floor((B[0]+N)/(2*N)*255)},
                            ${255-Math.floor((B[0]+N)/(2*N)*255)},
                            ${255-Math.floor((B[0]+N)/(2*N)*255)}, 
                            ${(Math.abs(B[0])/N/6*.3*(N*Y/100)).toFixed(2)}
                            ), rgba(
                            ${255-Math.floor((B[0]+N)/(2*N)*255)},
                            ${255-Math.floor((B[0]+N)/(2*N)*255)},
                            ${255-Math.floor((B[0]+N)/(2*N)*255)}, 
                            ${(Math.abs(B[0])/N/6*3*(N*Y/100)).toFixed(2)}
                            )), linear-gradient(to top, rgba(
                            ${Math.floor((B[1]+N)/(2*N)*255)},
                            ${Math.floor((B[1]+N)/(2*N)*255)},
                            ${Math.floor((B[1]+N)/(2*N)*255)}, 
                            ${(Math.abs(B[1])/N/6*2*(N*Y/100)).toFixed(2)}
                            ), rgba(
                            ${Math.floor((B[1]+N)/(2*N)*255)},
                            ${Math.floor((B[1]+N)/(2*N)*255)},
                            ${Math.floor((B[1]+N)/(2*N)*255)}, 
                            ${(Math.abs(B[1])/N/6*1*(N*Y/100)).toFixed(2)}
                            ))`:"none",zIndex:3,borderRadius:p,padding:0,left:0,top:0,borderWidth:0,position:"absolute",width:Math.ceil(O+d/window.devicePixelRatio*n*2),height:Math.ceil(k+d/window.devicePixelRatio*n*2),boxSizing:"content-box",touchAction:"none",pointerEvents:"none",userSelect:"none",willChange:E&&(z||j)?"filter, background-image":"",filter:Boolean(N)&&`brightness(${P}) contrast(${P})`}})),W.default.createElement("div",{style:{left:0,top:0,position:"absolute",cursor:e,height:"100%",width:"100%",boxSizing:"border-box",touchAction:"none",pointerEvents:"auto",userSelect:"none",contain:"layout size style paint",zIndex:10}}),!F._is_mobile_or_tablet&&W.default.createElement("div",{style:{zIndex:1,color:c,textAlign:"center",position:"absolute",bottom:0,left:0,width:"100%",height:"100px",backgroundImage:'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MzE5IDE4MCIgd2lkdGg9IjU3NTguNjY3IiBoZWlnaHQ9IjI0MCIgeG1sbnM6dj0iaHR0cHM6Ly92ZWN0YS5pby9uYW5vIj48ZGVmcz48Y2xpcFBhdGggaWQ9IkEiPjxwYXRoIGQ9Ik0wIDBoNDMxOXYxODBIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGlwLXBhdGg9InVybCgjQSkiPjxwYXRoIGQ9Ik0wIDFoNnYxNzlIMFYxaDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwem0xNiAwaDZ2MTc5aC02VjFoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE1OCAxMzRoNnY0NWgtNnYtNDVoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwem0xNiAwaDZ2NDVoLTZ2LTQ1aDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE1NSAwaDZ2NDUuNWgtNlYxMzVoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE2IDBoNnY0NS41aC02VjEzNWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE1NiAwaDZ2NDUuNWgtNlYxMzVoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTYgMGg2djQ1LjVoLTZWMTM1aDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwem0xNTgtLjVoNlYxODBoLTZ2LTQ1LjVoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwem0xNiAwaDZWMTgwaC02di00NS41aDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6TTg2NCAxaDZ2MTc5aC02VjFoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE2IDBoNnYxNzloLTZWMWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE1OCAxMzRoNnY0NWgtNnYtNDVoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTYgMGg2djQ1aC02di00NWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTU1IDBoNnY0NS41aC02VjEzNWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE2IDBoNnY0NS41aC02VjEzNWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwem0xNTYgMGg2djQ1LjVoLTZWMTM1aDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwem0xNiAwaDZ2NDUuNWgtNlYxMzVoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwem0xNTgtLjVoNlYxODBoLTZ2LTQ1LjVoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTYgMGg2VjE4MGgtNnYtNDUuNWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHpNMTcyNyAwaDZ2MTc5aC02VjBoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwem0xNiAwaDZ2MTc5aC02VjBoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTU4IDEzNGg2djQ1aC02di00NWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTYgMGg2djQ1aC02di00NWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE1NSAwaDZ2NDUuNWgtNlYxMzRoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTYgMGg2djQ1LjVoLTZWMTM0aDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwem0xNTYgMGg2djQ1LjVoLTZWMTM0aDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTYgMGg2djQ1LjVoLTZWMTM0aDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE1OC0uNWg2VjE3OWgtNnYtNDUuNWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTYgMGg2VjE3OWgtNnYtNDUuNWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6TTI1OTAgMWg2djE3OWgtNlYxaDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE2IDBoNnYxNzloLTZWMWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTU4IDEzNGg2djQ1aC02di00NWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE2IDBoNnY0NWgtNnYtNDVoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTU1IDBoNnY0NS41aC02VjEzNWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTYgMGg2djQ1LjVoLTZWMTM1aDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMHptMTU2IDBoNnY0NS41aC02VjEzNWgwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwem0xNiAwaDZ2NDUuNWgtNlYxMzVoMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE1OC0uNWg2VjE4MGgtNnYtNDUuNWgwIDAgMCAwIDAgMCAwIDAgMCAwIDB6bTE2IDBoNlYxODBoLTZ2LTQ1LjVoMCAwIDAgMCAwIDAgMCAwIDAgMHpNMzQ1NCAxaDZ2MTc5aC02VjFoMCAwIDAgMCAwIDAgMCAwIDB6bTE2IDBoNnYxNzloLTZWMWgwIDAgMCAwIDAgMCAwIDB6bTE1OCAxMzRoNnY0NWgtNnYtNDVoMCAwIDAgMCAwIDAgMHptMTYgMGg2djQ1aC02di00NWgwIDAgMCAwIDAgMHptMTU1IDBoNnY0NS41aC02VjEzNWgwIDAgMCAwIDB6bTE2IDBoNnY0NS41aC02VjEzNWgwIDAgMCAwem0xNTYgMGg2djQ1LjVoLTZWMTM1aDAgMCAwem0xNiAwaDZ2NDUuNWgtNlYxMzVoMCAwem0xNTgtLjVoNlYxODBoLTZ2LTQ1LjVoMHptMTYgMGg2VjE4MGgtNnYtNDUuNXoiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI2ZmZiIvPjwvZz48L3N2Zz4=")',backgroundPosition:"bottom",backgroundRepeat:"repeat-x",backgroundSize:Math.round(n*w*5*5)+"px",pointerEvents:"none",touchAction:"none"}},W.default.createElement("span",null,"[",Math.round(n*w*100)/100,"x]"))))}}r.default=t}.call(this,g(661).Buffer)},967:function(e,_,t){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),function(e){for(var t in e)_.hasOwnProperty(t)||(_[t]=e[t])}(t(968))},968:function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const p=_(969),d=2654435761,f=2246822519,g=3266489917,m=668265263,A=374761393;t.xxHash32=function(t,_=0){const a=t="string"==typeof t?p.default(t):t;let r=_+A&4294967295,o=0;if(16<=a.length){const c=[_+d+f&4294967295,_+f&4294967295,_+0&4294967295,_-d&4294967295],a=t,n=a.length-16;let e=0;for(o=0;(4294967280&o)<=n;o+=4){var i=o,s=a[i+0]+(a[i+1]<<8),i=a[i+2]+(a[i+3]<<8),s=s*f+(i*f<<16),i=c[e]+s&4294967295,s=(i=i<<13|i>>>19)>>>16;c[e]=(65535&i)*d+(s*d<<16)&4294967295,e=e+1&3}r=(c[0]<<1|c[0]>>>31)+(c[1]<<7|c[1]>>>25)+(c[2]<<12|c[2]>>>20)+(c[3]<<18|c[3]>>>14)&4294967295}r=r+t.length&4294967295;let n=t.length-4;for(;o<=n;o+=4){var e=o,l=a[e+0]+(a[e+1]<<8),e=a[e+2]+(a[e+3]<<8),e=l*g+(e*g<<16);r=r+e&4294967295,r=r<<17|r>>>15,r=(65535&r)*m+((r>>>16)*m<<16)&4294967295}for(;o<a.length;++o){var h=a[o];r+=h*A,r=r<<11|r>>>21,r=(65535&r)*d+((r>>>16)*d<<16)&4294967295}return r^=r>>>15,r=((65535&r)*f&4294967295)+((r>>>16)*f<<16),r^=r>>>13,r=((65535&r)*g&4294967295)+((r>>>16)*g<<16),r^=r>>>16,r<0?r+4294967296:r}},969:function(e,t,_){"use strict";function a(_){const a=[];for(let e=0,t=_.length;e<t;++e){var r=_.charCodeAt(e);r<128?a.push(r):r<2048?a.push(192|r>>6,128|63&r):r<55296||57344<=r?a.push(224|r>>12,128|r>>6&63,128|63&r):(r=65536+((1023&r)<<10|1023&_.charCodeAt(++e)),a.push(240|r>>18&7,128|r>>12&63,128|r>>6&63,128|63&r))}return new Uint8Array(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8_1=function(e){var t=[],_=new Array(4),a=[0,192,224,240],r=[127,63,63,63],o=[0,128,128,128];for(const h of e){const c=_;var i=h.codePointAt(0),s=0-(-(4294967168&i)>>31)-(-(4294965248&i)>>31)-(-(4294901760&i)>>31),n=r[s],l=o[s];c[3]=l|i&n,c[2]=l|i>>>6&n,c[1]=l|i>>>12&n,c[0]=l|i>>>18&n;n=3-s;c[n]|=a[s],Array.prototype.push.apply(t,c.slice(n))}return new Uint8Array(t)},t.toUtf8_2=function(e){const t=[];for(const a of e){var _=a.codePointAt(0);_<128?t.push(_):_<2048?t.push(192|_>>6&31,128|63&_):_<65536?t.push(224|_>>12&15,128|_>>6&63,128|63&_):t.push(240|_>>18&7,128|_>>12&63,128|_>>6&63,128|63&_)}return new Uint8Array(t)},t.toUtf8_3=a,t.toUtf8=a,t.default=t.toUtf8},970:function(e,t,_){"use strict";_.r(t),_.d(t,"default",function(){return a});const x=new Uint8Array([0,97,115,109,1,0,0,0,1,48,8,96,3,127,127,127,0,96,3,127,127,127,1,127,96,2,127,127,0,96,2,127,126,0,96,1,127,1,127,96,1,127,1,126,96,3,127,127,126,1,126,96,3,126,127,127,1,126,3,11,10,1,1,2,0,4,6,7,3,0,5,5,3,1,0,1,7,85,9,3,109,101,109,2,0,5,120,120,104,51,50,0,0,6,105,110,105,116,51,50,0,2,8,117,112,100,97,116,101,51,50,0,3,8,100,105,103,101,115,116,51,50,0,4,5,120,120,104,54,52,0,5,6,105,110,105,116,54,52,0,7,8,117,112,100,97,116,101,54,52,0,8,8,100,105,103,101,115,116,54,52,0,9,10,211,23,10,242,1,1,4,127,32,0,32,1,106,33,3,32,1,65,16,79,4,127,32,3,65,16,107,33,6,32,2,65,168,136,141,161,2,106,33,3,32,2,65,247,148,175,175,120,106,33,4,32,2,65,177,243,221,241,121,107,33,5,3,64,32,0,40,2,0,65,247,148,175,175,120,108,32,3,106,65,13,119,65,177,243,221,241,121,108,33,3,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,32,4,106,65,13,119,65,177,243,221,241,121,108,33,4,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,32,2,106,65,13,119,65,177,243,221,241,121,108,33,2,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,32,5,106,65,13,119,65,177,243,221,241,121,108,33,5,32,0,65,4,106,34,0,32,6,77,13,0,11,32,2,65,12,119,32,5,65,18,119,106,32,4,65,7,119,106,32,3,65,1,119,106,5,32,2,65,177,207,217,178,1,106,11,32,1,106,32,0,32,1,65,15,113,16,1,11,146,1,0,32,1,32,2,106,33,2,3,64,32,1,65,4,106,32,2,75,69,4,64,32,1,40,2,0,65,189,220,202,149,124,108,32,0,106,65,17,119,65,175,214,211,190,2,108,33,0,32,1,65,4,106,33,1,12,1,11,11,3,64,32,1,32,2,79,69,4,64,32,1,45,0,0,65,177,207,217,178,1,108,32,0,106,65,11,119,65,177,243,221,241,121,108,33,0,32,1,65,1,106,33,1,12,1,11,11,32,0,65,15,118,32,0,115,65,247,148,175,175,120,108,34,0,32,0,65,13,118,115,65,189,220,202,149,124,108,34,0,32,0,65,16,118,115,11,63,0,32,0,65,8,106,32,1,65,168,136,141,161,2,106,54,2,0,32,0,65,12,106,32,1,65,247,148,175,175,120,106,54,2,0,32,0,65,16,106,32,1,54,2,0,32,0,65,20,106,32,1,65,177,243,221,241,121,107,54,2,0,11,211,4,1,6,127,32,1,32,2,106,33,6,32,0,65,24,106,33,5,32,0,65,40,106,40,2,0,33,3,32,0,32,0,40,2,0,32,2,106,54,2,0,32,0,65,4,106,34,4,32,4,40,2,0,32,2,65,16,79,32,0,40,2,0,65,16,79,114,114,54,2,0,32,2,32,3,106,65,16,73,4,64,32,3,32,5,106,32,1,32,2,252,10,0,0,32,0,65,40,106,32,2,32,3,106,54,2,0,15,11,32,3,4,64,32,3,32,5,106,32,1,65,16,32,3,107,34,2,252,10,0,0,32,0,65,8,106,34,3,40,2,0,32,5,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,4,32,3,32,4,54,2,0,32,0,65,12,106,34,3,40,2,0,32,5,65,4,106,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,4,32,3,32,4,54,2,0,32,0,65,16,106,34,3,40,2,0,32,5,65,8,106,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,4,32,3,32,4,54,2,0,32,0,65,20,106,34,3,40,2,0,32,5,65,12,106,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,4,32,3,32,4,54,2,0,32,0,65,40,106,65,0,54,2,0,32,1,32,2,106,33,1,11,32,1,32,6,65,16,107,77,4,64,32,6,65,16,107,33,8,32,0,65,8,106,40,2,0,33,2,32,0,65,12,106,40,2,0,33,3,32,0,65,16,106,40,2,0,33,4,32,0,65,20,106,40,2,0,33,7,3,64,32,1,40,2,0,65,247,148,175,175,120,108,32,2,106,65,13,119,65,177,243,221,241,121,108,33,2,32,1,65,4,106,34,1,40,2,0,65,247,148,175,175,120,108,32,3,106,65,13,119,65,177,243,221,241,121,108,33,3,32,1,65,4,106,34,1,40,2,0,65,247,148,175,175,120,108,32,4,106,65,13,119,65,177,243,221,241,121,108,33,4,32,1,65,4,106,34,1,40,2,0,65,247,148,175,175,120,108,32,7,106,65,13,119,65,177,243,221,241,121,108,33,7,32,1,65,4,106,34,1,32,8,77,13,0,11,32,0,65,8,106,32,2,54,2,0,32,0,65,12,106,32,3,54,2,0,32,0,65,16,106,32,4,54,2,0,32,0,65,20,106,32,7,54,2,0,11,32,1,32,6,73,4,64,32,5,32,1,32,6,32,1,107,34,1,252,10,0,0,32,0,65,40,106,32,1,54,2,0,11,11,97,1,1,127,32,0,65,16,106,40,2,0,33,1,32,0,65,4,106,40,2,0,4,127,32,1,65,12,119,32,0,65,20,106,40,2,0,65,18,119,106,32,0,65,12,106,40,2,0,65,7,119,106,32,0,65,8,106,40,2,0,65,1,119,106,5,32,1,65,177,207,217,178,1,106,11,32,0,40,2,0,106,32,0,65,24,106,32,0,65,40,106,40,2,0,16,1,11,157,4,2,1,127,3,126,32,0,32,1,106,33,3,32,1,65,32,79,4,126,32,3,65,32,107,33,3,32,2,66,135,149,175,175,152,182,222,155,158,127,124,66,207,214,211,190,210,199,171,217,66,124,33,4,32,2,66,207,214,211,190,210,199,171,217,66,124,33,5,32,2,66,0,124,33,6,32,2,66,135,149,175,175,152,182,222,155,158,127,125,33,2,3,64,32,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,4,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,4,32,0,65,8,106,34,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,5,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,5,32,0,65,8,106,34,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,6,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,0,65,8,106,34,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,2,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,2,32,0,65,8,106,34,0,32,3,77,13,0,11,32,6,66,12,137,32,2,66,18,137,124,32,5,66,7,137,124,32,4,66,1,137,124,32,4,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,5,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,6,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,2,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,5,32,2,66,197,207,217,178,241,229,186,234,39,124,11,32,1,173,124,32,0,32,1,65,31,113,16,6,11,137,2,0,32,1,32,2,106,33,2,3,64,32,1,65,8,106,32,2,77,4,64,32,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,32,0,133,66,27,137,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,33,0,32,1,65,8,106,33,1,12,1,11,11,32,1,65,4,106,32,2,77,4,64,32,1,53,2,0,66,135,149,175,175,152,182,222,155,158,127,126,32,0,133,66,23,137,66,207,214,211,190,210,199,171,217,66,126,66,249,243,221,241,153,246,153,171,22,124,33,0,32,1,65,4,106,33,1,11,3,64,32,1,32,2,73,4,64,32,1,49,0,0,66,197,207,217,178,241,229,186,234,39,126,32,0,133,66,11,137,66,135,149,175,175,152,182,222,155,158,127,126,33,0,32,1,65,1,106,33,1,12,1,11,11,32,0,66,33,136,32,0,133,66,207,214,211,190,210,199,171,217,66,126,34,0,32,0,66,29,136,133,66,249,243,221,241,153,246,153,171,22,126,34,0,32,0,66,32,136,133,11,88,0,32,0,65,8,106,32,1,66,135,149,175,175,152,182,222,155,158,127,124,66,207,214,211,190,210,199,171,217,66,124,55,3,0,32,0,65,16,106,32,1,66,207,214,211,190,210,199,171,217,66,124,55,3,0,32,0,65,24,106,32,1,55,3,0,32,0,65,32,106,32,1,66,135,149,175,175,152,182,222,155,158,127,125,55,3,0,11,132,5,2,3,127,4,126,32,1,32,2,106,33,5,32,0,65,40,106,33,4,32,0,65,200,0,106,40,2,0,33,3,32,0,32,0,41,3,0,32,2,173,124,55,3,0,32,2,32,3,106,65,32,73,4,64,32,3,32,4,106,32,1,32,2,252,10,0,0,32,0,65,200,0,106,32,2,32,3,106,54,2,0,15,11,32,3,4,64,32,3,32,4,106,32,1,65,32,32,3,107,34,2,252,10,0,0,32,0,65,8,106,34,3,41,3,0,32,4,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,3,32,6,55,3,0,32,0,65,16,106,34,3,41,3,0,32,4,65,8,106,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,3,32,6,55,3,0,32,0,65,24,106,34,3,41,3,0,32,4,65,16,106,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,3,32,6,55,3,0,32,0,65,32,106,34,3,41,3,0,32,4,65,24,106,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,3,32,6,55,3,0,32,0,65,200,0,106,65,0,54,2,0,32,1,32,2,106,33,1,11,32,1,65,32,106,32,5,77,4,64,32,5,65,32,107,33,2,32,0,65,8,106,41,3,0,33,6,32,0,65,16,106,41,3,0,33,7,32,0,65,24,106,41,3,0,33,8,32,0,65,32,106,41,3,0,33,9,3,64,32,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,6,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,1,65,8,106,34,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,7,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,7,32,1,65,8,106,34,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,8,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,8,32,1,65,8,106,34,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,32,9,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,9,32,1,65,8,106,34,1,32,2,77,13,0,11,32,0,65,8,106,32,6,55,3,0,32,0,65,16,106,32,7,55,3,0,32,0,65,24,106,32,8,55,3,0,32,0,65,32,106,32,9,55,3,0,11,32,1,32,5,73,4,64,32,4,32,1,32,5,32,1,107,34,1,252,10,0,0,32,0,65,200,0,106,32,1,54,2,0,11,11,200,2,1,5,126,32,0,65,24,106,41,3,0,33,1,32,0,41,3,0,34,2,66,32,90,4,126,32,0,65,8,106,41,3,0,34,3,66,1,137,32,0,65,16,106,41,3,0,34,4,66,7,137,124,32,1,66,12,137,32,0,65,32,106,41,3,0,34,5,66,18,137,124,124,32,3,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,4,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,1,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,32,5,66,207,214,211,190,210,199,171,217,66,126,66,0,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,227,220,202,149,252,206,242,245,133,127,124,5,32,1,66,197,207,217,178,241,229,186,234,39,124,11,32,2,124,32,0,65,40,106,32,2,66,31,131,167,16,6,11]);async function a(){const{mem:_,xxh32:a,xxh64:r,init32:e,update32:t,digest32:o,init64:i,update64:s,digest64:n}=(await WebAssembly.instantiate(x)).instance.exports;let l=new Uint8Array(_.buffer);function h(e,t){_.buffer.byteLength<e+t&&(t=Math.ceil((e+t-_.buffer.byteLength)/65536),_.grow(t),l=new Uint8Array(_.buffer))}function c(t,e,_,a,r,o){h(t);const i=new Uint8Array(t);return l.set(i),_(0,e),i.set(l.slice(0,t)),{update(e){return l.set(i),e="string"==typeof e?(h(3*e.length,t),g.encodeInto(e,l.subarray(t)).written):(h(e.byteLength,t),l.set(e,t),e.byteLength),a(0,t,e),i.set(l.slice(0,t)),this},digest:()=>(l.set(i),o(r(0)))}}function p(e){return e>>>0}const d=2n**64n-1n;function f(e){return e&d}const g=new TextEncoder,m=0n;function A(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return h(3*e.length,0),a(0,g.encodeInto(e,l).written,t)>>>0}function u(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:m;return h(3*e.length,0),f(r(0,g.encodeInto(e,l).written,t))}return{h32:A,h32ToString(e){return A(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0).toString(16).padStart(8,"0")},h32Raw(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return h(e.byteLength,0),l.set(e),a(0,e.byteLength,t)>>>0},create32(){return c(48,0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e,t,o,p)},h64:u,h64ToString(e){return u(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:m).toString(16).padStart(16,"0")},h64Raw(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:m;return h(e.byteLength,0),l.set(e),f(r(0,e.byteLength,t))},create64(){return c(88,0<arguments.length&&void 0!==arguments[0]?arguments[0]:m,i,s,n,f)}}}}}]);