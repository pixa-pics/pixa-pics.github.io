(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1166:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o,i,r,l,_,s,d,c;Object.defineProperty(t,"__esModule",{value:!0}),o=function(){function e(e,t){var a,n;for(a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),r=n(i),l=a(54),_=n(l),s=a(64),d=function(e){return{}},c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){return r.default.createElement(_.default,this.props,r.default.createElement("path",{d:"M21,9L17,5V8H10V10H17V13M7,11L3,15L7,19V16H14V14H7V11Z"}))}}]),t}(r.default.PureComponent),t.default=(0,s.withStyles)(d)(c)},1167:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o,i,r,l,_,s,d,c;Object.defineProperty(t,"__esModule",{value:!0}),o=function(){function e(e,t){var a,n;for(a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),r=n(i),l=a(54),_=n(l),s=a(64),d=function(e){return{}},c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){return r.default.createElement(_.default,this.props,r.default.createElement("path",{d:"M9,3L5,7H8V14H10V7H13M16,17V10H14V17H11L15,21L19,17H16Z"}))}}]),t}(r.default.PureComponent),t.default=(0,s.withStyles)(d)(c)},1184:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o,i,r,l,_,s,d,c;Object.defineProperty(t,"__esModule",{value:!0}),o=function(){function e(e,t){var a,n;for(a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),r=n(i),l=a(54),_=n(l),s=a(64),d=function(e){return{}},c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){return r.default.createElement(_.default,this.props,r.default.createElement("path",{d:"M3,17V19H9V17H3M3,5V7H13V5H3M13,21V19H21V17H13V15H11V21H13M7,9V11H3V13H7V15H9V9H7M21,13V11H11V13H21M15,9H17V7H21V5H17V3H15V9Z"}))}}]),t}(r.default.PureComponent),t.default=(0,s.withStyles)(d)(c)},951:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,a){return function n(o,i){var r,l;try{l=(r=t[o](i)).value}catch(_){return void a(_)}if(!r.done)return Promise.resolve(l).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(l)}("next")}))}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r,l,_,s,d,c,u,m,f,p,h,g,b,v,y,w,x,E,k,C,S,I,T,N,z,O,M,P,A,D,L,j,R,B,F,q,H,V,K,Y,U,W,X,G,Z,$,J,Q,ee,te,ae,ne,oe,ie,re,le,_e,se,de,ce,ue,me,fe,pe,he,ge,be,ve,ye,we,xe,Ee,ke,Ce,Se,Ie,Te,Ne,ze,Oe,Me,Pe,Ae,De,Le,je,Re,Be,Fe,qe,He,Ve,Ke,Ye,Ue,We,Xe,Ge,Ze,$e,Je,Qe,et,tt,at,nt,ot,it,rt,lt,_t,st,dt,ct,ut,mt,ft,pt,ht,gt,bt,vt,yt,wt,xt,Et,kt,Ct,St,It,Tt,Nt,zt,Ot,Mt,Pt,At,Dt,Lt,jt,Rt,Bt,Ft,qt,Ht,Vt,Kt;Object.defineProperty(t,"__esModule",{value:!0}),r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a,n,o=[],i=!0,r=!1,l=void 0;try{for(a=e[Symbol.iterator]();!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(_){r=!0,l=_}finally{try{!i&&a.return&&a.return()}finally{if(r)throw l}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=Object.assign||function(e){var t,a,n;for(t=1;t<arguments.length;t++)for(n in a=arguments[t])Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e},_=function(){function e(e,t){var a,n;for(a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(1040),d=n(s),c=a(1041),u=a(179),m=n(u),f=a(0),p=n(f),h=a(317),g=n(h),b=a(340),v=n(b),y=a(84),w=n(y),x=a(55),E=n(x),k=n(a(44)),C=a(1008),S=n(C),I=a(129),T=n(I),N=a(58),z=n(N),O=a(178),M=n(O),P=a(315),A=n(P),D=a(185),L=n(D),j=a(190),R=n(j),B=a(189),F=n(B),q=a(188),H=n(q),V=a(181),K=n(V),Y=a(318),U=n(Y),W=a(128),X=n(W),G=a(127),Z=n(G),$=a(1042),J=n($),Q=a(85),ee=a(68),te=n(ee),ae=a(1044),ne=n(ae),oe=a(1095),ie=n(oe),re=a(562),le=n(re),_e=a(1096),se=n(_e),de=a(559),ce=n(de),ue=a(1097),me=n(ue),fe=a(1169),pe=n(fe),he=a(183),ge=n(he),be=a(1059),ve=n(be),ye=a(1061),we=n(ye),xe=a(1060),Ee=n(xe),ke=a(1055),Ce=n(ke),Se=a(1053),Ie=n(Se),Te=a(1052),Ne=n(Te),ze=a(1057),Oe=n(ze),Me=a(557),Pe=n(Me),Ae=a(1171),De=n(Ae),Le=a(1058),je=n(Le),Re=a(1023),Be=n(Re),Fe=a(1051),qe=n(Fe),He=a(1049),Ve=n(He),Ke=a(1050),Ye=n(Ke),Ue=a(1172),We=n(Ue),Xe=a(1056),Ge=n(Xe),Ze=a(1054),$e=n(Ze),Je=a(1173),Qe=n(Je),et=a(1174),tt=n(et),at=a(342),nt=n(at),ot=a(1175),it=n(ot),rt=a(1176),lt=a(1025),_t=a(1178),st=a(1180),dt=n(st),ct=a(1181),ut=n(ct),mt=a(1182),ft=n(mt),pt=a(1048),ht=n(pt),gt=a(1183),bt=n(gt),vt=a(1184),yt=n(vt),wt=a(1185),xt=n(wt),Et=a(1017),kt=a(1035),Ct=n(kt),St=a(1012),It=n(St),Tt=a(126),Nt=a(1186),zt=n(Nt),Ot=a(1187),Mt=n(Ot),Pt=a(1188),At=n(Pt),Dt=a(998),Lt=a(1021),jt=n(Lt),Rt=a(1016),Bt=p.default.lazy((function(){return Promise.all([a.e(16),a.e(15)]).then(a.t.bind(null,1276,7))})),Ft=(0,Dt.SIMDopeCreate)({create:{new_of:!0,new_hex:!0},properties:{hsla:!0,hex:!0,rgb:!0}}),qt=Ft.Color,Ht=function(e){var t,a,n,o,r,l,_,s,d,c,u,m,f;return{green:{color:se.default[700]},red:{color:ce.default[500]},root:(t={contain:"layout size style paint",contentVisibility:"auto",width:"100%",height:"100%",position:"relative",paddingBottom:72},i(t,e.breakpoints.up("lg"),{paddingBottom:0}),i(t,"background","border-box"),t),contentInner:{height:"100%",width:"100%",maxHeight:"100%",position:"relative",display:"flex",contain:"paint style size layout"},contentCanvas:{width:"100%",height:"100%",maxHeight:"100%",display:"inline-block",contain:"paint style size layout !important"},contentDrawer:i({overscrollBehavior:"none",display:"flex",zIndex:1400},e.breakpoints.up("lg"),{display:"none"}),drawerHeader:(a={},i(a,e.breakpoints.down("md"),{padding:"16px 24px 8px 24px"}),i(a,"padding","36px 24px 8px 24px"),i(a,"position","relative"),i(a,"zIndex",-1),i(a,"background","#fff"),a),desktopintrovideowrapper:{cursor:"pointer",margin:"12px 24px",position:"absolute",right:0,top:0,"&:active, &:hover, &:active > video, &:hover > video":{height:96,width:96,transform:"scale(2)",zIndex:1},height:56,width:56,"&::after":{content:"''",background:"#fff !important",position:"absolute",right:0,top:0,width:"10%",height:"15%"}},desktopintrovideo:{position:"absolute",right:0,top:0,height:56,width:56},mobileintrovideowrapper:{zIndex:1,cursor:"pointer",margin:"16px 56px",position:"absolute",right:0,top:0,height:32,width:32,"&::after":{content:"''",background:"#fff !important",position:"absolute",right:0,top:0,width:"10%",height:"15%"}},mobileintrovideo:{position:"absolute",right:0,top:0,height:32,width:32},effectSliderText:{color:"#050c4c",fontWeight:"bold",textTransform:"uppercase"},effectSlider:{color:"#3729c1",padding:"16px 0px","& > .MuiSlider-track":{height:4}},coordinate:{padding:"6px 8px 6px 8px",display:"block",position:"absolute",top:0,left:"50%",transform:"translate(-50%, 0%)",borderRadius:"0px 0px 4px 4px",backgroundColor:"#ededffff",color:"#050c4c",boxShadow:"inset 0px 3px 6px #050c4c4d",whiteSpace:"nowrap"},drawerModalBackdropRoot:{contain:"layout size style paint"},drawerModal:{transform:"translateY(-32px)",marginTop:32,contain:"size layout style",overflow:"hidden"},contentDrawerFixed:(n={zIndex:20,contain:"style size paint layout",boxShadow:"-2px 0px 4px 0px rgb(0 0 0 / 20%), -4px 0px 5px 0px rgb(0 0 0 / 14%), -6px 0px 10px 0px rgb(0 0 0 / 12%)",maxHeight:"100%",height:"100%"},i(n,e.breakpoints.down("md"),{display:"none"}),i(n,"width",480),i(n,"overscrollBehavior","none"),i(n,"display","inline-block"),i(n,"animationFillMode","both"),i(n,"animationName","$drawer"),i(n,"animationDuration","250ms"),i(n,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),i(n,"animationDirection","alternate"),i(n,"animationIterationCount","1"),i(n,"animationDelay","0ms"),i(n,"& > div",{animationFillMode:"both",animationName:"$opacity",animationDuration:"125ms",animationTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",animationDirection:"alternate",animationIterationCount:"1",animationDelay:"150ms"}),n),"@keyframes drawer":{"0%":{transform:"translateX(100%)"},"190%":{transform:"translateX(0%)"}},"@keyframes opacity":{"0%":{filter:"opacity(0)"},"190%":{filter:"opacity(1)"}},"@keyframes menu":{"0%":{transform:"translateY(100%)"},"190%":{transform:"translateY(0%)"}},drawerPaper:{width:480,overflowX:"overlay",background:"#fafafa",contain:"layout paint size style"},swipeableDrawerPaper:{maxWidth:"100%",overscrollBehavior:"none",overflow:"hidden",paddingBottom:"48px",borderBox:"content-box",height:"100%",contain:"layout paint size style"},drawerContainer:(r={transform:"translateZ(10px)",scrollBehavior:"smooth",contain:"size style paint layout",height:"100% !important",overflow:"overlay"},i(r,e.breakpoints.down("md"),{height:"calc(100vh - 180px) !important"}),i(r,e.breakpoints.up("lg"),{overflowX:"hidden"}),i(r,"& > div",{overflowX:"hidden !important",overflowY:"overlay !important",display:"inline !important",width:"100% !important",height:"100% !important",contain:"size style paint layout !important"}),i(r,"& div .react-swipeable-view-container > div",i({overflow:"initial !important",alignItems:"normal",contain:"size style !important",height:"100%"},e.breakpoints.down("md"),{height:"100% !important",paddingBottom:"24px",boxSizing:"border-box"})),i(r,"& div .react-swipeable-view-container > div[aria-hidden=true]",i({},e.breakpoints.up("lg"),{height:"16px"})),i(r,"& div .react-swipeable-view-container > div[aria-hidden=false]  > ul",i({},e.breakpoints.down("md"),{paddingBottom:0})),i(r,"& > div > .react-swipeable-view-container",(o={display:"flex !important",filter:"inherit !important",WebkitFilter:"inherit",willChange:"none !important",height:"100% !important"},i(o,e.breakpoints.up("lg"),{width:480}),i(o,e.breakpoints.down("md"),{width:"100%"}),o)),r),tabs:{contain:"paint size style layout",animationFillMode:"both",animationName:"$menu",animationDuration:"175ms",animationTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",animationDirection:"alternate",animationIterationCount:"1",animationDelay:"0ms",height:72,display:"grid","& .MuiTabs-scroller":{overflowY:"hidden"},"& .MuiTab-root":{minWidth:"auto",flex:"auto"},"& .MuiTabs-indicator":{backgroundColor:"#050c4c"}},"@keyframes bounce":{"0%":{transform:"translate3d(0, 0px, 0) scaleY(1.00)"},"20%":{transform:"translate3d(0, 2px, 0) scaleY(0.95)"},"40%":{transform:"translate3d(0, 0px, 0) scaleY(1.00)"},"70%":{transform:"translate3d(0, -2px, 0) scaleY(1.10)"},"80%":{transform:"translate3d(0, 1px, 0) scaleY(0.95)"},"90%":{transform:"translate3d(0, 0px, 0) scaleY(1.00)"}},tab:{backgroundColor:"#fafafa",color:"#050c4c",transition:"color, background-color cubic-bezier(0.4, 0, 0.2, 1) .275s","&.Mui-selected":{fontWeight:"bold",backgroundColor:"#dfddf2",color:"#050c4c",transition:"color, background-color cubic-bezier(0.4, 0, 0.2, 1) .175s",borderRadius:"4px 4px 0px 0px","& .MuiTab-wrapper":{animationDuration:"375ms",animationTimingFunction:"linear",animationName:"$bounce",transformOrigin:"center bottom"}},"&:hover":{fontWeight:"bold",backgroundColor:"#e8e6f5",color:"#050c4c",transition:"color, background-color cubic-bezier(0.4, 0, 0.2, 1) .175s",borderRadius:"4px 4px 0px 0px","& .MuiTab-wrapper":{animationDuration:"375ms",animationTimingFunction:"linear",animationName:"$bounce",transformOrigin:"center bottom"}},"&:first-child":{borderRadius:"0px 4px 0px 0px"},"&:last-child":{borderRadius:"4px 0px 0px 0px"},"& .MuiTab-wrapper":{fontSize:"11px"},"& .MuiTab-wrapper svg":{width:32,height:32,contentVisibility:"auto"}},tabNoIcon:{backgroundColor:"white",color:"#050c4c",transition:"color, background-color ease-in .175s","&.Mui-selected":{fontWeight:"bold",backgroundColor:"#dfddf2",color:"#050c4c",borderRadius:"4px 4px 0px 0px"},"&.MuiTab-labelIcon":{minHeight:36},"& .MuiTab-wrapper":{fontSize:"11px"},"& .MuiTab-wrapper svg":{width:32,height:32,display:"none",color:"#181063"}},"@keyframes backdropanim":{"0%":{filter:"drop-shadow(0px, 0px, 20px, 20px, #131c955c)"}},backdrop:{zIndex:2e3,color:"#fff",filter:"brightness(1.1) contrast(1.2) drop-shadow(0 0 12px #070b32)",background:"radial-gradient(farthest-corner, #001856d1 20%, #636eff52 80%, #474e9b2b)",contain:"layout paint size style",userSelect:"none",animation:"$backdropanim 16s linear infinite both"},backdropTextContent:{display:"block",textAlign:"center"},fatabs:(l={transition:"transform 45ms cubic-bezier(0.4, 0, 0.2, 1) 5ms",backgroundColor:"#fafafa",boxShadow:"0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)",contain:"paint size style layout"},i(l,e.breakpoints.up("lg"),{display:"none"}),i(l,e.breakpoints.up("md"),{width:"100%"}),i(l,"zIndex",1300),i(l,"position","fixed"),i(l,"bottom",0),i(l,"right",0),i(l,"width","100%"),i(l,"height",72),l),listOfTools:(_={paddingTop:0},i(_,e.breakpoints.down("md"),{width:"100%"}),i(_,"width",360),_),contextMenuSubheader:{lineHeight:"24px",backgroundColor:"#eee",color:e.palette.secondary.light},contextMenuFuckYouActive:{cursor:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAApCAYAAAAiT5m3AAABXklEQVRYR+2XSxKCMAyGYSXqCdiJev8TqbjjBCqucMJMnDSk6QOKM0hXzPTxNemfB3n2o5GP4Z4OVYf7r/c66KygxfSSCL3Ut+xcHfupEPgoMEBxAHwFa/pZXe0dXaDqVVzLCyeaIkEMs7wxTZEAhUyVHMyhs4KpdTYwj0VNbF6Za7cpukf7Ms7lruaXcVWsZGC8iM3qHszVyhfHWIxg6qamabLnu+2ZXzC+IbqIFvZYsOb+AZgWdviGW5ZlaYSOLaG73p263wqWlEuBEkS6kC3eVbAG97FOi/fkYO4F7M0MVfMkQd/bNucq4KqrYbOk3NnAoF5edbjKYy2n50CeGGQu3tK4XBk6b7wx3ZwSTPO3aLHN3aHW8fX7YmumTL4gldX/A5YKj1iPaZkcGz62uqw2AlO9tfQLmxQsuRiF7ARjTeY9l09oaT/r0T3XssEgMmiBQgcUHbXLDD1wivUfqwJ8Oe4e4FEAAAAASUVORK5CYII=") 17 28, auto',"& .MuiList-padding":{padding:0}},contextMenuFuckYouDisable:{"& .MuiList-padding":{padding:0}},ripple:{contain:"layout paint size style",pointerEvents:"none",contentVisibility:"auto",mixBlendMode:"dodge"},infoIcon:{position:"absolute"},blueCenter:{color:e.palette.secondary.lighter,textAlign:"center",minWidth:"100%"},perspectiveButton:{position:"absolute",left:16,top:16,animationFillMode:"both",animationName:"$fadein",animationDuration:"225ms",animationTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",animationDirection:"alternate",animationIterationCount:"1",animationDelay:"175ms"},saveButton:(s={backgroundColor:"#0037ff14 !important",position:"absolute",right:496,top:16},i(s,e.breakpoints.down("md"),{right:16}),i(s,"animationFillMode","both"),i(s,"animationName","$fadein"),i(s,"animationDuration","225ms"),i(s,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),i(s,"animationDirection","alternate"),i(s,"animationIterationCount","1"),i(s,"animationDelay","175ms"),s),confirmImportButton:(d={position:"absolute",left:16,bottom:16},i(d,e.breakpoints.down("md"),{bottom:88}),i(d,"animationFillMode","both"),i(d,"animationName","$fadein"),i(d,"animationDuration","225ms"),i(d,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),i(d,"animationDirection","alternate"),i(d,"animationIterationCount","1"),i(d,"animationDelay","175ms"),d),zoomInButton:(c={position:"absolute",left:16,bottom:104},i(c,e.breakpoints.down("md"),{bottom:176}),i(c,"animationFillMode","both"),i(c,"animationName","$fadein"),i(c,"animationDuration","225ms"),i(c,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),i(c,"animationDirection","alternate"),i(c,"animationIterationCount","1"),i(c,"animationDelay","175ms"),c),zoomOutButton:(u={position:"absolute",left:16,bottom:60},i(u,e.breakpoints.down("md"),{bottom:132}),i(u,"animationFillMode","both"),i(u,"animationName","$fadein"),i(u,"animationDuration","225ms"),i(u,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),i(u,"animationDirection","alternate"),i(u,"animationIterationCount","1"),i(u,"animationDelay","175ms"),u),redoButton:(m={backgroundColor:"#0037ff14 !important",position:"absolute",right:496,bottom:60},i(m,e.breakpoints.down("md"),{right:16,bottom:132}),i(m,"animationFillMode","both"),i(m,"animationName","$fadein"),i(m,"animationDuration","225ms"),i(m,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),i(m,"animationDirection","alternate"),i(m,"animationIterationCount","1"),i(m,"animationDelay","175ms"),m),undoButton:(f={backgroundColor:"#0037ff14 !important",position:"absolute",right:496,bottom:16},i(f,e.breakpoints.down("md"),{right:16,bottom:88}),i(f,"animationFillMode","both"),i(f,"animationName","$fadein"),i(f,"animationDuration","225ms"),i(f,"animationTimingFunction","cubic-bezier(0.4, 0, 0.2, 1)"),i(f,"animationDirection","alternate"),i(f,"animationIterationCount","1"),i(f,"animationDelay","175ms"),f),"@keyframes fadein":{"0%":{filter:"opacity(0)"},"190%":{filter:"opacity(1)"}},imageBackdrop:{filter:"brightness(1.5) contrast(0.75) drop-shadow(2px 4px 6px black)",width:"min(75vw, 75vh)"}}},Vt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Kt.call(a),a.st4te={is_mobile_or_tablet:!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent||navigator.vendor||window.opera.substr(0,4))),classes:e.classes,load_with:e.load_with+"",_history:Q.HISTORY,_perspective:!1,_library_dialog_open:!1,_library:{},_library_type:"open",_view_name_index:1,_handle_wheel_timestamp:Date.now(),_view_name_sub_index:0,_previous_view_name_index:1,_view_names:["palette","image","layers","tools","selection","effects","filters"],_canvas:null,_loading:!1,_loading_process:"",_can_undo:0,_can_redo:0,_current_color:"#ffffffff",_second_color:"#000000ff",_pxl_current_opacity:1,_width:32,_height:32,_import_size:"192",_import_colorize:"0",_hue:360,_slider_value:.25,_slider_value_width:192,_slider_value_height:96,_game_ended:!1,_previous_tool_timestamp:1/0,_select_mode:"REPLACE",_pencil_mirror_mode:"NONE",_filters:[],_x:-1,_y:-1,_drag_file:!1,_is_something_selected:!1,_hide_canvas_content:!1,_show_original_image_in_background:!1,_show_transparent_image_in_background:!0,_is_image_import_mode:!1,_layers:[],_layer_index:0,_previous_layer_index:0,_mine_player_direction:"UP",_is_edit_drawer_open:!1,_kb:0,_saved_at:Date.now(),_fps:0,_prev_fps:0,_menu_mouse_y:null,_menu_mouse_x:null,_menu_data:{},_menu_event:null,_ripple:null,_ripple_color:"#ffffffff",_ripple_opacity:1,_is_pixel_dialog_post_edit_open:!1,_is_dialog_info_open:!1,_base64_url:"",_logged_account:{},_less_than_1280w:!1,_is_pixel_dialog_create_open:!1,_attachment_previews:{},_swipeable_drawer_handle_filters_thumbnail_change:function(){},_swipeable_drawer_set_props:function(){},_toolbox_container_ref:{},_files_waiting_download:[],_time_ago_initiated:!1,_fps_el:{},_xy_el:{},_settings:g.default.unpack(e.settings),_tool:"MOVE",_memory_tool:"MOVE"},a.st4te._tool=a.st4te.is_mobile_or_tablet?"MOVE":"PENCIL",a.st4te._memory_tool=a.st4te.is_mobile_or_tablet?"MOVE":"PENCIL",a.sraf=Object.create(jt.default).init(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_(t,[{key:"setSt4te",value:function(e,t){var a,n=Object.keys(e),o=0|n.length,i="";for(a=0;(0|a)<(0|o);a=(a+1|0)>>>0)i=n[a],this.st4te[i]=e[i];"function"==typeof t&&t()}},{key:"componentWillMount",value:function(){te.default.trigger_loading_update(0),te.default.trigger_page_render_complete(),setTimeout((function(){te.default.trigger_loading_update(100)}),300)}},{key:"componentDidMount",value:function(){var e=this;te.default.trigger_snackbar("Awesome buddy! Welcome back to the laboratory.",3500),(0,Tt.l)(null,(function(){e._compute_menu_drawer(),e.setSt4te({_time_ago_initiated:!0})}),!0),setTimeout((function(){e.st4te._is_pixel_dialog_create_open&&(te.default.trigger_snackbar("Right here! Let's upload a picture now to create a new artwork.",6e3),setTimeout((function(){e.st4te._is_pixel_dialog_create_open&&(te.default.trigger_snackbar("By the way, ...",1e3),setTimeout((function(){e.st4te._is_pixel_dialog_create_open&&(te.default.trigger_snackbar("Huh, let me take my breath! ...",1500),setTimeout((function(){e.st4te._is_pixel_dialog_create_open&&te.default.trigger_snackbar("You can set the size of your artwork before uploading your picture.",1e4)}),3e3))}),1500))}),8500))}),9e3),te.default.jamy_update("happy"),window.addEventListener("resize",this._updated_dimensions),window.addEventListener("wheel",this._prevent_ctrl_zoom,{passive:!1}),document.addEventListener("keydown",this._handle_keydown),document.addEventListener("keyup",this._handle_keyup);try{document.getElementById("tabs-desktop").addEventListener("wheel",this._handle_wheel,{passive:!1})}catch(t){}v.default.register(this._handle_events.bind(this)),this.setSt4te({_h_svg:(0,Et.createLocalBlob)((0,It.default)(p.default.createElement(Ct.default,{color:"#e5e5e5"}))),_h_svg_size:"100px 115px"}),(0,m.default)((function(){return a.e(42).then(a.t.bind(null,1290,7))})).then((function(t){e.setSt4te({_library:t})})),this._set_saved_at_element(),this._try_load_with_payload(this.st4te.load_with),setTimeout((function(){e._request_force_update(!1,!0).then((function(){e._updated_dimensions()}))}),1e3)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.load_with!==this.st4te.load_with?this.setSt4te(l({_settings:g.default.unpack(e.settings)},e),(function(){t._compute_menu_drawer(),t._request_force_update().then((function(){t._try_load_with_payload(t.st4te.load_with)}))})):this.setSt4te(l({_settings:g.default.unpack(e.settings)},e))}},{key:"_handle_events",value:function(e){var t=this;if("TRIGGER_CANVAS_ACTION"===e.type)switch(e.data.name.toUpperCase()){case"CONTRAST":this._to_auto_medium_more_contrast();break;case"SATURATION":this._to_auto_medium_more_saturation();break;case"PALETTE":this._less_colors_auto();break;case"SMOOTH":this._smooth_adjust();break;case"FILTER":this._handle_edit_drawer_open(null,6);break;case"RENDER":this._handle_edit_drawer_open(null,1),setTimeout((function(){t._handle_edit_drawer_open(null,1),setTimeout((function(){t._handle_edit_drawer_open(null,1)}),100)}),100)}}},{key:"componentWillUnmount",value:function(){this._backup_state(),te.default.stop_sound(),window.removeEventListener("resize",this._updated_dimensions),window.removeEventListener("wheel",this._prevent_ctrl_zoom);try{document.getElementById("tabs-desktop").removeEventListener("wheel",this._handle_wheel,{passive:!1})}catch(e){}document.removeEventListener("keydown",this._handle_keydown),document.removeEventListener("keyup",this._handle_keyup),clearInterval(this.st4te._saved_at_interval)}},{key:"render",value:function(){var e=this,t=this.st4te,a=t.classes,n=t._canvas,o=t._loading,i=t._loading_process,r=t._is_image_import_mode,l=t._hide_canvas_content,_=t._show_original_image_in_background,s=t._show_transparent_image_in_background,c=t._can_undo,u=t._can_redo,m=t._current_color,h=t._slider_value,g=t._tool,b=t._import_size,v=t._hue,y=t._select_mode,x=t._pencil_mirror_mode,k=t._kb,C=t._mine_player_direction,S=t._menu_data,I=t._ripple_color,T=t._ripple_opacity,N=t._library_dialog_open,z=t._library,O=t._is_pixel_dialog_create_open,P=t._h_svg,A=t._h_svg_size,D=t._attachment_previews,L=t._perspective,j=t._files_waiting_download,R=t._time_ago_initiated,B=t._settings,F=t._text_dialog_open,q=t._drag_file,H=t.is_mobile_or_tablet;return S.pos_x=-1===S.pos_x?"out":S.pos_x,S.pos_y=-1===S.pos_y?"out":S.pos_y,p.default.createElement("div",{style:{height:"100%",position:"relative",pointerEvents:"none",userSelect:"none"},ref:this._set_root_ref},p.default.createElement("div",{className:a.root},p.default.createElement("div",{className:a.contentInner,style:{backgroundColor:"#f7f7f7",backgroundImage:'url("'+P+'")',backgroundRepeat:"repeat",backgroundSize:A,textRendering:"optimizespeed",imageRendering:"optimizespeed"}},p.default.createElement(f.Suspense,{fallback:p.default.createElement("div",{className:a.contentCanvas})},p.default.createElement(Bt,{set_compressor:this._set_png_compressors,perspective:L?2:0,on_state_export:this._handle_canvas_state_will_export,on_state_exported:this._handle_canvas_state_exported,on_fps_change:this._handle_fps_change,export_state_every_ms:H?3e5:21e4,shadow_size:H?0:1.5,key:"canvas",className:a.contentCanvas,ref:this._set_canvas_ref,tool:g,canvas_wrapper_padding:8,hide_canvas_content:l,show_original_image_in_background:_&&!0,show_transparent_image_in_background:s,select_mode:y,pencil_mirror_mode:x,hue:v,bucket_threshold:h,color_loss:h,pxl_current_opacity:1,onLoadComplete:this._handle_load_complete,onLoad:this._handle_load,onCanUndoRedoChange:this._handle_can_undo_redo_change,onSizeChange:this._handle_size_change,onCurrentColorChange:this._handle_current_color_change,onSomethingSelectedChange:this._handle_something_selected_change,onImageImportModeChange:this._handle_image_import_mode_change,onPositionChange:this._handle_position_change,onLayersChange:this._handle_layers_change,onFiltersThumbnailChange:this._handle_filters_thumbnail_change,onGameEnd:this._handle_game_end,onRelevantActionEvent:this._handle_relevant_action_event,setCursorFuckYou:this._set_cursor_fuck_you,onRightClick:this._handle_right_click,mine_player_direction:C,pxl_current_color:m,convert_scale:1,default_size:b,ideal_size:b,max_size:1.5*b,fast_drawing:!0,px_per_px:1})),this.drawer_desktop,this.menu)),p.default.createElement("div",{style:{pointerEvents:"all"}},p.default.createElement(E.default,{className:a.perspectiveButton,color:"primary",size:"small",onClick:this._toggle_perspective},L?p.default.createElement(tt.default,null):p.default.createElement(Qe.default,null)),p.default.createElement(w.default,{className:a.saveButton,variant:"text",color:"primary",onClick:this._backup_state},p.default.createElement("span",{id:"saved_at"},"?")," ",p.default.createElement(We.default,null)," ",k<.5?"?":Math.round(10*k)/10," kB"),p.default.createElement(w.default,{disabled:!r,className:a.confirmImportButton,color:"primary",size:"small",onClick:function(){r?n.confirm_import():e._import_image_library()}},p.default.createElement(d.default,null)," ",r?"OK":"Import"),p.default.createElement(E.default,{className:a.zoomOutButton,color:"primary",size:"small",onClick:function(){n.zoom_out()}},p.default.createElement(Mt.default,null)),p.default.createElement(E.default,{className:a.zoomInButton,color:"primary",size:"small",onClick:function(){n.zoom_in()}},p.default.createElement(zt.default,null)),p.default.createElement(w.default,{disabled:!u,variant:"text",color:"primary",size:"small",className:a.redoButton,onClick:function(t){e._redo()}},(-u||"")+" Redo"," ",p.default.createElement(De.default,{style:{transition:"ease-out 225ms transform 25m",transform:"rotate(+"+(360*u+90)+"deg)"}})),p.default.createElement(w.default,{disabled:!c,variant:"text",color:"primary",size:"small",className:a.undoButton,onClick:function(t){e._undo()}},p.default.createElement(De.default,{style:{transition:"ease-out 225ms transform 25ms",transform:"rotate(-"+(360*c+90)+"deg)"}}),(+c||"")+" Undo")),this.drawer_mobile,p.default.createElement(it.default,{keepMounted:!1,open:!!N,object:z,onClose:this._close_library,onSelectImage:this._from_library}),p.default.createElement(At.default,{keepMounted:!1,open:!!F,onClose:this._close_text,onSuccess:this._draw_text}),p.default.createElement(pe.default,{keepMounted:!1,theme_day:B._theme_day,open:!!O,pixel_arts:R?D:{},size:b,on_import_size_change:this._set_import_size,on_pixel_art_delete:this._delete_unsaved_pixel_art,import_JSON_state:this._handle_import_json_state_id,on_upload:this._handle_file_upload,onClose:this._handle_pixel_dialog_create_close}),p.default.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0,contain:"paint size style layout",visibility:"auto"}},p.default.createElement(J.default,{className:a.ripple,ref:this._set_ripple_ref,center:!1,style:{color:I,opacity:T,position:"fixed",width:"100%",height:"100%"}}),p.default.createElement(M.default,{style:{pointerEvents:"all",cursor:"pointer"},onDrag:this._handle_file_upload,className:a.backdrop,open:!!(o||j.length>0||q+1e3>Date.now())},p.default.createElement("div",{className:a.backdropTextContent,style:{fontFamily:'"Industry Book"',textTransform:"uppercase"},onClick:this._continue_download},!q&&!!(o||j.length>0)&&p.default.createElement("h1",null,p.default.createElement(nt.default,{key:i||o,text:"browser"===i?"Laboratory in DANGER!":"LABORATORY PROCESSING",animation_delay_ms:0,animation_duration_ms:200})),!q&&j.length>0&&p.default.createElement("h3",null,p.default.createElement(nt.default,{key:j[0].name,text:"ACTION REQUIRED... "+j[0].name,animation_delay_ms:300,animation_duration_ms:500})),!q&&j.length>0&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/DOWNLOAD.svg",className:a.imageBackdrop})),!q&&j.length>0&&p.default.createElement("h4",null,p.default.createElement(nt.default,{pre:"[... ",app:" ...]",style:{textShadow:"0px 0px 16px white"},text:"CLICK ON THE SCREEN TO CONTINUE DOWNLOAD!",animation_delay_ms:H?5e3:2500,animation_duration_ms:500})),!q&&0===j.length&&o&&"browser"===i&&p.default.createElement("h3",null,p.default.createElement(nt.default,{text:"Doesn't feel like home for our dear code here.",animation_delay_ms:300,animation_duration_ms:500})),!q&&0===j.length&&o&&"browser"===i&&p.default.createElement("h4",null,p.default.createElement(nt.default,{pre:"[... ",app:" ...]",text:"It can take a while, please download an advanced browser.",animation_delay_ms:H?5e3:2500,animation_duration_ms:500})),!q&&0===j.length&&o&&"image_ai"===i&&p.default.createElement("h3",null,p.default.createElement(nt.default,{text:"AI processing your image",animation_delay_ms:300,animation_duration_ms:500})),q&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/ABDUCTION.svg",className:a.imageBackdrop})),q&&p.default.createElement("h4",null,p.default.createElement(nt.default,{pre:"[... ",app:" ...]",text:"Drop the file to the UFO.",animation_delay_ms:H?5e3:2500,animation_duration_ms:500})),q&&p.default.createElement("h3",null,p.default.createElement(nt.default,{text:"Ready for a new image abduction?",animation_delay_ms:300,animation_duration_ms:500})),!q&&0===j.length&&o&&"image_ai"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/MOLECULE.svg",className:a.imageBackdrop})),!q&&0===j.length&&o&&"image_ai"===i&&p.default.createElement("h4",null,p.default.createElement(nt.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~10sec.",animation_delay_ms:H?5e3:2500,animation_duration_ms:500})),!q&&0===j.length&&o&&"image_preload"===i&&p.default.createElement("h3",null,p.default.createElement(nt.default,{text:"Preparing laboratory",animation_delay_ms:300,animation_duration_ms:500})),!q&&0===j.length&&o&&"image_preload"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/SCIENCE.svg",className:a.imageBackdrop})),!q&&0===j.length&&o&&"image_preload"===i&&p.default.createElement("h4",null,p.default.createElement(nt.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~"+parseInt(3*parseFloat(b/100))*(H?3:1)+"sec.",animation_delay_ms:H?5e3:2500,animation_duration_ms:500})),!q&&0===j.length&&o&&"image_load"===i&&p.default.createElement("h3",null,p.default.createElement(nt.default,{text:"Abducting your image",animation_delay_ms:300,animation_duration_ms:500})),!q&&0===j.length&&o&&"image_load"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/ABDUCTION.svg",className:a.imageBackdrop})),!q&&0===j.length&&o&&"image_load"===i&&p.default.createElement("h4",null,p.default.createElement(nt.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~"+parseInt(4*parseFloat(b/100))*(H?3:1)+"sec.",animation_delay_ms:H?5e3:2500,animation_duration_ms:500})),!q&&0===j.length&&o&&"image_render"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/COMPUTING.svg",className:a.imageBackdrop})),!q&&0===j.length&&o&&"image_render"===i&&p.default.createElement("h3",null,p.default.createElement(nt.default,{text:"Atomic rendering in process",animation_delay_ms:300,animation_duration_ms:500})),!q&&0===j.length&&o&&"image_render"===i&&p.default.createElement("h4",null,p.default.createElement(nt.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~14sec.",animation_delay_ms:H?5e3:2500,animation_duration_ms:500})),!q&&0===j.length&&o&&"less_color"===i&&p.default.createElement("h3",null,p.default.createElement(nt.default,{text:"Coupling few color DNA",animation_delay_ms:300,animation_duration_ms:500})),!q&&0===j.length&&o&&"less_color"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/GENOMA.svg",className:a.imageBackdrop})),!q&&0===j.length&&o&&"less_color"===i&&p.default.createElement("h4",null,p.default.createElement(nt.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~4sec.",animation_delay_ms:H?5e3:2500,animation_duration_ms:500})),!q&&0===j.length&&o&&"less_color_auto"===i&&p.default.createElement("h3",null,p.default.createElement(nt.default,{text:"Coupling the DNA of many color",animation_delay_ms:500,animation_duration_ms:500})),!q&&0===j.length&&o&&"less_color_auto"===i&&p.default.createElement("div",null,p.default.createElement("img",{src:"/src/images/labostration/GENOMA.svg",className:a.imageBackdrop})),!q&&0===j.length&&o&&"less_color_auto"===i&&p.default.createElement("h4",null,p.default.createElement(nt.default,{pre:"[... ",app:" ...]",text:"It can take a while, please wait ~7sec.",animation_delay_ms:H?5e3:2500,animation_duration_ms:500}))))))}}]),t}(p.default.PureComponent),Kt=function(){var e,t=this;this._request_force_update=function(e,a){return e=void 0===e||e,a=void 0!==a&&a,t.sraf.run_frame((function(){return new Promise((function(e,a){t.forceUpdate(e)}))}),!e,!a,Date.now(),"page_pixel").catch((function(){return t._request_force_update(e,a)}))},this._set_fps_and_xy_elements=function(){setTimeout((function(){t.st4te._less_than_1280w?t.setSt4te({_fps_el:{},_xy_el:{}}):t.setSt4te({_fps_el:document.getElementById("fps_el")||{},_xy_el:document.getElementById("xy_el")||{}})}),1e3)},this._prevent_ctrl_zoom=function(e){e.ctrlKey&&e.preventDefault()},this._set_saved_at_element=function(){t.st4te._saved_at_el||t.setSt4te({_saved_at_el:document.getElementById("saved_at")},(function(){var e=setInterval((function(){t.st4te._saved_at_el.innerText=(0,Tt.t)(t.st4te._saved_at||Date.now(),{mini:!0})}),1e3);t.setSt4te({_saved_at_interval:e})}))},this._try_load_with_payload=function(e){var n,o,i;0===e.length?(ge.default.get_settings(t._process_settings_info_result),setTimeout((function(){t.setSt4te({_is_pixel_dialog_create_open:!(0!==e.length)},(function(){t._compute_menu_drawer(),t._request_force_update()}))}),725)):(n=!!e.startsWith("data:image/png;base64,"),o=n?"image/png":"image/jpeg",i=t.st4te._import_size,t._handle_load("image_preload"),(0,lt.base64_to_bitmap)(e,(function(e){var n,l,_,s,d;te.default.trigger_voice("data_upload"),n=t.st4te.is_mobile_or_tablet?960:1440,t.st4te.is_mobile_or_tablet,l=t.st4te.is_mobile_or_tablet?512:1024,_=parseInt(n*n),s=Math.min(parseInt(262144),Math.max(parseInt(i*i),parseInt(l*l))),d=Math.min(parseInt(262144),parseInt(i*i)),(0,lt.bitmap_to_imagedata)(e,_,(function(e){(0,m.default)((function(){return Promise.resolve().then(a.t.bind(null,1005,7))})).then((function(a){var n=a.QuantiMatGlobal;(0,lt.imagedata_to_base64)(e,o,(function(e){(0,lt.base64_to_bitmap)(e,(function(a){(0,lt.bitmap_to_imagedata)(a,s,(function(a){n(a,256,3).then((function(a){var n=r(a,6),o=n[0],i=(n[1],n[2],n[3]),l=n[4],_=n[5];null===o?(window.dispatchEvent(new Event("art-upload-browsererror")),t._handle_load_complete("image_preload",{}),t._handle_load("browser"),te.default.trigger_sfx("alert_high-intensity",.6),te.default.jamy_update("flirty"),te.default.trigger_snackbar("That's our end my little buddy! My instinctive dwelling require a browser I am supporting.",6e3),setTimeout((function(){te.default.trigger_sfx("alert_high-intensity",.7),te.default.jamy_update("sad"),te.default.trigger_snackbar("Abandon, misfortune, sadness... I can't live in this strange place.",7e3),setTimeout((function(){te.default.trigger_sfx("alert_high-intensity",.8),te.default.jamy_update("suspicious"),te.default.trigger_snackbar("Ho no! I just can't, but someone needs to give me back my usual laboratory environment!",7e3),setTimeout((function(){te.default.trigger_sfx("alert_high-intensity",.9),te.default.jamy_update("shocked"),te.default.trigger_snackbar("Yes my enjoyable smartness, gladly you hear me now! Everything gonna be alright to look at me!",9e3),setTimeout((function(){te.default.jamy_update("happy"),te.default.trigger_sfx("alert_high-intensity",1),setTimeout((function(){te.default.trigger_sfx("alert_high-intensity",1)}),750)}),4e3)}),8e3)}),8e3)}),7e3)):(setTimeout((function(){te.default.trigger_snackbar("I am really awesome, within "+parseFloat(_/1e3).toFixed(3)+"sec. I've made disappears "+i+" colors, now there are "+l+" colors!",5700),setTimeout((function(){te.default.jamy_update("happy")}),2e3)}),15e3),(0,lt.imagedata_to_base64)(o,"image/png",(function(a){(0,lt.base64_to_bitmap)(a,(function(a){(0,lt.bitmap_to_imagedata)(a,d,(function(a){(0,lt.imagedata_to_base64)(a,"image/png",(function(a){var n=new Image;n.addEventListener("load",(function(){t._handle_load_complete("image_preload",{}),t.setSt4te({_kb:0,_saved_at:1/0}),t.st4te._canvas.set_canvas_from_image(n,e,{},!1)}),{once:!0,capture:!0}),n.src=a}))}))}))}),S.default))}),S.default)}))}),S.default)}),S.default)})).catch((function(e){t._handle_load_complete("image_preload",{}),te.default.trigger_snackbar("Be sure to have a recent browser or install Google Chrome for using it.",5700),te.default.jamy_update("angry")}))}))}),S.default))},this._handle_canvas_state_will_export=function(){te.default.trigger_loading_update(0),te.default.jamy_update("suspicious"),te.default.trigger_snackbar("Ok buddy! Saving yours.",1500),window.onbeforeunload=function(e){return"Your content that was being saved will be lost."}},this._handle_canvas_state_exported=function(e){if(te.default.trigger_loading_update(75),te.default.jamy_update("flirty"),te.default.trigger_snackbar("Hold on! Compressing...",1e3),e.kb>.5){var a={};a["json_state-ID"+e.id+".json.lz"]=e,t.setSt4te({_kb:e.kb,_saved_at:Date.now()},(function(){t._compute_menu_drawer(),t._request_force_update(),ge.default.set_settings({},(function(e,t){e&&(te.default.trigger_loading_update(100),te.default.trigger_snackbar("Looks like I can't save your file as our compression module can't load.",5700),te.default.jamy_update("angry"))}),a,c.UJS,S.default,(function(e,t){te.default.trigger_loading_update(100),e?(window.onbeforeunload=function(e){},te.default.trigger_snackbar("Laboratory artwork failed to save.",2e3),te.default.jamy_update("sad")):(window.onbeforeunload=function(e){},setTimeout((function(){setTimeout((function(){te.default.jamy_update("happy")}),500),te.default.trigger_snackbar("Success! Laboratory's artwork saved!",2e3)}),1e3))}))}))}else te.default.trigger_loading_update(100),window.onbeforeunload=function(e){},setTimeout((function(){te.default.trigger_snackbar("Huh, we don't store nearly empty file up here, buddy.",2e3)}),2e3)},this._handle_import_json_state_id=function(e){(0,m.default)((function(){return Promise.resolve().then(a.t.bind(null,1041,7))})).then((function(a){var n=a.UJS;t._handle_load("image_preload"),te.default.trigger_voice("accessing_memory"),ge.default.get_settings((function(){}),["json_state-ID"+e+".json.lz"],t._process_settings_attachment_result,n,S.default)})).catch((function(){te.default.trigger_snackbar("Looks like I can't get your file as our compression module can't load.",5700),te.default.jamy_update("angry")}))},this._delete_unsaved_pixel_art=function(e){var a={};a["json_state-ID"+e+".json.lz"]="delete",ge.default.set_settings({},t._process_settings_info_result,a,null,null,(function(a,n){if(a)te.default.trigger_snackbar("DELETION, Failed!",2e3);else{te.default.trigger_snackbar("DELETION, Successful!",2e3),te.default.trigger_sfx("alert_high-intensity");var o=Object.assign({},t.st4te._attachment_previews);delete o["json_state-ID"+e+".json.lz"],t.setSt4te({_attachment_previews:o},(function(){t._request_force_update()}))}}))},this._updated_dimensions=function(){var e=document.documentElement,a=document.body||document.getElementsByTagName("body")[0],n=window.innerWidth||e.clientWidth||a.clientWidth,o=(window.innerHeight||e.clientHeight||a.clientHeight,!!(n<1280));t.setSt4te({_less_than_1280w:o},(function(){t._compute_menu_drawer(),t._compute_menu_drawer(),t._request_force_update(!1,!1).then((function(){t._set_fps_and_xy_elements()}))}))},this._handle_wheel=function(e){var a,n,o=e.deltaY;t.st4te._handle_wheel_timestamp+150<Date.now()&&(a=0===o?0:o>0?1:-1,(n=t.st4te._view_name_index+a|0)<0?n=t.st4te._view_name_index=t.st4te._view_names.length-1|0:n%=t.st4te._view_names.length+1|0,t._handle_view_name_change(n,t.st4te._view_name_index,(function(){t.setSt4te({_handle_wheel_timestamp:Date.now()})})))},this._handle_menu_close=function(){t.setSt4te({_menu_mouse_x:null,_menu_mouse_y:null},(function(){t._compute_menu_right_click(),t._request_force_update()}))},this._handle_right_click=function(e,a){a.pxl_color=t.st4te._canvas.get_pixel_color_from_pos(a.pos_x,a.pos_y),t.setSt4te({_menu_mouse_x:e.clientX-2,_menu_mouse_y:e.clientY-4,_menu_data:a,_menu_event:e},(function(){t._compute_menu_right_click(),t._request_force_update()}))},this._set_cursor_fuck_you=function(e){te.default.jamy_update("happy",2500)},this._process_settings_info_result=function(e,a){if(!e&&void 0!==a){var n=void 0!==a.attachment_previews?a.attachment_previews:{};t.setSt4te({_attachment_previews:n},(function(){t._request_force_update()}))}},this._process_settings_attachment_result=function(e,a){var n=t.st4te._canvas.import_JS_state;t._handle_load_complete("image_preload",{}),e?(te.default.trigger_snackbar("Looks like I can't get your file as something was erroneous.",5700),te.default.jamy_update("angry"),t._handle_pixel_dialog_create_open()):(t.setSt4te({_kb:a.kb,_saved_at:Date.now()},(function(){t._request_force_update()})),n(a,(function(){t.setSt4te({_is_pixel_dialog_create_open:!1,_attachment_previews:{}},(function(){t._request_force_update()}))})))},this._handle_view_name_change=function(e){var a,n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},_=t.st4te,s=_._view_names,d=_._toolbox_container_ref;i=null===i?t.st4te._view_name_index:i,a=s[e]||s[0],i>(n=-1===s.indexOf(a)?0:s.indexOf(a))?te.default.trigger_sfx("navigation_transition-left"):i<n&&te.default.trigger_sfx("navigation_transition-right"),(o={})._view_name_sub_index=0,d.scrollTop=0,t.setSt4te(l({},o,{_previous_view_name_index:i||t.st4te._view_name_index,_view_name_index:n}),(function(){t._set_props_bypass_this(),t._compute_menu_drawer(),t._request_force_update(),r()}))},this._handle_view_name_switch=function(e,a){var n,o,i,r,_,s,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;("mouse"===e.pointerType&&0===e.button||"mouse"!==e.pointerType)&&(o=(n=t.st4te)._view_names,i=n._toolbox_container_ref,d=null===d?t.st4te._view_name_index:d,r=o[a]||o[0],d>(_=-1===o.indexOf(r)?0:o.indexOf(r))?te.default.trigger_sfx("navigation_transition-left"):te.default.trigger_sfx("navigation_transition-right"),s={},d!==_&&(s._view_name_sub_index=0,i.scrollTop=0),t.setSt4te(l({},s,{_previous_view_name_index:d||t.st4te._view_name_index,_view_name_index:_}),(function(){t._set_props_bypass_this(),t._compute_menu_drawer(),t._request_force_update()})))},this._handle_keydown=function(e){var a,n,o,i,r;if(e.ctrlKey&&(document.getElementsByClassName("MuiInput-root Mui-focused").length?"c"===!e.key&&"v"===!e.key&&(e.preventDefault(),e.stopImmediatePropagation()):(e.preventDefault(),e.stopImmediatePropagation())),n=(a=t.st4te)._tool,o=a._view_name_index,i=a._view_names,r=a._is_pixel_dialog_post_edit_open,e&&!r){if("MINE"===n)switch(e.keyCode){case 38:t.setSt4te({_mine_player_direction:"UP"});break;case 40:t.setSt4te({_mine_player_direction:"DOWN"});break;case 37:t.setSt4te({_mine_player_direction:"LEFT"});break;case 39:t.setSt4te({_mine_player_direction:"RIGHT"})}else switch(e.keyCode){case 37:t._handle_view_name_change(o-1<0?i.length-1:o-1);break;case 39:t._handle_view_name_change(o+1>i.length-1?0:o+1);break;case 38:t._scroll_to_drawer(-1);break;case 40:t._scroll_to_drawer(1)}"1"===e.key?t._handle_view_name_change(0):"2"===e.key?t._handle_view_name_change(1):"3"===e.key?t._handle_view_name_change(2):"4"===e.key?t._handle_view_name_change(3):"5"===e.key?t._handle_view_name_change(4):"6"===e.key?t._handle_view_name_change(5):"7"===e.key?t._handle_view_name_change(6):e.ctrlKey&&"z"===e.key?t._undo():e.ctrlKey&&"y"===e.key?t._redo():e.ctrlKey&&"m"===e.key?t._set_tool("MINE"):e.ctrlKey&&"o"===e.key?t._upload_image():e.ctrlKey&&"i"===e.key?t._handle_file_import():e.ctrlKey||"o"!==e.key?e.ctrlKey||"b"!==e.key?e.ctrlKey||"h"!==e.key?e.ctrlKey||"x"!==e.key?e.ctrlKey||"u"!==e.key?e.ctrlKey||"r"!==e.key?e.ctrlKey&&"r"===e.key?t._set_tool("SELECT RECTANGLE"):e.ctrlKey||"e"!==e.key?e.ctrlKey&&"e"===e.key?t._set_tool("SELECT ELLIPSE"):e.ctrlKey||"l"!==e.key?e.ctrlKey&&"l"===e.key?t._set_tool("SELECT LINE"):e.ctrlKey||"p"!==e.key?e.ctrlKey||"n"!==e.key?e.ctrlKey&&"p"===e.key?t._set_tool("SELECT PIXEL"):e.ctrlKey&&"n"===e.key?t._set_tool("SELECT PENCIL PERFECT"):e.ctrlKey||"m"!==e.key?e.ctrlKey||"f"!==e.key?e.ctrlKey&&"f"===e.key?t._set_tool("SELECT PATH"):e.ctrlKey&&"k"===e.key?t._set_tool("SELECT COLOR THRESHOLD"):e.ctrlKey&&"g"===e.key?t._set_tool("SELECT COLOR"):e.ctrlKey&&"q"===e.key?t._download_image(1):e.ctrlKey&&"s"===e.key?t._download_image(32):"Enter"===e.key?(0,t.st4te._canvas.confirm_import)():e.ctrlKey?n.includes("SELECT")?(t.setSt4te({_previous_tool_timestamp:Date.now()}),t._set_select_mode("REMOVE")):(t.setSt4te({_previous_tool_timestamp:Date.now()}),t._set_tool("PICKER",!1)):"Shift"===e.key&&(n.includes("SELECT")?(t.setSt4te({_previous_tool_timestamp:Date.now()}),t._set_select_mode("ADD")):(t.setSt4te({_previous_tool_timestamp:Date.now()}),t._set_tool("MOVE",!1))):t._set_tool("CONTOUR"):t._set_tool("SET PENCIL MIRROR"):t._set_tool("PENCIL PERFECT"):t._set_tool("PENCIL"):t._set_tool("LINE"):t._set_tool("ELLIPSE"):t._set_tool("RECTANGLE"):t._set_tool("BORDER"):t._set_tool("EXCHANGE"):t._set_tool("HUE BUCKET"):t._set_tool("BUCKET"):t._set_tool("PICKER")}},this._undo=function(){(100*Math.random()|0)>90&&te.default.trigger_snackbar("That was a nice undo!"),t.st4te._canvas.undo()},this._redo=function(){(100*Math.random()|0)>95&&(te.default.jamy_update("suspicious"),te.default.trigger_snackbar("Even nicer redo! Doo,doo,doo...",2500),setTimeout((function(){te.default.jamy_update("annoyed"),te.default.trigger_snackbar("Did I already said that today? I won't feel much smarter today.",3500),setTimeout((function(){te.default.jamy_update("shocked"),te.default.trigger_snackbar("No, huh!? I have feelings.",2500),setTimeout((function(){te.default.jamy_update("flirty"),te.default.trigger_snackbar("I am a real booooy! Yuhhh!")}),3e3)}),4e3)}),3e3)),t.st4te._canvas.redo()},this._set_png_compressors=function(){var e=t.st4te._canvas.set_png_compressors;return new Promise((function(t,n){(0,m.default)((function(){return a.e(0).then(a.t.bind(null,1007,7))})).then((function(a){var n=a.png_quant;e(n),t()}))}))},this._backup_state=function(){var e=t.st4te._canvas,n=e.export_state,o=e.set_png_compressors;(0,m.default)((function(){return a.e(0).then(a.t.bind(null,1007,7))})).then((function(e){var t=e.png_quant;o(t),n()}))},this._download_image=function(e){window.dispatchEvent(new Event("art-download-raster"+e)),(0,m.default)((function(){return a.e(0).then(a.t.bind(null,1007,7))})).then((function(a){var n=a.png_quant,o=t.st4te._canvas,i=o.get_base64_png_data_url,r=o.set_png_compressors;void 0!==i&&void 0!==r&&(r(n),i(e,!1,1,100,100).then((function(a){var n=a.hash,o=a.url,i=document.createElement("a");i.download="PIXA-"+n+"-PIXELATED-"+e+"x_RAS.png",i.href=o,i.click(),i.remove(),t._propose_selling_nft()})))}))},this._download_svg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xbrz",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=t.st4te._canvas,_=l.get_base64_png_data_url,s=l.set_png_compressors,d=l.xxhashthat;window.dispatchEvent(new Event("art-download-vector"+e.toLowerCase())),te.default.trigger_voice("please_wait"),te.default.trigger_snackbar("Please wait... Files will download in a few seconds.",5700),te.default.jamy_update("happy"),t.setSt4te({_loading:!0,_loading_process:"image_render"},(function(){(0,m.default)((function(){return a.e(0).then(a.t.bind(null,1007,7))})).then((function(l){var c=l.png_quant;(0,m.default)((function(){return a.e(6).then(a.t.bind(null,1069,7))})).then((function(a){var l=a.oxi_png;s(c,l),_(1,!0,1,100,100).then((function(a){var l=a.url,_=a.colors,s=d(l),c=t.st4te._files_waiting_download;c.push({name:"PIXA-"+s+"-PIXELATED-1x_RAS.png",url:l}),t.setSt4te({_files_waiting_download:c},(function(){t._request_force_update()})),te.default.trigger_voice("processing"),(0,rt.base64png_to_xbrz_svg)(l,(function(a,n,o,i){var l=t.st4te._files_waiting_download;l.push({name:"PIXA-"+s+"-"+e.toUpperCase()+"-"+n+"x_RAS.png",url:""+a}),t.setSt4te({_files_waiting_download:l},(function(){t._request_force_update(),r?(0,_t.postJSON)("https://real-life-image.pixa-pics.workers.dev/init",""+a,(function(e,a){a&&(0,_t.postJSON)("https://real-life-image.pixa-pics.workers.dev/get",""+a,(function(e,a){a&&a.split(" ").forEach((function(e){fetch(e).then((function(e){e.blob().then((function(e,a){new Promise((function(t,a){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=function(){var a=URL.createObjectURL(e);t(a)},n.readAsDataURL(e)})).then((function(e){l.push({name:"PIXA-"+s+"-PHOTO-REAL-BIG+AI_RAS-#"+a+".jpg",url:""+e}),t.setSt4te({_files_waiting_download:l},t._request_force_update)}))}))}))}))}),"application/text")}),"application/text"):(te.default.trigger_snackbar("Looks like we had an unexpected issue",5700),te.default.jamy_update("angry"))}))}),(function(a,n){if(a.length>0){var o=t.st4te._files_waiting_download;o.push({name:"PIXA-"+s+"-"+e.toUpperCase()+"-"+n+"x_VEC.svg",url:a}),t.setSt4te({_files_waiting_download:o},(function(){t._request_force_update()}))}t.setSt4te({_loading:!1,_loading_process:""},(function(){t._propose_selling_nft()}))}),(function(a,n){if(a.length>0){var o=t.st4te._files_waiting_download;o.push({name:"PIXA-"+s+"-"+e.toUpperCase()+"-"+n+"+CRT.png",url:a}),t.setSt4te({_files_waiting_download:o},(function(){t._request_force_update()}))}}),Array.from(_),e,!!n,!!o,!!i)}))}))}))}))},this._propose_selling_nft=function(){te.default.trigger_voice("complete"),te.default.trigger_sfx("hero_decorative-celebration-02"),te.default.trigger_snackbar("Fantastic!",1500),setTimeout((function(){te.default.trigger_share(),window.dispatchEvent(new Event("home-action-tryshare")),setTimeout((function(){te.default.trigger_sfx("alert_high-intensity"),te.default.trigger_snackbar("Your unique and stunning pixel art can now be turned into a valuable digital asset through the power of blockchain technology.",7e3),setTimeout((function(){te.default.trigger_sfx("hero_decorative-celebration-02"),te.default.trigger_snackbar("Sell your pixel art as an NFT on your favourite platform and become a part of the growing NFT community.",9e3)}),8e3)}),2e3)}),2e3)},this._continue_download=function(){var e,a,n=t.st4te._files_waiting_download;n.length>0&&(e=n.shift(),(a=document.createElement("a")).download=""+e.name,a.href=""+e.url,a.click(),delete e.url,delete e.name,a.remove(),t.setSt4te({_files_waiting_download:n},(function(){t._request_force_update()})))},this._handle_keyup=function(e){var a,n,o,i,r;e.ctrlKey&&(document.getElementsByClassName("MuiInput-root Mui-focused").length?"c"===!e.key&&"v"===!e.key&&(e.preventDefault(),e.stopImmediatePropagation()):(e.preventDefault(),e.stopImmediatePropagation())),a=t.st4te._is_pixel_dialog_post_edit_open,e&&!a&&(o=(n=t.st4te)._tool,i=n._memory_tool,r=n._previous_tool_timestamp,i&&i!==o&&Date.now()-1e4<r?(t.setSt4te({_previous_tool_timestamp:1/0}),t._set_tool(i)):r<Date.now()&&o.includes("SELECT")&&(t.setSt4te({_previous_tool_timestamp:1/0}),t._set_select_mode("REPLACE")))},this._upload_image=function(e){t._handle_file_upload(e)},this._upload_image_library=function(){t.setSt4te({_library_dialog_open:!0,_library_type:"open"},(function(){t._request_force_update()}))},this._close_library=function(){t.setSt4te({_library_dialog_open:!1},(function(){t._request_force_update()}))},this._from_library=function(e){var a=t.st4te._library_type,n=t.st4te._canvas,o=n.set_canvas_from_image,i=n.import_image_on_canvas,r=new Image;r.src=e,r.onload=function(){"open"===a?(t.setSt4te({_kb:0,_saved_at:1/0},(function(){t._request_force_update()})),o(r)):"import"===a&&i(r,e),t._close_library()}},this._handle_file_upload=(e=o(regeneratorRuntime.mark((function e(a){var n,i,r,l,_,s,d,c,u,m,f,p,h,g,b,v,y,w,x,E,k,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"dataTransfer"in a&&a.dataTransfer.files.length>0&&(a.preventDefault(),a.stopPropagation()),t.st4te._drag_file&&t.setSt4te({_drag_file:0},(function(){t._request_force_update()})),n=(a.target||{}).files||(a.srcElement||{}).files||(a.currentTarget||{}).files||((a.path||[])[0]||{}).files||(a.dataTransfer||{}).files||[],i=n[0]||null,r=null;for(l=0;l<n.length;l++)(r=n[l]).type.startsWith("image/")&&(l=n.length);_=new Rt.FloranceCaptionerAPI(te.default.trigger_snackbar),s=new Rt.LongCaptionerAPI(te.default.trigger_snackbar),d=new Rt.FaceToAllAPI(te.default.trigger_snackbar),c=new Rt.FaceToAllAPI2(te.default.trigger_snackbar),u=new Rt.FaceToAllAPI3(te.default.trigger_snackbar),null===r&&null===i?(te.default.trigger_snackbar("Looks like I can't get your file as something is erroneous.",5700),te.default.jamy_update("angry")):null!==r&&(m=!("image/png"!==r.type),f=m?"image/png":r.type,p=t.st4te,h=p._import_colorize,g=p._import_size,b=t.st4te._canvas.set_canvas_from_image,v=t.st4te.is_mobile_or_tablet?623.5382907247958:881.8163074019441,t.st4te.is_mobile_or_tablet,t.st4te.is_mobile_or_tablet,y=parseInt(v*v),w=Math.min(parseInt(262144),parseInt(g*g)),x=1,E=function(){var e=o(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._handle_load("image_preload"),te.default.trigger_voice("data_upload"),(0,lt.file_to_imagedata_resized)(a,y,(function(e){(0,lt.imagedata_to_base64)(e,f,(function(a){for(;Math.round(e.width*x)*Math.round(e.height*x)>w;)x-=.01;(0,lt.base64_sanitize)(a,(function(e){(0,lt.base64_to_bitmap)(e,(function(e){(0,lt.bitmap_to_imagedata)(e,e.width*e.height|0,(function(e){(0,lt.imagedata_to_base64)(e,"image/png",(function(e){var n=new Image;n.addEventListener("load",(function(){t._handle_load_complete("image_preload",{}),t.setSt4te({_kb:0,_saved_at:1/0}),b(n,a,{},!1),setTimeout((function(){te.default.trigger_snackbar("I am really awesome, here is your pixel art!",5700),setTimeout((function(){te.default.jamy_update("happy")}),2e3)}),1e3)}),{once:!0,capture:!0}),n.src=e}),S.default)}),S.default)}),S.default)}),null,x,"pixelize")}),S.default)}),S.default);case 3:case"end":return e.stop()}}),e,t)})));return function(t){return e.apply(this,arguments)}}(),0===parseInt(h)?E(r).then((function(){})):(k=function(){var e=o(regeneratorRuntime.mark((function e(t){var a,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te.default.jamy_update("angry"),te.default.trigger_voice("processing"),te.default.trigger_loading_update(10),te.default.jamy_update("annoyed",8e3),te.default.trigger_loading_update(20),setTimeout((function(){te.default.jamy_update("annoyed",8e3),te.default.trigger_loading_update(20)}),5e3),e.next=8,_.run(t,1).catch((function(){return s.run(t)}));case 8:return a=e.sent,te.default.trigger_snackbar("IMAGE: "+a,5e3),n=function(e){return te.default.jamy_update("flirty",666),te.default.trigger_loading_update(100),te.default.trigger_snackbar("Receiving results (3 sec)"),te.default.jamy_update("happy",666),te.default.trigger_sfx("alert_high-intensity",1,"md"),te.default.trigger_loading_update(0),te.default.trigger_snackbar("AI Processing [OK]"),C._handle_load_complete("image_ai",{}),C._handle_load("image_preload"),Promise.resolve(e)},o=function(e){return te.default.trigger_loading_update(0),te.default.trigger_snackbar("AI PROCESSING FAILED! Fallback to normal mode."),C._handle_load_complete("image_ai",{}),C._handle_load("image_preload"),Promise.resolve(e)},e.abrupt("return",d.run(t,a).then((function(e){n(e)})).catch((function(){return c.run(t,a).then((function(e){n(e)})).catch((function(){return u.run(t,a).then((function(e){n(e)})).catch((function(){o(t)}))}))})));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),C=t,t._handle_load("image_ai"),k(r).then((function(e){E(e)}))));case 12:case"end":return e.stop()}}),e,t)}))),function(t){return e.apply(this,arguments)}),this._handle_file_import=function(e){var a,n,o,i,r=(e.target||{}).files||(e.srcElement||{}).files||(e.currentTarget||{}).files||((e.path||[])[0]||{}).files||[],l=(r[0],null);for(a=0;a<r.length;a++)(n=r[a]).type.startsWith("image/")&&(l=n);null!==l&&(o=new Image,i=t.st4te._canvas.import_image_on_canvas,(0,lt.file_to_base64)(l,(function(e){o.onload=function(){i(o,e),t._handle_menu_close()},o.src=e}),S.default))},this._import_image_library=function(){t.setSt4te({_library_dialog_open:!0,_library_type:"import"},(function(){t._request_force_update()}))},this._handle_load=function(e){te.default.trigger_loading_update(0),t.setSt4te({_loading:!0,_loading_process:e},(function(){t._request_force_update()})),"image_preload"===e&&(t._handle_edit_drawer_close(),t._handle_menu_close(),t._handle_pixel_dialog_create_close())},this._handle_load_complete=function(e,a){te.default.trigger_loading_update(100),t.setSt4te({_loading:!1,_loading_process:e},(function(){t._request_force_update().then((function(){t.st4te._saved_at>Date.now()-60&&t._backup_state(),t._updated_dimensions()}))})),"less_color"===e||"less_color_auto"===e?0!==a.colors_removed&&(te.default.trigger_snackbar("I am a magician! And "+a.colors_removed+" colors are now gone, only "+a.colors_remaining+" remaining."),te.default.trigger_sfx("navigation_selection-complete-celebration"),te.default.jamy_update("happy")):"image_load"===e&&(a.only_scan?te.default.trigger_sfx("ui_scan"):(te.default.trigger_sfx("ui_scan"),te.default.trigger_snackbar("DONE! We've imported an image with my now "+a.number_of_colors+" colors."),setTimeout((function(){te.default.trigger_voice("complete")}),1e3),te.default.jamy_update("happy"),t._handle_edit_drawer_close(),t._handle_menu_close(),t._handle_pixel_dialog_create_close()))},this._set_ripple_ref=function(e){null!=e&&t.setSt4te({_ripple:e})},this._set_canvas_ref=function(e){null!=e&&t.setSt4te({_canvas:e,_filters:e.get_filter_names()},(function(){t._request_force_update()}))},this._handle_position_change=function(e){var a,n;void 0!==t.st4te._xy_el&&(a=-1===e.x?"out":e.x+1,n=-1===e.y?"out":e.y+1,t.st4te._xy_el.textContent=" | X: "+a+", Y: "+n+" ")},this._handle_fps_change=function(e){void 0!==t.st4te._fps_el&&(t.st4te._fps_el.textContent="FPS: "+e)},this._handle_can_undo_redo_change=function(e,a){e=parseInt(e),a=parseInt(a);var n=!(t.st4te._can_undo===e&&t.st4te._can_redo===a);t.setSt4te({_can_undo:e,_can_redo:a},(function(){n&&t._request_force_update()}))},this._handle_size_change=function(e,a){var n=!(t.st4te._width===e&&t.st4te._height===a);t.setSt4te({_width:e,_height:a},(function(){n&&(t._compute_menu_drawer(),t._request_force_update())}))},this._handle_current_color_change=function(e,a){e=void 0!==e.rgb?qt.new_of(e.rgb.r,e.rgb.g,e.rgb.b,Math.round(parseInt(255*e.rgb.a))).hex:qt.new_hex(e).hex;var n=qt.new_hex(e).hsla[0];t.setSt4te({_current_color:e,_hue:n})},this._handle_relevant_action_event=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffffff",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=t.st4te._ripple;e&&o&&(te.default.trigger_sfx("navigation_selection-complete-celebration"),0!==n&&t.setSt4te({_ripple_color:a,_ripple_opacity:n},(function(){setTimeout((function(){o.start(e)}),25),setTimeout((function(){o.stop(e)}),200)})))},this._handle_something_selected_change=function(e){var a=!(t.st4te._is_something_selected===e);t.setSt4te({_is_something_selected:e},(function(){a&&(t._compute_menu_right_click(),t._request_force_update())}))},this._set_value_from_slider_with_update=function(e,a){t.setSt4te({_slider_value:a||e.target.value},(function(){t._set_props_bypass_this()}))},this._set_width_from_slider=function(e,a){t.setSt4te({_slider_value_width:a||e.target.value},(function(){t._set_props_bypass_this()}))},this._set_height_from_slider=function(e,a){t.setSt4te({_slider_value_height:a||e.target.value},(function(){t._set_props_bypass_this()}))},this._set_import_size=function(e,a){t.setSt4te({_import_size:a||e.target.value})},this._set_import_colorize=function(e,a){t.setSt4te({_import_colorize:a||e.target.value})},this._revert_tool=function(){t.setSt4te({_tool:t.st4te._memory_tool})},this._set_tool=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.setSt4te({_tool:e.toUpperCase()},(function(){t._set_props_bypass_this()})),a&&t.setSt4te({_memory_tool:e.toUpperCase()})},this._set_select_mode=function(e){t.setSt4te({_select_mode:e.toUpperCase()},(function(){t._set_props_bypass_this()}))},this._set_pencil_mirror_mode=function(e){t.setSt4te({_pencil_mirror_mode:e.toUpperCase()},(function(){t._set_props_bypass_this()}))},this._switch_with_second_color=function(){var e=t.st4te,a=e._current_color,n=e._second_color;t.setSt4te({_current_color:n,_second_color:a},(function(){t._set_props_bypass_this()}))},this._show_hide_canvas_content=function(){t.setSt4te({_hide_canvas_content:!t.st4te._hide_canvas_content},(function(){t._set_props_bypass_this(),t.forceUpdate()}))},this._show_hide_background_image=function(){t.setSt4te({_show_original_image_in_background:!t.st4te._show_original_image_in_background},(function(){t._set_props_bypass_this()}))},this._show_hide_transparent_image=function(){t.setSt4te({_show_transparent_image_in_background:!t.st4te._show_transparent_image_in_background},(function(){t._set_props_bypass_this()}))},this._handle_image_import_mode_change=function(e){t.setSt4te({_is_image_import_mode:e},(function(){t._set_props_bypass_this(),t._request_force_update()}))},this._handle_layers_change=function(e,a){t.setSt4te({_previous_layer_index:parseInt(t.st4te._layer_index),_layer_index:parseInt(e),_layers:a},(function(){t._set_props_bypass_this()}))},this._handle_filters_thumbnail_change=function(e,a,n){t.st4te._swipeable_drawer_handle_filters_thumbnail_change(e,a,n)},this._set_filters_callback=function(e){t.setSt4te({_swipeable_drawer_handle_filters_thumbnail_change:e})},this._set_props_callback=function(e){t.setSt4te({_swipeable_drawer_set_props:e},(function(){t._set_props_bypass_this(),t._request_force_update()}))},this._set_props_bypass_this=function(){var e=t.st4te,a=e._view_name_index,n=e._previous_view_name_index,o=e._layers,i=e._layer_index,r=e._hide_canvas_content,l=e._show_original_image_in_background,_=e._show_transparent_image_in_background,s=e._hue,d=e._current_color,c=e._second_color,u=e._slider_value,m=e._tool,f=e._width,p=e._height,h=e._filters,g=e._select_mode,b=e._pencil_mirror_mode,v=e._is_something_selected,y=e._is_image_import_mode,w=e._import_size,x=e._import_colorize,E=e._slider_value_width,k=e._slider_value_height;t.st4te._canvas&&t.st4te._canvas._set_props({tool:m,hide_canvas_content:r,show_original_image_in_background:l&&!0,show_transparent_image_in_background:_,select_mode:g,pencil_mirror_mode:b,hue:s,bucket_threshold:u,color_loss:u,pxl_current_color:d,default_size:w,ideal_size:w,max_size:1.5*w}),t.st4te._swipeable_drawer_set_props({view_name_index:a%7,previous_view_name_index:n%7,layers:o,layer_index:i,hide_canvas_content:r,show_original_image_in_background:l,show_transparent_image_in_background:_,hue:s,current_color:d,second_color:c,slider_value:parseFloat(u),slider_value_width:E,slider_value_height:k,tool:m,width:parseInt(f),height:parseInt(p),filters:h,select_mode:g,pencil_mirror_mode:b,is_something_selected:v,is_image_import_mode:y,import_size:w,import_colorize:x})},this._handle_game_end=function(){t.setSt4te({_game_ended:!0},(function(){setTimeout((function(){t.setSt4te({_game_ended:!1})}),5e3)}))},this._handle_edit_drawer_open=function(e,a){var n,o,i,r,l,_,s;a=void 0!==a?a:t.st4te._view_name_index,n=!(t.st4te._view_name_index!==a)&&t.st4te._is_edit_drawer_open,o=t.st4te._toolbox_container_ref,i=!0,r=void 0,n&&null!==o?(l="swipetoolbox_i_"+a+"_"+(r=t.st4te._view_name_sub_index||0),r++,null!==(_=(document.getElementsByClassName(l)||[])[0]||null)?o.scrollTop=_.offsetTop:(r=0,o.scrollTop=0)):(r=0,o.scrollTop=0),s=!(t.st4te._is_edit_drawer_open===i&&t.st4te._view_name_index===a),t.setSt4te({_is_edit_drawer_open:i,_view_name_index:a,_view_name_sub_index:r},(function(){s&&(t._compute_menu_drawer(),t._request_force_update())}))},this._handle_edit_drawer_close=function(){var e=!!t.st4te._is_edit_drawer_open;t.setSt4te({_is_edit_drawer_open:!1},(function(){e&&(t._compute_menu_drawer(),t._request_force_update())}))},this._set_current_color=function(e){t._handle_menu_close(),t.setSt4te({_current_color:e},(function(){t._set_props_bypass_this()}))},this._exchange_pixel_colors=function(e,a,n){var o=t.st4te._canvas.exchange_pixel_color,i=t.st4te._menu_data;o(e,a,n),i.pxl_color=n,t._handle_menu_close(),t.setSt4te({_menu_data:i})},this._to_auto_medium_more_contrast=function(){(0,t.st4te._canvas.auto_adjust_contrast)(.2),te.default.trigger_voice("enhanced")},this._to_auto_medium_more_saturation=function(){(0,t.st4te._canvas.auto_adjust_saturation)(.2),te.default.trigger_voice("enhanced")},this._less_colors_auto=function(){var e=t.st4te,a=e._layers,n=e._layer_index,o=t.st4te._canvas.to_less_color;te.default.trigger_voice("please_wait"),(a[n]||{}).number_of_colors,o("auto")},this._get_average_color_of_selection=function(){var e=(0,t.st4te._canvas.get_average_color_of_selection)();t._handle_current_color_change(e)},this._handle_pixel_dialog_create_close=function(){t.setSt4te({_is_pixel_dialog_create_open:!1,_attachment_previews:{}},(function(){t._request_force_update()}))},this._handle_pixel_dialog_create_open=function(){!1===t.st4te._is_pixel_dialog_create_open&&te.default.trigger_sfx("hero_decorative-celebration-02"),ge.default.get_settings(t._process_settings_info_result),setTimeout((function(){t.setSt4te({_is_pixel_dialog_create_open:!0},(function(){t._request_force_update()}))}),725)},this._set_toolbox_container_ref=function(e){null!=e&&t.setSt4te({_toolbox_container_ref:e})},this._set_root_ref=function(e){null!=e&&t.setSt4te({_root_ref:e},(function(){t.st4te._root_ref.addEventListener("drop",t._handle_file_upload,{capture:!0}),t.st4te._root_ref.addEventListener("dragenter",t._drop_start),t.st4te._root_ref.addEventListener("dragover",t._drop_start),t.st4te._root_ref.addEventListener("dragleave",t._drop_end)}))},this._drop_start=function(e){e.preventDefault(),e.stopPropagation(),t.setSt4te({_drag_file:Date.now()},(function(){t._request_force_update()}))},this._drop_end=function(e){e.preventDefault(),e.stopPropagation(),t.st4te._drag_file&&t.setSt4te({_drag_file:0},(function(){t._request_force_update()}))},this._scroll_to_drawer=function(e){var a,n,o,i;if((""+e).startsWith("swipetoolbox_i_"))a=(document.getElementsByClassName(e)||[])[0]||null,t.st4te._toolbox_container_ref.scrollTop=null!==a?a.offsetTop:0;else{for(n=t.st4te._toolbox_container_ref.scrollTop,o=(document.getElementsByClassName("swipetoolbox_i_"+t.st4te._view_name_index+"_0")||[])[0]||{},i=1;o;){if(!(n>o.offsetTop)){o=(document.getElementsByClassName("swipetoolbox_i_"+t.st4te._view_name_index+"_"+(i-1+e))||[])[0]||{};break}o=(document.getElementsByClassName("swipetoolbox_i_"+t.st4te._view_name_index+"_"+i++)||[])[0]||{}}t.st4te._toolbox_container_ref.scrollTop=o.offsetTop||0}},this._toggle_perspective=function(){var e=!t.st4te._perspective;e?(te.default.trigger_voice("vision_activated"),t._set_tool("MOVE",!1)):(te.default.trigger_voice("vision_deactivated"),t._revert_tool()),t.setSt4te({_perspective:e},(function(){t._request_force_update()}))},this._smooth_adjust=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,t.st4te._canvas.smooth_adjust)(e)},this._close_text=function(){t.setSt4te({_text_dialog_open:!1},(function(){t._request_force_update()}))},this._open_text=function(){t.setSt4te({_text_dialog_open:!0},(function(){t._request_force_update()}))},this._draw_text=function(e,a){t._close_text(),(0,t.st4te._canvas.write_text)(e,a)},this._resume_video=function(){try{document.getElementById("labintro-video").play()}catch(e){}},this._compute_menu_right_click=function(){var e=t.st4te,a=e.classes,n=e._canvas,o=e._current_color,i=e._tool,r=e._width,l=e._height,_=e._pencil_mirror_mode,s=e._is_something_selected,d=e._menu_mouse_y,c=e._menu_mouse_x,u=e._menu_data,m=e._menu_event;u.pos_x=-1===u.pos_x?"out":u.pos_x,u.pos_y=-1===u.pos_y?"out":u.pos_y,t.menu=p.default.createElement(K.default,{className:a.contextMenuFuckYouDisable,PaperProps:{style:{maxHeight:380,width:240,overflowY:"overlay",contain:"paint style layout",scrollBehavior:"smooth",userSelect:"none",pointerEvents:d||c?"all":"none"}},onContextMenu:function(e){e.preventDefault()},MenuListProps:{dense:!0},transitionDuration:{enter:125,exit:250},open:!!d||!!c,onClose:t._handle_menu_close,disablePortal:!1,keepMounted:!0,anchorReference:"anchorPosition",anchorPosition:{top:0|d,left:0|c}},p.default.createElement("span",{style:{textAlign:"left",padding:"12px 8px",color:"#666"}},"X: ",u.pos_x,", Y: ",u.pos_y),p.default.createElement("div",{style:"SET PENCIL MIRROR"===i||"NONE"!==_?{}:{display:"none"}},p.default.createElement(U.default,{className:a.contextMenuSubheader},"Tools"),p.default.createElement(T.default,{button:!0,divider:!0,disabled:"PENCIL"===i,onClick:function(){t._set_tool("PENCIL")}},p.default.createElement(Z.default,null,p.default.createElement(Ve.default,null)),p.default.createElement(X.default,{primary:"Pencil"})),p.default.createElement(T.default,{button:!0,divider:!0,disabled:"PENCIL PERFECT"===i,onClick:function(){t._set_tool("PENCIL PERFECT")}},p.default.createElement(Z.default,null,p.default.createElement(Ye.default,null)),p.default.createElement(X.default,{primary:"Pencil perfect"})),p.default.createElement(U.default,{className:a.contextMenuSubheader},"Mirror mode"),[{icon:p.default.createElement(qe.default,null),disabled:"NONE"===_,text:"None",on_click:function(){t._set_pencil_mirror_mode("NONE")}},{icon:p.default.createElement(qe.default,null),disabled:"VERTICAL"===_,text:"Vertical",on_click:function(){t._set_pencil_mirror_mode("VERTICAL")}},{icon:p.default.createElement(qe.default,null),disabled:"HORIZONTAL"===_,text:"Horizontal",on_click:function(){t._set_pencil_mirror_mode("HORIZONTAL")}},{icon:p.default.createElement(qe.default,null),disabled:"BOTH"===_,text:"Both",on_click:function(){t._set_pencil_mirror_mode("BOTH")}}].map((function(e){return p.default.createElement(T.default,{key:e.text,button:!0,divider:!0,disabled:e.disabled,onClick:e.on_click},p.default.createElement(Z.default,null,e.icon),p.default.createElement(X.default,{primary:e.text}))}))),p.default.createElement("div",{style:s?{}:{display:"none"}},p.default.createElement(U.default,{className:a.contextMenuSubheader},"Apply to selection"),[{icon:p.default.createElement($e.default,null),text:"Unselect",on_click:function(){n.to_selection_none()}},{icon:p.default.createElement(Ne.default,null),text:"Colorize dynamical",on_click:function(){n.to_selection_changes(o,!1)}},{icon:p.default.createElement(Ge.default,null),text:"Get average color",on_click:function(){t._get_average_color_of_selection()}},{icon:p.default.createElement(Ce.default,null),text:"Shrink",on_click:function(){n.to_selection_size(-1)}},{icon:p.default.createElement(Ce.default,null),text:"Grow",on_click:function(){n.to_selection_size(1)}},{icon:p.default.createElement(Ie.default,null),text:"Border",on_click:function(){n.to_selection_border()}},{icon:p.default.createElement(Ne.default,null),text:"Bucket",on_click:function(){n.to_selection_bucket()}},{icon:p.default.createElement(Ce.default,null),text:"Crop",on_click:function(){n.to_selection_crop()}},{icon:p.default.createElement(Oe.default,null),text:"Invert",on_click:function(){n.to_selection_invert()}},{icon:p.default.createElement(Pe.default,null),text:"Copy",on_click:function(){n.copy_selection()}},{icon:p.default.createElement(je.default,null),text:"Cut",on_click:function(){n.cut_selection()}},{icon:p.default.createElement(Be.default,null),text:"Erase",on_click:function(){n.erase_selection()}}].map((function(e){return p.default.createElement(T.default,{key:e.text,button:!0,divider:!0,onClick:e.on_click},p.default.createElement(Z.default,null,e.icon),p.default.createElement(X.default,{primary:e.text}))}))),p.default.createElement(U.default,{style:null===u.pxl_color?{display:"none"}:{},className:a.contextMenuSubheader},"Color"),p.default.createElement(T.default,{button:!0,divider:!0,style:null===u.pxl_color?{display:"none"}:{},disabled:u.pxl_color===o||null===u.pxl_color,onClick:function(e){t._set_current_color(u.pxl_color),t._handle_relevant_action_event(m,u.pxl_color,1,!0)}},p.default.createElement(Z.default,null,p.default.createElement(ie.default,{style:{color:u.pxl_color,background:"repeating-conic-gradient(#80808055 0% 25%, #00000000 0% 50%) 50% / calc(200% / "+r+") calc(200% / "+l+")"}})),p.default.createElement(X.default,{primary:"Pick color"})),p.default.createElement(T.default,{button:!0,divider:!0,style:null===u.pxl_color?{display:"none"}:{},disabled:u.pxl_color===o||null===u.pxl_color,onClick:function(e){t._exchange_pixel_colors(u.pos_x,u.pos_y,o+""),t._handle_relevant_action_event(m,o,1,!0)}},p.default.createElement(Z.default,null,p.default.createElement(ie.default,{style:{color:o,background:"repeating-conic-gradient(#80808055 0% 25%, #00000000 0% 50%) 50% / calc(200% / "+r+") calc(200% / "+l+")"}})),p.default.createElement(X.default,{primary:"Replace color"})),p.default.createElement(U.default,{className:a.contextMenuSubheader},"Effect"),p.default.createElement(T.default,{button:!0,divider:!0,onClick:function(e){return t._to_auto_medium_more_contrast()}},p.default.createElement(Z.default,null,p.default.createElement(ve.default,null)),p.default.createElement(X.default,{primary:"Increase contrast"})),p.default.createElement(T.default,{button:!0,divider:!0,onClick:function(e){return t._to_auto_medium_more_saturation()}},p.default.createElement(Z.default,null,p.default.createElement(ve.default,null)),p.default.createElement(X.default,{primary:"Increase saturation"})),p.default.createElement(T.default,{button:!0,divider:!0,onClick:function(e){return t._handle_edit_drawer_open(null,6)}},p.default.createElement(Z.default,null,p.default.createElement(ne.default,null)),p.default.createElement(X.default,{primary:"Add a filter"})),p.default.createElement(T.default,{button:!0,divider:!0,onClick:function(e){n._to_less_color("0.9")}},p.default.createElement(Z.default,null,p.default.createElement(we.default,null)),p.default.createElement(X.default,{primary:"Remove 10% of all colors"})),p.default.createElement(T.default,{button:!0,divider:!0,onClick:t._less_colors_auto},p.default.createElement(Z.default,null,p.default.createElement(we.default,null)),p.default.createElement(X.default,{primary:"Remove automatically some colors"})),p.default.createElement(T.default,{button:!0,divider:!0,onClick:function(e){return t._smooth_adjust(1)}},p.default.createElement(Z.default,null,p.default.createElement(Ee.default,null)),p.default.createElement(X.default,{primary:"Smooth a bit"})))},this._compute_menu_drawer=function(){var e=t.st4te,a=e.classes,n=e._canvas,o=e._view_name_index,i=e._previous_view_name_index,r=e._view_names,l=e._layers,_=e._layer_index,s=e._is_image_import_mode,d=e._hide_canvas_content,c=e._show_original_image_in_background,u=e._show_transparent_image_in_background,m=e._can_undo,f=e._can_redo,h=e._current_color,g=e._second_color,b=e._slider_value,v=e._tool,y=e._width,w=e._height,x=e._import_size,E=e._import_colorize,k=e._hue,C=e._filters,S=e._select_mode,I=e._pencil_mirror_mode,T=e._is_something_selected,N=e._is_edit_drawer_open,O=e._menu_data,M=e._less_than_1280w,P=e._slider_value_width,D=e._slider_value_height,j=e.is_mobile_or_tablet;O.pos_x=-1===O.pos_x?"out":O.pos_x,O.pos_y=-1===O.pos_y?"out":O.pos_y,M?t.drawer_mobile=p.default.createElement(p.default.Fragment,null,p.default.createElement(L.default,{className:a.contentDrawer,disableBackdropTransition:!1,disableSwipeToOpen:!1,disableDiscovery:!1,disablePortal:!0,keepMounted:!0,hysteresis:.314,minFlingVelocity:314,swipeAreaWidth:128,open:!!N,onOpen:t._handle_edit_drawer_open,onClose:t._handle_edit_drawer_close,classes:{paper:a.swipeableDrawerPaper,modal:a.drawerModal},transitionDuration:{appear:5,enter:50,exit:75},ModalProps:{disablePortal:!0,BackdropProps:{classes:{root:a.drawerModalBackdropRoot}}},variant:"temporary",anchor:"bottom",style:{pointerEvents:"all"}},p.default.createElement("div",{className:a.mobileintrovideowrapper},p.default.createElement("video",{className:a.mobileintrovideo,id:"labintro-video",width:"56",height:"56",onClick:t._resume_video,style:{aspectRatio:"1",transform:"translateZ(10px)"}},p.default.createElement("source",{src:"/src/videos/labintro.mp4",type:"video/mp4"}))),p.default.createElement(le.default,{onClick:t._handle_edit_drawer_close}),p.default.createElement("div",{style:{display:"grid",contain:"layout paint style"}},p.default.createElement("div",{style:{boxShadow:"rgb(0 0 0 / 20%) 0px 2px 4px -1px, rgb(0 0 0 / 14%) 0px 4px 5px 0px, rgb(0 0 0 / 12%) 0px 1px 10px 0px",zIndex:1}},p.default.createElement("div",{className:a.drawerHeader},p.default.createElement(z.default,{className:a.effectSliderText,id:"strength-slider",gutterBottom:!0},"Effect strength :"),p.default.createElement(A.default,{key:"slider-"+(255*b|0),className:a.effectSlider,defaultValue:parseFloat(b),step:1/255,min:0,max:1,onChangeCommitted:t._set_value_from_slider_with_update,"aria-labelledby":"strength-slider"}))),p.default.createElement("div",{className:a.drawerContainer,ref:t._set_toolbox_container_ref},p.default.createElement(me.default,{should_update:N,slider_value_width:P,slider_value_height:D,onActionClose:t._handle_edit_drawer_close,canvas:n,is_mobile:j,view_class:a.listOfTools,view_names:r,is_image_import_mode:s,can_undo:m,can_redo:f,view_name_index:o,previous_view_name_index:i,layers:l,layer_index:_,hide_canvas_content:d,show_original_image_in_background:c,show_transparent_image_in_background:u,hue:k,current_color:h,second_color:g,slider_value:b,tool:v,width:parseInt(y),height:parseInt(w),filters:C,select_mode:S,pencil_mirror_mode:I,is_something_selected:T,import_size:x,import_colorize:E,set_filters_callback:t._set_filters_callback,set_props_callback:t._set_props_callback,set_tool:t._set_tool,set_select_mode:t._set_select_mode,set_pencil_mirror_mode:t._set_pencil_mirror_mode,set_width_from_slider:t._set_width_from_slider,set_height_from_slider:t._set_height_from_slider,set_import_size:t._set_import_size,set_import_colorize:t._set_import_colorize,switch_with_second_color:t._switch_with_second_color,show_hide_canvas_content:t._show_hide_canvas_content,show_hide_background_image:t._show_hide_background_image,show_hide_transparent_image:t._show_hide_transparent_image,on_current_color_change:t._handle_current_color_change,on_view_name_change:t._handle_view_name_change,on_upload_image:function(e){window.dispatchEvent(new Event("art-upload-drawer")),t._upload_image(e)},on_upload_image_library:t._upload_image_library,on_import_image:function(e){window.dispatchEvent(new Event("art-import-drawer")),t._handle_file_import(e)},on_import_image_library:t._import_image_library,on_request_draw_text:t._open_text,on_download_image:t._download_image,on_download_svg:t._download_svg,on_scroll_to:t._scroll_to_drawer})))),p.default.createElement("div",{className:a.fatabs,style:N&&M?{transform:"translateY(24px)",backgroundColor:"#fff"}:{}},p.default.createElement(F.default,{className:a.tabs,style:{pointerEvents:"all"},variant:"fullWidth",scrollButtons:"off",indicatorColor:"primary",textColor:"primary",selectionFollowsFocus:!0,value:o,onChange:t._handle_edit_drawer_open},p.default.createElement(H.default,{className:a.tab,label:"colors",icon:p.default.createElement(dt.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"image",icon:p.default.createElement(ut.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"layers",icon:p.default.createElement(ft.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"tools",icon:p.default.createElement(ht.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"select",icon:p.default.createElement(bt.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"effects",icon:p.default.createElement(yt.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"filters",icon:p.default.createElement(xt.default,null)})))):t.drawer_desktop=p.default.createElement(R.default,{className:a.contentDrawerFixed,variant:"permanent",anchor:"right",classes:{paper:a.drawerPaper}},p.default.createElement("div",{style:{display:"contents",pointerEvents:"all"}},p.default.createElement("div",{style:{boxShadow:"rgb(0 0 0 / 20%) 0px 2px 4px -1px, rgb(0 0 0 / 14%) 0px 4px 5px 0px, rgb(0 0 0 / 12%) 0px 1px 10px 0px",zIndex:1}},p.default.createElement("div",{className:a.drawerHeader},p.default.createElement("div",{className:a.desktopintrovideowrapper},p.default.createElement("video",{className:a.desktopintrovideo,id:"labintro-video",width:"56",height:"56",onClick:t._resume_video,style:{aspectRatio:"1",transform:"translateZ(10px)"}},p.default.createElement("source",{src:"/src/videos/labintro.mp4",type:"video/mp4"}))),p.default.createElement("span",{className:a.coordinate},p.default.createElement("span",{id:"fps_el"},"FPS: 0"),p.default.createElement("span",{id:"xy_el"}," | X: out, Y: out ")),p.default.createElement(z.default,{className:a.effectSliderText,id:"strength-slider",gutterBottom:!0},"Effect strength :"),p.default.createElement(A.default,{key:"slider-"+(255*b|0),defaultValue:parseFloat(b),className:a.effectSlider,step:1/255,min:0,max:1,onChangeCommitted:t._set_value_from_slider_with_update,"aria-labelledby":"strength-slider"})),p.default.createElement(F.default,{id:"tabs-desktop",className:a.tabs,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",selectionFollowsFocus:!1,value:o,onChange:function(e,a){t._handle_view_name_change(a)}},p.default.createElement(H.default,{className:a.tab,label:"colors",icon:p.default.createElement(dt.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"image",icon:p.default.createElement(ut.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"layers",icon:p.default.createElement(ft.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"tools",icon:p.default.createElement(ht.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"select",icon:p.default.createElement(bt.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"effects",icon:p.default.createElement(yt.default,null)}),p.default.createElement(H.default,{className:a.tab,label:"filters",icon:p.default.createElement(xt.default,null)}))),p.default.createElement("div",{className:a.drawerContainer,ref:t._set_toolbox_container_ref},p.default.createElement(me.default,{should_update:!j,slider_value_width:P,slider_value_height:D,canvas:n,view_class:a.listOfTools,is_mobile:j,view_names:r,is_image_import_mode:s,can_undo:m,can_redo:f,view_name_index:o,previous_view_name_index:i,layers:l,layer_index:_,hide_canvas_content:d,show_original_image_in_background:c,show_transparent_image_in_background:u,hue:k,current_color:h,second_color:g,slider_value:b,tool:v,width:parseInt(y),height:parseInt(w),filters:C,select_mode:S,pencil_mirror_mode:I,is_something_selected:T,import_size:x,import_colorize:E,set_filters_callback:t._set_filters_callback,set_props_callback:t._set_props_callback,set_tool:t._set_tool,set_select_mode:t._set_select_mode,set_pencil_mirror_mode:t._set_pencil_mirror_mode,set_width_from_slider:t._set_width_from_slider,set_height_from_slider:t._set_height_from_slider,set_import_size:t._set_import_size,set_import_colorize:t._set_import_colorize,switch_with_second_color:t._switch_with_second_color,show_hide_canvas_content:t._show_hide_canvas_content,show_hide_background_image:t._show_hide_background_image,show_hide_transparent_image:t._show_hide_transparent_image,on_current_color_change:t._handle_current_color_change,on_view_name_change:t._handle_view_name_change,on_upload_image:function(e){window.dispatchEvent(new Event("art-upload-drawer")),t._upload_image(e)},on_upload_image_library:t._upload_image_library,on_import_image:t._handle_file_import,on_import_image_library:t._import_image_library,on_request_draw_text:t._open_text,on_download_image:t._download_image,on_download_svg:t._download_svg,on_scroll_to:t._scroll_to_drawer}))))}},t.default=(0,k.default)(Ht)(Vt)}}]);